var sp=e=>{throw TypeError(e)};var bu=(e,t,n)=>t.has(e)||sp("Cannot "+n);var $=(e,t,n)=>(bu(e,t,"read from private field"),n?n.call(e):t.get(e)),Ee=(e,t,n)=>t.has(e)?sp("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),fe=(e,t,n,r)=>(bu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ct=(e,t,n)=>(bu(e,t,"access private method"),n);var Da=(e,t,n,r)=>({set _(s){fe(e,t,s,n)},get _(){return $(e,t,r)}});function Y1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var rn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function G1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var qv={exports:{}},gc={},Yv={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=Symbol.for("react.element"),K1=Symbol.for("react.portal"),Q1=Symbol.for("react.fragment"),J1=Symbol.for("react.strict_mode"),X1=Symbol.for("react.profiler"),Z1=Symbol.for("react.provider"),e_=Symbol.for("react.context"),t_=Symbol.for("react.forward_ref"),n_=Symbol.for("react.suspense"),r_=Symbol.for("react.memo"),s_=Symbol.for("react.lazy"),op=Symbol.iterator;function o_(e){return e===null||typeof e!="object"?null:(e=op&&e[op]||e["@@iterator"],typeof e=="function"?e:null)}var Gv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kv=Object.assign,Qv={};function Vo(e,t,n){this.props=e,this.context=t,this.refs=Qv,this.updater=n||Gv}Vo.prototype.isReactComponent={};Vo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jv(){}Jv.prototype=Vo.prototype;function eh(e,t,n){this.props=e,this.context=t,this.refs=Qv,this.updater=n||Gv}var th=eh.prototype=new Jv;th.constructor=eh;Kv(th,Vo.prototype);th.isPureReactComponent=!0;var ip=Array.isArray,Xv=Object.prototype.hasOwnProperty,nh={current:null},Zv={key:!0,ref:!0,__self:!0,__source:!0};function ey(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Xv.call(t,r)&&!Zv.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:fa,type:e,key:o,ref:i,props:s,_owner:nh.current}}function i_(e,t){return{$$typeof:fa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rh(e){return typeof e=="object"&&e!==null&&e.$$typeof===fa}function a_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ap=/\/+/g;function Su(e,t){return typeof e=="object"&&e!==null&&e.key!=null?a_(""+e.key):t.toString(36)}function dl(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case fa:case K1:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Su(i,0):r,ip(s)?(n="",e!=null&&(n=e.replace(ap,"$&/")+"/"),dl(s,t,n,"",function(u){return u})):s!=null&&(rh(s)&&(s=i_(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(ap,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",ip(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+Su(o,a);i+=dl(o,t,n,c,s)}else if(c=o_(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+Su(o,a++),i+=dl(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Aa(e,t,n){if(e==null)return e;var r=[],s=0;return dl(e,r,"","",function(o){return t.call(n,o,s++)}),r}function l_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},fl={transition:null},c_={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:fl,ReactCurrentOwner:nh};function ty(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Aa,forEach:function(e,t,n){Aa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Aa(e,function(){t++}),t},toArray:function(e){return Aa(e,function(t){return t})||[]},only:function(e){if(!rh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=Vo;me.Fragment=Q1;me.Profiler=X1;me.PureComponent=eh;me.StrictMode=J1;me.Suspense=n_;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c_;me.act=ty;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Kv({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=nh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Xv.call(t,c)&&!Zv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fa,type:e.type,key:s,ref:o,props:r,_owner:i}};me.createContext=function(e){return e={$$typeof:e_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Z1,_context:e},e.Consumer=e};me.createElement=ey;me.createFactory=function(e){var t=ey.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:t_,render:e}};me.isValidElement=rh;me.lazy=function(e){return{$$typeof:s_,_payload:{_status:-1,_result:e},_init:l_}};me.memo=function(e,t){return{$$typeof:r_,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=fl.transition;fl.transition={};try{e()}finally{fl.transition=t}};me.unstable_act=ty;me.useCallback=function(e,t){return Et.current.useCallback(e,t)};me.useContext=function(e){return Et.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};me.useEffect=function(e,t){return Et.current.useEffect(e,t)};me.useId=function(){return Et.current.useId()};me.useImperativeHandle=function(e,t,n){return Et.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return Et.current.useMemo(e,t)};me.useReducer=function(e,t,n){return Et.current.useReducer(e,t,n)};me.useRef=function(e){return Et.current.useRef(e)};me.useState=function(e){return Et.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return Et.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return Et.current.useTransition()};me.version="18.3.1";Yv.exports=me;var m=Yv.exports;const G=Vv(m),ny=Y1({__proto__:null,default:G},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_=m,d_=Symbol.for("react.element"),f_=Symbol.for("react.fragment"),h_=Object.prototype.hasOwnProperty,m_=u_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p_={key:!0,ref:!0,__self:!0,__source:!0};function ry(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)h_.call(t,r)&&!p_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:d_,type:e,key:o,ref:i,props:s,_owner:m_.current}}gc.Fragment=f_;gc.jsx=ry;gc.jsxs=ry;qv.exports=gc;var l=qv.exports,sy={exports:{}},Yt={},oy={exports:{}},iy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,A){var F=E.length;E.push(A);e:for(;0<F;){var L=F-1>>>1,B=E[L];if(0<s(B,A))E[L]=A,E[F]=B,F=L;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var A=E[0],F=E.pop();if(F!==A){E[0]=F;e:for(var L=0,B=E.length,z=B>>>1;L<z;){var te=2*(L+1)-1,ge=E[te],ne=te+1,M=E[ne];if(0>s(ge,F))ne<B&&0>s(M,ge)?(E[L]=M,E[ne]=F,L=ne):(E[L]=ge,E[te]=F,L=te);else if(ne<B&&0>s(M,F))E[L]=M,E[ne]=F,L=ne;else break e}}return A}function s(E,A){var F=E.sortIndex-A.sortIndex;return F!==0?F:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,h=3,g=!1,w=!1,p=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(E){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=E)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function S(E){if(p=!1,x(E),!w)if(n(c)!==null)w=!0,T(_);else{var A=n(u);A!==null&&P(S,A.startTime-E)}}function _(E,A){w=!1,p&&(p=!1,y(j),j=-1),g=!0;var F=h;try{for(x(A),f=n(c);f!==null&&(!(f.expirationTime>A)||E&&!Y());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var B=L(f.expirationTime<=A);A=e.unstable_now(),typeof B=="function"?f.callback=B:f===n(c)&&r(c),x(A)}else r(c);f=n(c)}if(f!==null)var z=!0;else{var te=n(u);te!==null&&P(S,te.startTime-A),z=!1}return z}finally{f=null,h=F,g=!1}}var C=!1,N=null,j=-1,D=5,O=-1;function Y(){return!(e.unstable_now()-O<D)}function W(){if(N!==null){var E=e.unstable_now();O=E;var A=!0;try{A=N(!0,E)}finally{A?I():(C=!1,N=null)}}else C=!1}var I;if(typeof v=="function")I=function(){v(W)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,R=k.port2;k.port1.onmessage=W,I=function(){R.postMessage(null)}}else I=function(){b(W,0)};function T(E){N=E,C||(C=!0,I())}function P(E,A){j=b(function(){E(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,T(_))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var A=3;break;default:A=h}var F=h;h=A;try{return E()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var F=h;h=E;try{return A()}finally{h=F}},e.unstable_scheduleCallback=function(E,A,F){var L=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?L+F:L):F=L,E){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=F+B,E={id:d++,callback:A,priorityLevel:E,startTime:F,expirationTime:B,sortIndex:-1},F>L?(E.sortIndex=F,t(u,E),n(c)===null&&E===n(u)&&(p?(y(j),j=-1):p=!0,P(S,F-L))):(E.sortIndex=B,t(c,E),w||g||(w=!0,T(_))),E},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(E){var A=h;return function(){var F=h;h=A;try{return E.apply(this,arguments)}finally{h=F}}}})(iy);oy.exports=iy;var g_=oy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_=m,Vt=g_;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ay=new Set,$i={};function Rs(e,t){Ro(e,t),Ro(e+"Capture",t)}function Ro(e,t){for($i[e]=t,e=0;e<t.length;e++)ay.add(t[e])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_d=Object.prototype.hasOwnProperty,y_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lp={},cp={};function x_(e){return _d.call(cp,e)?!0:_d.call(lp,e)?!1:y_.test(e)?cp[e]=!0:(lp[e]=!0,!1)}function w_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b_(e,t,n,r){if(t===null||typeof t>"u"||w_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){at[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];at[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){at[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){at[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){at[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){at[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){at[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){at[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){at[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var sh=/[\-:]([a-z])/g;function oh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sh,oh);at[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sh,oh);at[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sh,oh);at[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){at[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});at.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){at[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function ih(e,t,n,r){var s=at.hasOwnProperty(t)?at[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b_(t,n,s,r)&&(n=null),r||s===null?x_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cr=v_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ia=Symbol.for("react.element"),Qs=Symbol.for("react.portal"),Js=Symbol.for("react.fragment"),ah=Symbol.for("react.strict_mode"),Ed=Symbol.for("react.profiler"),ly=Symbol.for("react.provider"),cy=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),Cd=Symbol.for("react.suspense"),Nd=Symbol.for("react.suspense_list"),ch=Symbol.for("react.memo"),yr=Symbol.for("react.lazy"),uy=Symbol.for("react.offscreen"),up=Symbol.iterator;function si(e){return e===null||typeof e!="object"?null:(e=up&&e[up]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,_u;function vi(e){if(_u===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_u=t&&t[1]||""}return`
`+_u+e}var Eu=!1;function Cu(e,t){if(!e||Eu)return"";Eu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{Eu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vi(e):""}function S_(e){switch(e.tag){case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 2:case 15:return e=Cu(e.type,!1),e;case 11:return e=Cu(e.type.render,!1),e;case 1:return e=Cu(e.type,!0),e;default:return""}}function jd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Js:return"Fragment";case Qs:return"Portal";case Ed:return"Profiler";case ah:return"StrictMode";case Cd:return"Suspense";case Nd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cy:return(e.displayName||"Context")+".Consumer";case ly:return(e._context.displayName||"Context")+".Provider";case lh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ch:return t=e.displayName||null,t!==null?t:jd(e.type)||"Memo";case yr:t=e._payload,e=e._init;try{return jd(e(t))}catch{}}return null}function __(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jd(t);case 8:return t===ah?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function E_(e){var t=dy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ma(e){e._valueTracker||(e._valueTracker=E_(e))}function fy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kd(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Br(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hy(e,t){t=t.checked,t!=null&&ih(e,"checked",t,!1)}function Td(e,t){hy(e,t);var n=Br(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Pd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pd(e,t.type,Br(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Pd(e,t,n){(t!=="number"||Tl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var yi=Array.isArray;function lo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Br(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Rd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(V(92));if(yi(n)){if(1<n.length)throw Error(V(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Br(n)}}function my(e,t){var n=Br(t.value),r=Br(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function py(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Od(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?py(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var La,gy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(La=La||document.createElement("div"),La.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=La.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C_=["Webkit","ms","Moz","O"];Object.keys(Ei).forEach(function(e){C_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ei[t]=Ei[e]})});function vy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ei.hasOwnProperty(e)&&Ei[e]?(""+t).trim():t+"px"}function yy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var N_=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dd(e,t){if(t){if(N_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function Ad(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Id=null;function uh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Md=null,co=null,uo=null;function pp(e){if(e=pa(e)){if(typeof Md!="function")throw Error(V(280));var t=e.stateNode;t&&(t=bc(t),Md(e.stateNode,e.type,t))}}function xy(e){co?uo?uo.push(e):uo=[e]:co=e}function wy(){if(co){var e=co,t=uo;if(uo=co=null,pp(e),t)for(e=0;e<t.length;e++)pp(t[e])}}function by(e,t){return e(t)}function Sy(){}var Nu=!1;function _y(e,t,n){if(Nu)return e(t,n);Nu=!0;try{return by(e,t,n)}finally{Nu=!1,(co!==null||uo!==null)&&(Sy(),wy())}}function Ui(e,t){var n=e.stateNode;if(n===null)return null;var r=bc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(V(231,t,typeof n));return n}var Ld=!1;if(rr)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){Ld=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{Ld=!1}function j_(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ci=!1,Pl=null,Rl=!1,$d=null,k_={onError:function(e){Ci=!0,Pl=e}};function T_(e,t,n,r,s,o,i,a,c){Ci=!1,Pl=null,j_.apply(k_,arguments)}function P_(e,t,n,r,s,o,i,a,c){if(T_.apply(this,arguments),Ci){if(Ci){var u=Pl;Ci=!1,Pl=null}else throw Error(V(198));Rl||(Rl=!0,$d=u)}}function Os(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ey(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gp(e){if(Os(e)!==e)throw Error(V(188))}function R_(e){var t=e.alternate;if(!t){if(t=Os(e),t===null)throw Error(V(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return gp(s),e;if(o===r)return gp(s),t;o=o.sibling}throw Error(V(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(V(189))}}if(n.alternate!==r)throw Error(V(190))}if(n.tag!==3)throw Error(V(188));return n.stateNode.current===n?e:t}function Cy(e){return e=R_(e),e!==null?Ny(e):null}function Ny(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ny(e);if(t!==null)return t;e=e.sibling}return null}var jy=Vt.unstable_scheduleCallback,vp=Vt.unstable_cancelCallback,O_=Vt.unstable_shouldYield,D_=Vt.unstable_requestPaint,Ge=Vt.unstable_now,A_=Vt.unstable_getCurrentPriorityLevel,dh=Vt.unstable_ImmediatePriority,ky=Vt.unstable_UserBlockingPriority,Ol=Vt.unstable_NormalPriority,I_=Vt.unstable_LowPriority,Ty=Vt.unstable_IdlePriority,vc=null,Ln=null;function M_(e){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(vc,e,void 0,(e.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:F_,L_=Math.log,$_=Math.LN2;function F_(e){return e>>>=0,e===0?32:31-(L_(e)/$_|0)|0}var $a=64,Fa=4194304;function xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=xi(a):(o&=i,o!==0&&(r=xi(o)))}else i=n&~s,i!==0?r=xi(i):o!==0&&(r=xi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-yn(t),s=1<<n,r|=e[n],t&=~s;return r}function U_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-yn(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=U_(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Fd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Py(){var e=$a;return $a<<=1,!($a&4194240)&&($a=64),e}function ju(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ha(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-yn(t),e[t]=n}function z_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-yn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function fh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-yn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Pe=0;function Ry(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Oy,hh,Dy,Ay,Iy,Ud=!1,Ua=[],Dr=null,Ar=null,Ir=null,Bi=new Map,zi=new Map,Sr=[],W_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yp(e,t){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zi.delete(t.pointerId)}}function ii(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=pa(t),t!==null&&hh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function H_(e,t,n,r,s){switch(t){case"focusin":return Dr=ii(Dr,e,t,n,r,s),!0;case"dragenter":return Ar=ii(Ar,e,t,n,r,s),!0;case"mouseover":return Ir=ii(Ir,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Bi.set(o,ii(Bi.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,zi.set(o,ii(zi.get(o)||null,e,t,n,r,s)),!0}return!1}function My(e){var t=ls(e.target);if(t!==null){var n=Os(t);if(n!==null){if(t=n.tag,t===13){if(t=Ey(n),t!==null){e.blockedOn=t,Iy(e.priority,function(){Dy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Id=r,n.target.dispatchEvent(r),Id=null}else return t=pa(n),t!==null&&hh(t),e.blockedOn=n,!1;t.shift()}return!0}function xp(e,t,n){hl(e)&&n.delete(t)}function V_(){Ud=!1,Dr!==null&&hl(Dr)&&(Dr=null),Ar!==null&&hl(Ar)&&(Ar=null),Ir!==null&&hl(Ir)&&(Ir=null),Bi.forEach(xp),zi.forEach(xp)}function ai(e,t){e.blockedOn===t&&(e.blockedOn=null,Ud||(Ud=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,V_)))}function Wi(e){function t(s){return ai(s,e)}if(0<Ua.length){ai(Ua[0],e);for(var n=1;n<Ua.length;n++){var r=Ua[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dr!==null&&ai(Dr,e),Ar!==null&&ai(Ar,e),Ir!==null&&ai(Ir,e),Bi.forEach(t),zi.forEach(t),n=0;n<Sr.length;n++)r=Sr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sr.length&&(n=Sr[0],n.blockedOn===null);)My(n),n.blockedOn===null&&Sr.shift()}var fo=cr.ReactCurrentBatchConfig,Al=!0;function q_(e,t,n,r){var s=Pe,o=fo.transition;fo.transition=null;try{Pe=1,mh(e,t,n,r)}finally{Pe=s,fo.transition=o}}function Y_(e,t,n,r){var s=Pe,o=fo.transition;fo.transition=null;try{Pe=4,mh(e,t,n,r)}finally{Pe=s,fo.transition=o}}function mh(e,t,n,r){if(Al){var s=Bd(e,t,n,r);if(s===null)Lu(e,t,r,Il,n),yp(e,r);else if(H_(s,e,t,n,r))r.stopPropagation();else if(yp(e,r),t&4&&-1<W_.indexOf(e)){for(;s!==null;){var o=pa(s);if(o!==null&&Oy(o),o=Bd(e,t,n,r),o===null&&Lu(e,t,r,Il,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Lu(e,t,r,null,n)}}var Il=null;function Bd(e,t,n,r){if(Il=null,e=uh(r),e=ls(e),e!==null)if(t=Os(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ey(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Il=e,null}function Ly(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A_()){case dh:return 1;case ky:return 4;case Ol:case I_:return 16;case Ty:return 536870912;default:return 16}default:return 16}}var Pr=null,ph=null,ml=null;function $y(){if(ml)return ml;var e,t=ph,n=t.length,r,s="value"in Pr?Pr.value:Pr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return ml=s.slice(e,1<r?1-r:void 0)}function pl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ba(){return!0}function wp(){return!1}function Gt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ba:wp,this.isPropagationStopped=wp,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),t}var qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gh=Gt(qo),ma=He({},qo,{view:0,detail:0}),G_=Gt(ma),ku,Tu,li,yc=He({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==li&&(li&&e.type==="mousemove"?(ku=e.screenX-li.screenX,Tu=e.screenY-li.screenY):Tu=ku=0,li=e),ku)},movementY:function(e){return"movementY"in e?e.movementY:Tu}}),bp=Gt(yc),K_=He({},yc,{dataTransfer:0}),Q_=Gt(K_),J_=He({},ma,{relatedTarget:0}),Pu=Gt(J_),X_=He({},qo,{animationName:0,elapsedTime:0,pseudoElement:0}),Z_=Gt(X_),eE=He({},qo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tE=Gt(eE),nE=He({},qo,{data:0}),Sp=Gt(nE),rE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oE[e])?!!t[e]:!1}function vh(){return iE}var aE=He({},ma,{key:function(e){if(e.key){var t=rE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vh,charCode:function(e){return e.type==="keypress"?pl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lE=Gt(aE),cE=He({},yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_p=Gt(cE),uE=He({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vh}),dE=Gt(uE),fE=He({},qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),hE=Gt(fE),mE=He({},yc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pE=Gt(mE),gE=[9,13,27,32],yh=rr&&"CompositionEvent"in window,Ni=null;rr&&"documentMode"in document&&(Ni=document.documentMode);var vE=rr&&"TextEvent"in window&&!Ni,Fy=rr&&(!yh||Ni&&8<Ni&&11>=Ni),Ep=" ",Cp=!1;function Uy(e,t){switch(e){case"keyup":return gE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function By(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xs=!1;function yE(e,t){switch(e){case"compositionend":return By(t);case"keypress":return t.which!==32?null:(Cp=!0,Ep);case"textInput":return e=t.data,e===Ep&&Cp?null:e;default:return null}}function xE(e,t){if(Xs)return e==="compositionend"||!yh&&Uy(e,t)?(e=$y(),ml=ph=Pr=null,Xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fy&&t.locale!=="ko"?null:t.data;default:return null}}var wE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Np(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wE[e.type]:t==="textarea"}function zy(e,t,n,r){xy(r),t=Ml(t,"onChange"),0<t.length&&(n=new gh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ji=null,Hi=null;function bE(e){Zy(e,0)}function xc(e){var t=to(e);if(fy(t))return e}function SE(e,t){if(e==="change")return t}var Wy=!1;if(rr){var Ru;if(rr){var Ou="oninput"in document;if(!Ou){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),Ou=typeof jp.oninput=="function"}Ru=Ou}else Ru=!1;Wy=Ru&&(!document.documentMode||9<document.documentMode)}function kp(){ji&&(ji.detachEvent("onpropertychange",Hy),Hi=ji=null)}function Hy(e){if(e.propertyName==="value"&&xc(Hi)){var t=[];zy(t,Hi,e,uh(e)),_y(bE,t)}}function _E(e,t,n){e==="focusin"?(kp(),ji=t,Hi=n,ji.attachEvent("onpropertychange",Hy)):e==="focusout"&&kp()}function EE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xc(Hi)}function CE(e,t){if(e==="click")return xc(t)}function NE(e,t){if(e==="input"||e==="change")return xc(t)}function jE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wn=typeof Object.is=="function"?Object.is:jE;function Vi(e,t){if(wn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_d.call(t,s)||!wn(e[s],t[s]))return!1}return!0}function Tp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pp(e,t){var n=Tp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tp(n)}}function Vy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qy(){for(var e=window,t=Tl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tl(e.document)}return t}function xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kE(e){var t=qy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vy(n.ownerDocument.documentElement,n)){if(r!==null&&xh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Pp(n,o);var i=Pp(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TE=rr&&"documentMode"in document&&11>=document.documentMode,Zs=null,zd=null,ki=null,Wd=!1;function Rp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wd||Zs==null||Zs!==Tl(r)||(r=Zs,"selectionStart"in r&&xh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ki&&Vi(ki,r)||(ki=r,r=Ml(zd,"onSelect"),0<r.length&&(t=new gh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zs)))}function za(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var eo={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionend:za("Transition","TransitionEnd")},Du={},Yy={};rr&&(Yy=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function wc(e){if(Du[e])return Du[e];if(!eo[e])return e;var t=eo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Yy)return Du[e]=t[n];return e}var Gy=wc("animationend"),Ky=wc("animationiteration"),Qy=wc("animationstart"),Jy=wc("transitionend"),Xy=new Map,Op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gr(e,t){Xy.set(e,t),Rs(t,[e])}for(var Au=0;Au<Op.length;Au++){var Iu=Op[Au],PE=Iu.toLowerCase(),RE=Iu[0].toUpperCase()+Iu.slice(1);Gr(PE,"on"+RE)}Gr(Gy,"onAnimationEnd");Gr(Ky,"onAnimationIteration");Gr(Qy,"onAnimationStart");Gr("dblclick","onDoubleClick");Gr("focusin","onFocus");Gr("focusout","onBlur");Gr(Jy,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OE=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function Dp(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,P_(r,t,void 0,e),e.currentTarget=null}function Zy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Dp(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Dp(s,a,u),o=c}}}if(Rl)throw e=$d,Rl=!1,$d=null,e}function Le(e,t){var n=t[Gd];n===void 0&&(n=t[Gd]=new Set);var r=e+"__bubble";n.has(r)||(e0(t,e,2,!1),n.add(r))}function Mu(e,t,n){var r=0;t&&(r|=4),e0(n,e,r,t)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function qi(e){if(!e[Wa]){e[Wa]=!0,ay.forEach(function(n){n!=="selectionchange"&&(OE.has(n)||Mu(n,!1,e),Mu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wa]||(t[Wa]=!0,Mu("selectionchange",!1,t))}}function e0(e,t,n,r){switch(Ly(t)){case 1:var s=q_;break;case 4:s=Y_;break;default:s=mh}n=s.bind(null,t,n,e),s=void 0,!Ld||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Lu(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=ls(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}_y(function(){var u=o,d=uh(n),f=[];e:{var h=Xy.get(e);if(h!==void 0){var g=gh,w=e;switch(e){case"keypress":if(pl(n)===0)break e;case"keydown":case"keyup":g=lE;break;case"focusin":w="focus",g=Pu;break;case"focusout":w="blur",g=Pu;break;case"beforeblur":case"afterblur":g=Pu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Q_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=dE;break;case Gy:case Ky:case Qy:g=Z_;break;case Jy:g=hE;break;case"scroll":g=G_;break;case"wheel":g=pE;break;case"copy":case"cut":case"paste":g=tE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=_p}var p=(t&4)!==0,b=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var v=u,x;v!==null;){x=v;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,y!==null&&(S=Ui(v,y),S!=null&&p.push(Yi(v,S,x)))),b)break;v=v.return}0<p.length&&(h=new g(h,w,null,n,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Id&&(w=n.relatedTarget||n.fromElement)&&(ls(w)||w[sr]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?ls(w):null,w!==null&&(b=Os(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(p=bp,S="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=_p,S="onPointerLeave",y="onPointerEnter",v="pointer"),b=g==null?h:to(g),x=w==null?h:to(w),h=new p(S,v+"leave",g,n,d),h.target=b,h.relatedTarget=x,S=null,ls(d)===u&&(p=new p(y,v+"enter",w,n,d),p.target=x,p.relatedTarget=b,S=p),b=S,g&&w)t:{for(p=g,y=w,v=0,x=p;x;x=Fs(x))v++;for(x=0,S=y;S;S=Fs(S))x++;for(;0<v-x;)p=Fs(p),v--;for(;0<x-v;)y=Fs(y),x--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=Fs(p),y=Fs(y)}p=null}else p=null;g!==null&&Ap(f,h,g,p,!1),w!==null&&b!==null&&Ap(f,b,w,p,!0)}}e:{if(h=u?to(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var _=SE;else if(Np(h))if(Wy)_=NE;else{_=EE;var C=_E}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=CE);if(_&&(_=_(e,u))){zy(f,_,n,d);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Pd(h,"number",h.value)}switch(C=u?to(u):window,e){case"focusin":(Np(C)||C.contentEditable==="true")&&(Zs=C,zd=u,ki=null);break;case"focusout":ki=zd=Zs=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,Rp(f,n,d);break;case"selectionchange":if(TE)break;case"keydown":case"keyup":Rp(f,n,d)}var N;if(yh)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Xs?Uy(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Fy&&n.locale!=="ko"&&(Xs||j!=="onCompositionStart"?j==="onCompositionEnd"&&Xs&&(N=$y()):(Pr=d,ph="value"in Pr?Pr.value:Pr.textContent,Xs=!0)),C=Ml(u,j),0<C.length&&(j=new Sp(j,e,null,n,d),f.push({event:j,listeners:C}),N?j.data=N:(N=By(n),N!==null&&(j.data=N)))),(N=vE?yE(e,n):xE(e,n))&&(u=Ml(u,"onBeforeInput"),0<u.length&&(d=new Sp("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}Zy(f,t)})}function Yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ml(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ui(e,n),o!=null&&r.unshift(Yi(e,o,s)),o=Ui(e,t),o!=null&&r.push(Yi(e,o,s))),e=e.return}return r}function Fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ap(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ui(n,o),c!=null&&i.unshift(Yi(n,c,a))):s||(c=Ui(n,o),c!=null&&i.push(Yi(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var DE=/\r\n?/g,AE=/\u0000|\uFFFD/g;function Ip(e){return(typeof e=="string"?e:""+e).replace(DE,`
`).replace(AE,"")}function Ha(e,t,n){if(t=Ip(t),Ip(e)!==t&&n)throw Error(V(425))}function Ll(){}var Hd=null,Vd=null;function qd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yd=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,ME=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(e){return Mp.resolve(null).then(e).catch(LE)}:Yd;function LE(e){setTimeout(function(){throw e})}function $u(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Wi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wi(t)}function Mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),An="__reactFiber$"+Yo,Gi="__reactProps$"+Yo,sr="__reactContainer$"+Yo,Gd="__reactEvents$"+Yo,$E="__reactListeners$"+Yo,FE="__reactHandles$"+Yo;function ls(e){var t=e[An];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sr]||n[An]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lp(e);e!==null;){if(n=e[An])return n;e=Lp(e)}return t}e=n,n=e.parentNode}return null}function pa(e){return e=e[An]||e[sr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function to(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function bc(e){return e[Gi]||null}var Kd=[],no=-1;function Kr(e){return{current:e}}function $e(e){0>no||(e.current=Kd[no],Kd[no]=null,no--)}function De(e,t){no++,Kd[no]=e.current,e.current=t}var zr={},mt=Kr(zr),Ot=Kr(!1),ws=zr;function Oo(e,t){var n=e.type.contextTypes;if(!n)return zr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Dt(e){return e=e.childContextTypes,e!=null}function $l(){$e(Ot),$e(mt)}function $p(e,t,n){if(mt.current!==zr)throw Error(V(168));De(mt,t),De(Ot,n)}function t0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(V(108,__(e)||"Unknown",s));return He({},n,r)}function Fl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zr,ws=mt.current,De(mt,e),De(Ot,Ot.current),!0}function Fp(e,t,n){var r=e.stateNode;if(!r)throw Error(V(169));n?(e=t0(e,t,ws),r.__reactInternalMemoizedMergedChildContext=e,$e(Ot),$e(mt),De(mt,e)):$e(Ot),De(Ot,n)}var Jn=null,Sc=!1,Fu=!1;function n0(e){Jn===null?Jn=[e]:Jn.push(e)}function UE(e){Sc=!0,n0(e)}function Qr(){if(!Fu&&Jn!==null){Fu=!0;var e=0,t=Pe;try{var n=Jn;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jn=null,Sc=!1}catch(s){throw Jn!==null&&(Jn=Jn.slice(e+1)),jy(dh,Qr),s}finally{Pe=t,Fu=!1}}return null}var ro=[],so=0,Ul=null,Bl=0,Jt=[],Xt=0,bs=null,Xn=1,Zn="";function rs(e,t){ro[so++]=Bl,ro[so++]=Ul,Ul=e,Bl=t}function r0(e,t,n){Jt[Xt++]=Xn,Jt[Xt++]=Zn,Jt[Xt++]=bs,bs=e;var r=Xn;e=Zn;var s=32-yn(r)-1;r&=~(1<<s),n+=1;var o=32-yn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Xn=1<<32-yn(t)+s|n<<s|r,Zn=o+e}else Xn=1<<o|n<<s|r,Zn=e}function wh(e){e.return!==null&&(rs(e,1),r0(e,1,0))}function bh(e){for(;e===Ul;)Ul=ro[--so],ro[so]=null,Bl=ro[--so],ro[so]=null;for(;e===bs;)bs=Jt[--Xt],Jt[Xt]=null,Zn=Jt[--Xt],Jt[Xt]=null,Xn=Jt[--Xt],Jt[Xt]=null}var zt=null,Bt=null,Fe=!1,gn=null;function s0(e,t){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Up(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zt=e,Bt=Mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zt=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=bs!==null?{id:Xn,overflow:Zn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zt=e,Bt=null,!0):!1;default:return!1}}function Qd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jd(e){if(Fe){var t=Bt;if(t){var n=t;if(!Up(e,t)){if(Qd(e))throw Error(V(418));t=Mr(n.nextSibling);var r=zt;t&&Up(e,t)?s0(r,n):(e.flags=e.flags&-4097|2,Fe=!1,zt=e)}}else{if(Qd(e))throw Error(V(418));e.flags=e.flags&-4097|2,Fe=!1,zt=e}}}function Bp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zt=e}function Va(e){if(e!==zt)return!1;if(!Fe)return Bp(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qd(e.type,e.memoizedProps)),t&&(t=Bt)){if(Qd(e))throw o0(),Error(V(418));for(;t;)s0(e,t),t=Mr(t.nextSibling)}if(Bp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Bt=Mr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=zt?Mr(e.stateNode.nextSibling):null;return!0}function o0(){for(var e=Bt;e;)e=Mr(e.nextSibling)}function Do(){Bt=zt=null,Fe=!1}function Sh(e){gn===null?gn=[e]:gn.push(e)}var BE=cr.ReactCurrentBatchConfig;function ci(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(V(309));var r=n.stateNode}if(!r)throw Error(V(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(V(284));if(!n._owner)throw Error(V(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zp(e){var t=e._init;return t(e._payload)}function i0(e){function t(y,v){if(e){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Ur(y,v),y.index=0,y.sibling=null,y}function o(y,v,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,x,S){return v===null||v.tag!==6?(v=qu(x,y.mode,S),v.return=y,v):(v=s(v,x),v.return=y,v)}function c(y,v,x,S){var _=x.type;return _===Js?d(y,v,x.props.children,S,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===yr&&zp(_)===v.type)?(S=s(v,x.props),S.ref=ci(y,v,x),S.return=y,S):(S=Sl(x.type,x.key,x.props,null,y.mode,S),S.ref=ci(y,v,x),S.return=y,S)}function u(y,v,x,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Yu(x,y.mode,S),v.return=y,v):(v=s(v,x.children||[]),v.return=y,v)}function d(y,v,x,S,_){return v===null||v.tag!==7?(v=gs(x,y.mode,S,_),v.return=y,v):(v=s(v,x),v.return=y,v)}function f(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=qu(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ia:return x=Sl(v.type,v.key,v.props,null,y.mode,x),x.ref=ci(y,null,v),x.return=y,x;case Qs:return v=Yu(v,y.mode,x),v.return=y,v;case yr:var S=v._init;return f(y,S(v._payload),x)}if(yi(v)||si(v))return v=gs(v,y.mode,x,null),v.return=y,v;qa(y,v)}return null}function h(y,v,x,S){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(y,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ia:return x.key===_?c(y,v,x,S):null;case Qs:return x.key===_?u(y,v,x,S):null;case yr:return _=x._init,h(y,v,_(x._payload),S)}if(yi(x)||si(x))return _!==null?null:d(y,v,x,S,null);qa(y,x)}return null}function g(y,v,x,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(x)||null,a(v,y,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ia:return y=y.get(S.key===null?x:S.key)||null,c(v,y,S,_);case Qs:return y=y.get(S.key===null?x:S.key)||null,u(v,y,S,_);case yr:var C=S._init;return g(y,v,x,C(S._payload),_)}if(yi(S)||si(S))return y=y.get(x)||null,d(v,y,S,_,null);qa(v,S)}return null}function w(y,v,x,S){for(var _=null,C=null,N=v,j=v=0,D=null;N!==null&&j<x.length;j++){N.index>j?(D=N,N=null):D=N.sibling;var O=h(y,N,x[j],S);if(O===null){N===null&&(N=D);break}e&&N&&O.alternate===null&&t(y,N),v=o(O,v,j),C===null?_=O:C.sibling=O,C=O,N=D}if(j===x.length)return n(y,N),Fe&&rs(y,j),_;if(N===null){for(;j<x.length;j++)N=f(y,x[j],S),N!==null&&(v=o(N,v,j),C===null?_=N:C.sibling=N,C=N);return Fe&&rs(y,j),_}for(N=r(y,N);j<x.length;j++)D=g(N,y,j,x[j],S),D!==null&&(e&&D.alternate!==null&&N.delete(D.key===null?j:D.key),v=o(D,v,j),C===null?_=D:C.sibling=D,C=D);return e&&N.forEach(function(Y){return t(y,Y)}),Fe&&rs(y,j),_}function p(y,v,x,S){var _=si(x);if(typeof _!="function")throw Error(V(150));if(x=_.call(x),x==null)throw Error(V(151));for(var C=_=null,N=v,j=v=0,D=null,O=x.next();N!==null&&!O.done;j++,O=x.next()){N.index>j?(D=N,N=null):D=N.sibling;var Y=h(y,N,O.value,S);if(Y===null){N===null&&(N=D);break}e&&N&&Y.alternate===null&&t(y,N),v=o(Y,v,j),C===null?_=Y:C.sibling=Y,C=Y,N=D}if(O.done)return n(y,N),Fe&&rs(y,j),_;if(N===null){for(;!O.done;j++,O=x.next())O=f(y,O.value,S),O!==null&&(v=o(O,v,j),C===null?_=O:C.sibling=O,C=O);return Fe&&rs(y,j),_}for(N=r(y,N);!O.done;j++,O=x.next())O=g(N,y,j,O.value,S),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?j:O.key),v=o(O,v,j),C===null?_=O:C.sibling=O,C=O);return e&&N.forEach(function(W){return t(y,W)}),Fe&&rs(y,j),_}function b(y,v,x,S){if(typeof x=="object"&&x!==null&&x.type===Js&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ia:e:{for(var _=x.key,C=v;C!==null;){if(C.key===_){if(_=x.type,_===Js){if(C.tag===7){n(y,C.sibling),v=s(C,x.props.children),v.return=y,y=v;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===yr&&zp(_)===C.type){n(y,C.sibling),v=s(C,x.props),v.ref=ci(y,C,x),v.return=y,y=v;break e}n(y,C);break}else t(y,C);C=C.sibling}x.type===Js?(v=gs(x.props.children,y.mode,S,x.key),v.return=y,y=v):(S=Sl(x.type,x.key,x.props,null,y.mode,S),S.ref=ci(y,v,x),S.return=y,y=S)}return i(y);case Qs:e:{for(C=x.key;v!==null;){if(v.key===C)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(y,v.sibling),v=s(v,x.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=Yu(x,y.mode,S),v.return=y,y=v}return i(y);case yr:return C=x._init,b(y,v,C(x._payload),S)}if(yi(x))return w(y,v,x,S);if(si(x))return p(y,v,x,S);qa(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,x),v.return=y,y=v):(n(y,v),v=qu(x,y.mode,S),v.return=y,y=v),i(y)):n(y,v)}return b}var Ao=i0(!0),a0=i0(!1),zl=Kr(null),Wl=null,oo=null,_h=null;function Eh(){_h=oo=Wl=null}function Ch(e){var t=zl.current;$e(zl),e._currentValue=t}function Xd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ho(e,t){Wl=e,_h=oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pt=!0),e.firstContext=null)}function sn(e){var t=e._currentValue;if(_h!==e)if(e={context:e,memoizedValue:t,next:null},oo===null){if(Wl===null)throw Error(V(308));oo=e,Wl.dependencies={lanes:0,firstContext:e}}else oo=oo.next=e;return t}var cs=null;function Nh(e){cs===null?cs=[e]:cs.push(e)}function l0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Nh(t)):(n.next=s.next,s.next=n),t.interleaved=n,or(e,r)}function or(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xr=!1;function jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,or(e,n)}return s=r.interleaved,s===null?(t.next=t,Nh(r)):(t.next=s.next,s.next=t),r.interleaved=t,or(e,n)}function gl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fh(e,n)}}function Wp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hl(e,t,n,r){var s=e.updateQueue;xr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var h=a.lane,g=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,p=a;switch(h=t,g=n,p.tag){case 1:if(w=p.payload,typeof w=="function"){f=w.call(g,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=p.payload,h=typeof w=="function"?w.call(g,f,h):w,h==null)break e;f=He({},f,h);break e;case 2:xr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);_s|=i,e.lanes=i,e.memoizedState=f}}function Hp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(V(191,s));s.call(r)}}}var ga={},$n=Kr(ga),Ki=Kr(ga),Qi=Kr(ga);function us(e){if(e===ga)throw Error(V(174));return e}function kh(e,t){switch(De(Qi,t),De(Ki,e),De($n,ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Od(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Od(t,e)}$e($n),De($n,t)}function Io(){$e($n),$e(Ki),$e(Qi)}function u0(e){us(Qi.current);var t=us($n.current),n=Od(t,e.type);t!==n&&(De(Ki,e),De($n,n))}function Th(e){Ki.current===e&&($e($n),$e(Ki))}var ze=Kr(0);function Vl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uu=[];function Ph(){for(var e=0;e<Uu.length;e++)Uu[e]._workInProgressVersionPrimary=null;Uu.length=0}var vl=cr.ReactCurrentDispatcher,Bu=cr.ReactCurrentBatchConfig,Ss=0,We=null,Ze=null,rt=null,ql=!1,Ti=!1,Ji=0,zE=0;function ut(){throw Error(V(321))}function Rh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!wn(e[n],t[n]))return!1;return!0}function Oh(e,t,n,r,s,o){if(Ss=o,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vl.current=e===null||e.memoizedState===null?qE:YE,e=n(r,s),Ti){o=0;do{if(Ti=!1,Ji=0,25<=o)throw Error(V(301));o+=1,rt=Ze=null,t.updateQueue=null,vl.current=GE,e=n(r,s)}while(Ti)}if(vl.current=Yl,t=Ze!==null&&Ze.next!==null,Ss=0,rt=Ze=We=null,ql=!1,t)throw Error(V(300));return e}function Dh(){var e=Ji!==0;return Ji=0,e}function Pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?We.memoizedState=rt=e:rt=rt.next=e,rt}function on(){if(Ze===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=rt===null?We.memoizedState:rt.next;if(t!==null)rt=t,Ze=e;else{if(e===null)throw Error(V(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},rt===null?We.memoizedState=rt=e:rt=rt.next=e}return rt}function Xi(e,t){return typeof t=="function"?t(e):t}function zu(e){var t=on(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=Ze,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((Ss&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=r):c=c.next=f,We.lanes|=d,_s|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,wn(r,t.memoizedState)||(Pt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,We.lanes|=o,_s|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Wu(e){var t=on(),n=t.queue;if(n===null)throw Error(V(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);wn(o,t.memoizedState)||(Pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function d0(){}function f0(e,t){var n=We,r=on(),s=t(),o=!wn(r.memoizedState,s);if(o&&(r.memoizedState=s,Pt=!0),r=r.queue,Ah(p0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,Zi(9,m0.bind(null,n,r,s,t),void 0,null),st===null)throw Error(V(349));Ss&30||h0(n,t,s)}return s}function h0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function m0(e,t,n,r){t.value=n,t.getSnapshot=r,g0(t)&&v0(e)}function p0(e,t,n){return n(function(){g0(t)&&v0(e)})}function g0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!wn(e,n)}catch{return!0}}function v0(e){var t=or(e,1);t!==null&&xn(t,e,1,-1)}function Vp(e){var t=Pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:e},t.queue=e,e=e.dispatch=VE.bind(null,We,e),[t.memoizedState,e]}function Zi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function y0(){return on().memoizedState}function yl(e,t,n,r){var s=Pn();We.flags|=e,s.memoizedState=Zi(1|t,n,void 0,r===void 0?null:r)}function _c(e,t,n,r){var s=on();r=r===void 0?null:r;var o=void 0;if(Ze!==null){var i=Ze.memoizedState;if(o=i.destroy,r!==null&&Rh(r,i.deps)){s.memoizedState=Zi(t,n,o,r);return}}We.flags|=e,s.memoizedState=Zi(1|t,n,o,r)}function qp(e,t){return yl(8390656,8,e,t)}function Ah(e,t){return _c(2048,8,e,t)}function x0(e,t){return _c(4,2,e,t)}function w0(e,t){return _c(4,4,e,t)}function b0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function S0(e,t,n){return n=n!=null?n.concat([e]):null,_c(4,4,b0.bind(null,t,e),n)}function Ih(){}function _0(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function E0(e,t){var n=on();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Rh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function C0(e,t,n){return Ss&21?(wn(n,t)||(n=Py(),We.lanes|=n,_s|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=n)}function WE(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=Bu.transition;Bu.transition={};try{e(!1),t()}finally{Pe=n,Bu.transition=r}}function N0(){return on().memoizedState}function HE(e,t,n){var r=Fr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},j0(e))k0(t,n);else if(n=l0(e,t,n,r),n!==null){var s=St();xn(n,e,r,s),T0(n,t,r)}}function VE(e,t,n){var r=Fr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(j0(e))k0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,wn(a,i)){var c=t.interleaved;c===null?(s.next=s,Nh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=l0(e,t,s,r),n!==null&&(s=St(),xn(n,e,r,s),T0(n,t,r))}}function j0(e){var t=e.alternate;return e===We||t!==null&&t===We}function k0(e,t){Ti=ql=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function T0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fh(e,n)}}var Yl={readContext:sn,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useInsertionEffect:ut,useLayoutEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useMutableSource:ut,useSyncExternalStore:ut,useId:ut,unstable_isNewReconciler:!1},qE={readContext:sn,useCallback:function(e,t){return Pn().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:qp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yl(4194308,4,b0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yl(4194308,4,e,t)},useInsertionEffect:function(e,t){return yl(4,2,e,t)},useMemo:function(e,t){var n=Pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=HE.bind(null,We,e),[r.memoizedState,e]},useRef:function(e){var t=Pn();return e={current:e},t.memoizedState=e},useState:Vp,useDebugValue:Ih,useDeferredValue:function(e){return Pn().memoizedState=e},useTransition:function(){var e=Vp(!1),t=e[0];return e=WE.bind(null,e[1]),Pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=We,s=Pn();if(Fe){if(n===void 0)throw Error(V(407));n=n()}else{if(n=t(),st===null)throw Error(V(349));Ss&30||h0(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,qp(p0.bind(null,r,o,e),[e]),r.flags|=2048,Zi(9,m0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Pn(),t=st.identifierPrefix;if(Fe){var n=Zn,r=Xn;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ji++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YE={readContext:sn,useCallback:_0,useContext:sn,useEffect:Ah,useImperativeHandle:S0,useInsertionEffect:x0,useLayoutEffect:w0,useMemo:E0,useReducer:zu,useRef:y0,useState:function(){return zu(Xi)},useDebugValue:Ih,useDeferredValue:function(e){var t=on();return C0(t,Ze.memoizedState,e)},useTransition:function(){var e=zu(Xi)[0],t=on().memoizedState;return[e,t]},useMutableSource:d0,useSyncExternalStore:f0,useId:N0,unstable_isNewReconciler:!1},GE={readContext:sn,useCallback:_0,useContext:sn,useEffect:Ah,useImperativeHandle:S0,useInsertionEffect:x0,useLayoutEffect:w0,useMemo:E0,useReducer:Wu,useRef:y0,useState:function(){return Wu(Xi)},useDebugValue:Ih,useDeferredValue:function(e){var t=on();return Ze===null?t.memoizedState=e:C0(t,Ze.memoizedState,e)},useTransition:function(){var e=Wu(Xi)[0],t=on().memoizedState;return[e,t]},useMutableSource:d0,useSyncExternalStore:f0,useId:N0,unstable_isNewReconciler:!1};function dn(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ec={isMounted:function(e){return(e=e._reactInternals)?Os(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=St(),s=Fr(e),o=tr(r,s);o.payload=t,n!=null&&(o.callback=n),t=Lr(e,o,s),t!==null&&(xn(t,e,s,r),gl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=St(),s=Fr(e),o=tr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Lr(e,o,s),t!==null&&(xn(t,e,s,r),gl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=St(),r=Fr(e),s=tr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Lr(e,s,r),t!==null&&(xn(t,e,r,n),gl(t,e,r))}};function Yp(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Vi(n,r)||!Vi(s,o):!0}function P0(e,t,n){var r=!1,s=zr,o=t.contextType;return typeof o=="object"&&o!==null?o=sn(o):(s=Dt(t)?ws:mt.current,r=t.contextTypes,o=(r=r!=null)?Oo(e,s):zr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ec,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Gp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ec.enqueueReplaceState(t,t.state,null)}function ef(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},jh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=sn(o):(o=Dt(t)?ws:mt.current,s.context=Oo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Zd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ec.enqueueReplaceState(s,s.state,null),Hl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Mo(e,t){try{var n="",r=t;do n+=S_(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Hu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var KE=typeof WeakMap=="function"?WeakMap:Map;function R0(e,t,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,ff=r),tf(e,t)},n}function O0(e,t,n){n=tr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){tf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){tf(e,t),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Kp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new KE;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=cC.bind(null,e,t,n),t.then(e,e))}function Qp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=tr(-1,1),t.tag=2,Lr(n,t,1))),n.lanes|=1),e)}var QE=cr.ReactCurrentOwner,Pt=!1;function yt(e,t,n,r){t.child=e===null?a0(t,null,n,r):Ao(t,e.child,n,r)}function Xp(e,t,n,r,s){n=n.render;var o=t.ref;return ho(t,s),r=Oh(e,t,n,r,o,s),n=Dh(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ir(e,t,s)):(Fe&&n&&wh(t),t.flags|=1,yt(e,t,r,s),t.child)}function Zp(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Wh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,D0(e,t,o,r,s)):(e=Sl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Vi,n(i,r)&&e.ref===t.ref)return ir(e,t,s)}return t.flags|=1,e=Ur(o,r),e.ref=t.ref,e.return=t,t.child=e}function D0(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Vi(o,r)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Pt=!0);else return t.lanes=e.lanes,ir(e,t,s)}return nf(e,t,n,r,s)}function A0(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(ao,Ft),Ft|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(ao,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(ao,Ft),Ft|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,De(ao,Ft),Ft|=r;return yt(e,t,s,n),t.child}function I0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function nf(e,t,n,r,s){var o=Dt(n)?ws:mt.current;return o=Oo(t,o),ho(t,s),n=Oh(e,t,n,r,o,s),r=Dh(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ir(e,t,s)):(Fe&&r&&wh(t),t.flags|=1,yt(e,t,n,s),t.child)}function eg(e,t,n,r,s){if(Dt(n)){var o=!0;Fl(t)}else o=!1;if(ho(t,s),t.stateNode===null)xl(e,t),P0(t,n,r),ef(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=sn(u):(u=Dt(n)?ws:mt.current,u=Oo(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Gp(t,i,r,u),xr=!1;var h=t.memoizedState;i.state=h,Hl(t,r,i,s),c=t.memoizedState,a!==r||h!==c||Ot.current||xr?(typeof d=="function"&&(Zd(t,n,d,r),c=t.memoizedState),(a=xr||Yp(t,n,a,r,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,c0(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:dn(t.type,a),i.props=u,f=t.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=sn(c):(c=Dt(n)?ws:mt.current,c=Oo(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==c)&&Gp(t,i,r,c),xr=!1,h=t.memoizedState,i.state=h,Hl(t,r,i,s);var w=t.memoizedState;a!==f||h!==w||Ot.current||xr?(typeof g=="function"&&(Zd(t,n,g,r),w=t.memoizedState),(u=xr||Yp(t,n,u,r,h,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return rf(e,t,n,r,o,s)}function rf(e,t,n,r,s,o){I0(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Fp(t,n,!1),ir(e,t,o);r=t.stateNode,QE.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,a,o)):yt(e,t,a,o),t.memoizedState=r.state,s&&Fp(t,n,!0),t.child}function M0(e){var t=e.stateNode;t.pendingContext?$p(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$p(e,t.context,!1),kh(e,t.containerInfo)}function tg(e,t,n,r,s){return Do(),Sh(s),t.flags|=256,yt(e,t,n,r),t.child}var sf={dehydrated:null,treeContext:null,retryLane:0};function of(e){return{baseLanes:e,cachePool:null,transitions:null}}function L0(e,t,n){var r=t.pendingProps,s=ze.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),De(ze,s&1),e===null)return Jd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=jc(i,r,0,null),e=gs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=of(n),t.memoizedState=sf,e):Mh(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return JE(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ur(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Ur(a,o):(o=gs(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?of(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=sf,r}return o=e.child,e=o.sibling,r=Ur(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mh(e,t){return t=jc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ya(e,t,n,r){return r!==null&&Sh(r),Ao(t,e.child,null,n),e=Mh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function JE(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Hu(Error(V(422))),Ya(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=jc({mode:"visible",children:r.children},s,0,null),o=gs(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ao(t,e.child,null,i),t.child.memoizedState=of(i),t.memoizedState=sf,o);if(!(t.mode&1))return Ya(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(V(419)),r=Hu(o,r,void 0),Ya(e,t,i,r)}if(a=(i&e.childLanes)!==0,Pt||a){if(r=st,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,or(e,s),xn(r,e,s,-1))}return zh(),r=Hu(Error(V(421))),Ya(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=uC.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Bt=Mr(s.nextSibling),zt=t,Fe=!0,gn=null,e!==null&&(Jt[Xt++]=Xn,Jt[Xt++]=Zn,Jt[Xt++]=bs,Xn=e.id,Zn=e.overflow,bs=t),t=Mh(t,r.children),t.flags|=4096,t)}function ng(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xd(e.return,t,n)}function Vu(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function $0(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(yt(e,t,r.children,n),r=ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ng(e,n,t);else if(e.tag===19)ng(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(ze,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Vl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Vu(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Vu(t,!0,n,null,o);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_s|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,n=Ur(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ur(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function XE(e,t,n){switch(t.tag){case 3:M0(t),Do();break;case 5:u0(t);break;case 1:Dt(t.type)&&Fl(t);break;case 4:kh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;De(zl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(ze,ze.current&1),t.flags|=128,null):n&t.child.childLanes?L0(e,t,n):(De(ze,ze.current&1),e=ir(e,t,n),e!==null?e.sibling:null);De(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,A0(e,t,n)}return ir(e,t,n)}var F0,af,U0,B0;F0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};af=function(){};U0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,us($n.current);var o=null;switch(n){case"input":s=kd(e,s),r=kd(e,r),o=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),o=[];break;case"textarea":s=Rd(e,s),r=Rd(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ll)}Dd(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($i.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};B0=function(e,t,n,r){n!==r&&(t.flags|=4)};function ui(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function dt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ZE(e,t,n){var r=t.pendingProps;switch(bh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(t),null;case 1:return Dt(t.type)&&$l(),dt(t),null;case 3:return r=t.stateNode,Io(),$e(Ot),$e(mt),Ph(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Va(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gn!==null&&(pf(gn),gn=null))),af(e,t),dt(t),null;case 5:Th(t);var s=us(Qi.current);if(n=t.type,e!==null&&t.stateNode!=null)U0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(V(166));return dt(t),null}if(e=us($n.current),Va(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[An]=t,r[Gi]=o,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<wi.length;s++)Le(wi[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":dp(r,o),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Le("invalid",r);break;case"textarea":hp(r,o),Le("invalid",r)}Dd(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ha(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ha(r.textContent,a,e),s=["children",""+a]):$i.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Le("scroll",r)}switch(n){case"input":Ma(r),fp(r,o,!0);break;case"textarea":Ma(r),mp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ll)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=py(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[An]=t,e[Gi]=r,F0(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ad(n,r),n){case"dialog":Le("cancel",e),Le("close",e),s=r;break;case"iframe":case"object":case"embed":Le("load",e),s=r;break;case"video":case"audio":for(s=0;s<wi.length;s++)Le(wi[s],e);s=r;break;case"source":Le("error",e),s=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),s=r;break;case"details":Le("toggle",e),s=r;break;case"input":dp(e,r),s=kd(e,r),Le("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),Le("invalid",e);break;case"textarea":hp(e,r),s=Rd(e,r),Le("invalid",e);break;default:s=r}Dd(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?yy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gy(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fi(e,c):typeof c=="number"&&Fi(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($i.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Le("scroll",e):c!=null&&ih(e,o,c,i))}switch(n){case"input":Ma(e),fp(e,r,!1);break;case"textarea":Ma(e),mp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Br(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?lo(e,!!r.multiple,o,!1):r.defaultValue!=null&&lo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dt(t),null;case 6:if(e&&t.stateNode!=null)B0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(V(166));if(n=us(Qi.current),us($n.current),Va(t)){if(r=t.stateNode,n=t.memoizedProps,r[An]=t,(o=r.nodeValue!==n)&&(e=zt,e!==null))switch(e.tag){case 3:Ha(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ha(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=t,t.stateNode=r}return dt(t),null;case 13:if($e(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Bt!==null&&t.mode&1&&!(t.flags&128))o0(),Do(),t.flags|=98560,o=!1;else if(o=Va(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(V(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(V(317));o[An]=t}else Do(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dt(t),o=!1}else gn!==null&&(pf(gn),gn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?et===0&&(et=3):zh())),t.updateQueue!==null&&(t.flags|=4),dt(t),null);case 4:return Io(),af(e,t),e===null&&qi(t.stateNode.containerInfo),dt(t),null;case 10:return Ch(t.type._context),dt(t),null;case 17:return Dt(t.type)&&$l(),dt(t),null;case 19:if($e(ze),o=t.memoizedState,o===null)return dt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ui(o,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Vl(e),i!==null){for(t.flags|=128,ui(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(ze,ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ge()>Lo&&(t.flags|=128,r=!0,ui(o,!1),t.lanes=4194304)}else{if(!r)if(e=Vl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ui(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Fe)return dt(t),null}else 2*Ge()-o.renderingStartTime>Lo&&n!==1073741824&&(t.flags|=128,r=!0,ui(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ge(),t.sibling=null,n=ze.current,De(ze,r?n&1|2:n&1),t):(dt(t),null);case 22:case 23:return Bh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ft&1073741824&&(dt(t),t.subtreeFlags&6&&(t.flags|=8192)):dt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function eC(e,t){switch(bh(t),t.tag){case 1:return Dt(t.type)&&$l(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Io(),$e(Ot),$e(mt),Ph(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Th(t),null;case 13:if($e(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Do()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(ze),null;case 4:return Io(),null;case 10:return Ch(t.type._context),null;case 22:case 23:return Bh(),null;case 24:return null;default:return null}}var Ga=!1,ht=!1,tC=typeof WeakSet=="function"?WeakSet:Set,Z=null;function io(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function lf(e,t,n){try{n()}catch(r){qe(e,t,r)}}var rg=!1;function nC(e,t){if(Hd=Al,e=qy(),xh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===n&&++u===s&&(a=i),h===o&&++d===r&&(c=i),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vd={focusedElem:e,selectionRange:n},Al=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var p=w.memoizedProps,b=w.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:dn(t.type,p),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(S){qe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return w=rg,rg=!1,w}function Pi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&lf(t,n,o)}s=s.next}while(s!==r)}}function Cc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function cf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function z0(e){var t=e.alternate;t!==null&&(e.alternate=null,z0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[An],delete t[Gi],delete t[Gd],delete t[$E],delete t[FE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function W0(e){return e.tag===5||e.tag===3||e.tag===4}function sg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ll));else if(r!==4&&(e=e.child,e!==null))for(uf(e,t,n),e=e.sibling;e!==null;)uf(e,t,n),e=e.sibling}function df(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(df(e,t,n),e=e.sibling;e!==null;)df(e,t,n),e=e.sibling}var ot=null,mn=!1;function dr(e,t,n){for(n=n.child;n!==null;)H0(e,t,n),n=n.sibling}function H0(e,t,n){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(vc,n)}catch{}switch(n.tag){case 5:ht||io(n,t);case 6:var r=ot,s=mn;ot=null,dr(e,t,n),ot=r,mn=s,ot!==null&&(mn?(e=ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(mn?(e=ot,n=n.stateNode,e.nodeType===8?$u(e.parentNode,n):e.nodeType===1&&$u(e,n),Wi(e)):$u(ot,n.stateNode));break;case 4:r=ot,s=mn,ot=n.stateNode.containerInfo,mn=!0,dr(e,t,n),ot=r,mn=s;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&lf(n,t,i),s=s.next}while(s!==r)}dr(e,t,n);break;case 1:if(!ht&&(io(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,t,a)}dr(e,t,n);break;case 21:dr(e,t,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,dr(e,t,n),ht=r):dr(e,t,n);break;default:dr(e,t,n)}}function og(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tC),t.forEach(function(r){var s=dC.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,mn=!1;break e;case 3:ot=a.stateNode.containerInfo,mn=!0;break e;case 4:ot=a.stateNode.containerInfo,mn=!0;break e}a=a.return}if(ot===null)throw Error(V(160));H0(o,i,s),ot=null,mn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){qe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)V0(t,e),t=t.sibling}function V0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),Tn(e),r&4){try{Pi(3,e,e.return),Cc(3,e)}catch(p){qe(e,e.return,p)}try{Pi(5,e,e.return)}catch(p){qe(e,e.return,p)}}break;case 1:ln(t,e),Tn(e),r&512&&n!==null&&io(n,n.return);break;case 5:if(ln(t,e),Tn(e),r&512&&n!==null&&io(n,n.return),e.flags&32){var s=e.stateNode;try{Fi(s,"")}catch(p){qe(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&hy(s,o),Ad(a,i);var u=Ad(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?yy(s,f):d==="dangerouslySetInnerHTML"?gy(s,f):d==="children"?Fi(s,f):ih(s,d,f,u)}switch(a){case"input":Td(s,o);break;case"textarea":my(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?lo(s,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?lo(s,!!o.multiple,o.defaultValue,!0):lo(s,!!o.multiple,o.multiple?[]:"",!1))}s[Gi]=o}catch(p){qe(e,e.return,p)}}break;case 6:if(ln(t,e),Tn(e),r&4){if(e.stateNode===null)throw Error(V(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(p){qe(e,e.return,p)}}break;case 3:if(ln(t,e),Tn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wi(t.containerInfo)}catch(p){qe(e,e.return,p)}break;case 4:ln(t,e),Tn(e);break;case 13:ln(t,e),Tn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Fh=Ge())),r&4&&og(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ht=(u=ht)||d,ln(t,e),ht=u):ln(t,e),Tn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(f=Z=d;Z!==null;){switch(h=Z,g=h.child,h.tag){case 0:case 11:case 14:case 15:Pi(4,h,h.return);break;case 1:io(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(p){qe(r,n,p)}}break;case 5:io(h,h.return);break;case 22:if(h.memoizedState!==null){ag(f);continue}}g!==null?(g.return=h,Z=g):ag(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=vy("display",i))}catch(p){qe(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){qe(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ln(t,e),Tn(e),r&4&&og(e);break;case 21:break;default:ln(t,e),Tn(e)}}function Tn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(W0(n)){var r=n;break e}n=n.return}throw Error(V(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fi(s,""),r.flags&=-33);var o=sg(e);df(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=sg(e);uf(e,a,i);break;default:throw Error(V(161))}}catch(c){qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rC(e,t,n){Z=e,q0(e)}function q0(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var s=Z,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ga;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||ht;a=Ga;var u=ht;if(Ga=i,(ht=c)&&!u)for(Z=s;Z!==null;)i=Z,c=i.child,i.tag===22&&i.memoizedState!==null?lg(s):c!==null?(c.return=i,Z=c):lg(s);for(;o!==null;)Z=o,q0(o),o=o.sibling;Z=s,Ga=a,ht=u}ig(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Z=o):ig(e)}}function ig(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ht||Cc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ht)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:dn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Hp(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hp(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}ht||t.flags&512&&cf(t)}catch(h){qe(t,t.return,h)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function ag(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function lg(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Cc(4,t)}catch(c){qe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){qe(t,s,c)}}var o=t.return;try{cf(t)}catch(c){qe(t,o,c)}break;case 5:var i=t.return;try{cf(t)}catch(c){qe(t,i,c)}}}catch(c){qe(t,t.return,c)}if(t===e){Z=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Z=a;break}Z=t.return}}var sC=Math.ceil,Gl=cr.ReactCurrentDispatcher,Lh=cr.ReactCurrentOwner,nn=cr.ReactCurrentBatchConfig,xe=0,st=null,Xe=null,it=0,Ft=0,ao=Kr(0),et=0,ea=null,_s=0,Nc=0,$h=0,Ri=null,kt=null,Fh=0,Lo=1/0,Kn=null,Kl=!1,ff=null,$r=null,Ka=!1,Rr=null,Ql=0,Oi=0,hf=null,wl=-1,bl=0;function St(){return xe&6?Ge():wl!==-1?wl:wl=Ge()}function Fr(e){return e.mode&1?xe&2&&it!==0?it&-it:BE.transition!==null?(bl===0&&(bl=Py()),bl):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:Ly(e.type)),e):1}function xn(e,t,n,r){if(50<Oi)throw Oi=0,hf=null,Error(V(185));ha(e,n,r),(!(xe&2)||e!==st)&&(e===st&&(!(xe&2)&&(Nc|=n),et===4&&_r(e,it)),At(e,r),n===1&&xe===0&&!(t.mode&1)&&(Lo=Ge()+500,Sc&&Qr()))}function At(e,t){var n=e.callbackNode;B_(e,t);var r=Dl(e,e===st?it:0);if(r===0)n!==null&&vp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vp(n),t===1)e.tag===0?UE(cg.bind(null,e)):n0(cg.bind(null,e)),ME(function(){!(xe&6)&&Qr()}),n=null;else{switch(Ry(r)){case 1:n=dh;break;case 4:n=ky;break;case 16:n=Ol;break;case 536870912:n=Ty;break;default:n=Ol}n=ex(n,Y0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Y0(e,t){if(wl=-1,bl=0,xe&6)throw Error(V(327));var n=e.callbackNode;if(mo()&&e.callbackNode!==n)return null;var r=Dl(e,e===st?it:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Jl(e,r);else{t=r;var s=xe;xe|=2;var o=K0();(st!==e||it!==t)&&(Kn=null,Lo=Ge()+500,ps(e,t));do try{aC();break}catch(a){G0(e,a)}while(!0);Eh(),Gl.current=o,xe=s,Xe!==null?t=0:(st=null,it=0,t=et)}if(t!==0){if(t===2&&(s=Fd(e),s!==0&&(r=s,t=mf(e,s))),t===1)throw n=ea,ps(e,0),_r(e,r),At(e,Ge()),n;if(t===6)_r(e,r);else{if(s=e.current.alternate,!(r&30)&&!oC(s)&&(t=Jl(e,r),t===2&&(o=Fd(e),o!==0&&(r=o,t=mf(e,o))),t===1))throw n=ea,ps(e,0),_r(e,r),At(e,Ge()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(V(345));case 2:ss(e,kt,Kn);break;case 3:if(_r(e,r),(r&130023424)===r&&(t=Fh+500-Ge(),10<t)){if(Dl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){St(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yd(ss.bind(null,e,kt,Kn),t);break}ss(e,kt,Kn);break;case 4:if(_r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-yn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sC(r/1960))-r,10<r){e.timeoutHandle=Yd(ss.bind(null,e,kt,Kn),r);break}ss(e,kt,Kn);break;case 5:ss(e,kt,Kn);break;default:throw Error(V(329))}}}return At(e,Ge()),e.callbackNode===n?Y0.bind(null,e):null}function mf(e,t){var n=Ri;return e.current.memoizedState.isDehydrated&&(ps(e,t).flags|=256),e=Jl(e,t),e!==2&&(t=kt,kt=n,t!==null&&pf(t)),e}function pf(e){kt===null?kt=e:kt.push.apply(kt,e)}function oC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!wn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t){for(t&=~$h,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-yn(t),r=1<<n;e[n]=-1,t&=~r}}function cg(e){if(xe&6)throw Error(V(327));mo();var t=Dl(e,0);if(!(t&1))return At(e,Ge()),null;var n=Jl(e,t);if(e.tag!==0&&n===2){var r=Fd(e);r!==0&&(t=r,n=mf(e,r))}if(n===1)throw n=ea,ps(e,0),_r(e,t),At(e,Ge()),n;if(n===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ss(e,kt,Kn),At(e,Ge()),null}function Uh(e,t){var n=xe;xe|=1;try{return e(t)}finally{xe=n,xe===0&&(Lo=Ge()+500,Sc&&Qr())}}function Es(e){Rr!==null&&Rr.tag===0&&!(xe&6)&&mo();var t=xe;xe|=1;var n=nn.transition,r=Pe;try{if(nn.transition=null,Pe=1,e)return e()}finally{Pe=r,nn.transition=n,xe=t,!(xe&6)&&Qr()}}function Bh(){Ft=ao.current,$e(ao)}function ps(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,IE(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(bh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$l();break;case 3:Io(),$e(Ot),$e(mt),Ph();break;case 5:Th(r);break;case 4:Io();break;case 13:$e(ze);break;case 19:$e(ze);break;case 10:Ch(r.type._context);break;case 22:case 23:Bh()}n=n.return}if(st=e,Xe=e=Ur(e.current,null),it=Ft=t,et=0,ea=null,$h=Nc=_s=0,kt=Ri=null,cs!==null){for(t=0;t<cs.length;t++)if(n=cs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}cs=null}return e}function G0(e,t){do{var n=Xe;try{if(Eh(),vl.current=Yl,ql){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ql=!1}if(Ss=0,rt=Ze=We=null,Ti=!1,Ji=0,Lh.current=null,n===null||n.return===null){et=1,ea=t,Xe=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=it,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Qp(i);if(g!==null){g.flags&=-257,Jp(g,i,a,o,t),g.mode&1&&Kp(o,u,t),t=g,c=u;var w=t.updateQueue;if(w===null){var p=new Set;p.add(c),t.updateQueue=p}else w.add(c);break e}else{if(!(t&1)){Kp(o,u,t),zh();break e}c=Error(V(426))}}else if(Fe&&a.mode&1){var b=Qp(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Jp(b,i,a,o,t),Sh(Mo(c,a));break e}}o=c=Mo(c,a),et!==4&&(et=2),Ri===null?Ri=[o]:Ri.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=R0(o,c,t);Wp(o,y);break e;case 1:a=c;var v=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($r===null||!$r.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=O0(o,a,t);Wp(o,S);break e}}o=o.return}while(o!==null)}J0(n)}catch(_){t=_,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function K0(){var e=Gl.current;return Gl.current=Yl,e===null?Yl:e}function zh(){(et===0||et===3||et===2)&&(et=4),st===null||!(_s&268435455)&&!(Nc&268435455)||_r(st,it)}function Jl(e,t){var n=xe;xe|=2;var r=K0();(st!==e||it!==t)&&(Kn=null,ps(e,t));do try{iC();break}catch(s){G0(e,s)}while(!0);if(Eh(),xe=n,Gl.current=r,Xe!==null)throw Error(V(261));return st=null,it=0,et}function iC(){for(;Xe!==null;)Q0(Xe)}function aC(){for(;Xe!==null&&!O_();)Q0(Xe)}function Q0(e){var t=Z0(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?J0(e):Xe=t,Lh.current=null}function J0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=eC(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Xe=null;return}}else if(n=ZE(n,t,Ft),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);et===0&&(et=5)}function ss(e,t,n){var r=Pe,s=nn.transition;try{nn.transition=null,Pe=1,lC(e,t,n,r)}finally{nn.transition=s,Pe=r}return null}function lC(e,t,n,r){do mo();while(Rr!==null);if(xe&6)throw Error(V(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(z_(e,o),e===st&&(Xe=st=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ka||(Ka=!0,ex(Ol,function(){return mo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nn.transition,nn.transition=null;var i=Pe;Pe=1;var a=xe;xe|=4,Lh.current=null,nC(e,n),V0(n,e),kE(Vd),Al=!!Hd,Vd=Hd=null,e.current=n,rC(n),D_(),xe=a,Pe=i,nn.transition=o}else e.current=n;if(Ka&&(Ka=!1,Rr=e,Ql=s),o=e.pendingLanes,o===0&&($r=null),M_(n.stateNode),At(e,Ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kl)throw Kl=!1,e=ff,ff=null,e;return Ql&1&&e.tag!==0&&mo(),o=e.pendingLanes,o&1?e===hf?Oi++:(Oi=0,hf=e):Oi=0,Qr(),null}function mo(){if(Rr!==null){var e=Ry(Ql),t=nn.transition,n=Pe;try{if(nn.transition=null,Pe=16>e?16:e,Rr===null)var r=!1;else{if(e=Rr,Rr=null,Ql=0,xe&6)throw Error(V(331));var s=xe;for(xe|=4,Z=e.current;Z!==null;){var o=Z,i=o.child;if(Z.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Pi(8,d,o)}var f=d.child;if(f!==null)f.return=d,Z=f;else for(;Z!==null;){d=Z;var h=d.sibling,g=d.return;if(z0(d),d===u){Z=null;break}if(h!==null){h.return=g,Z=h;break}Z=g}}}var w=o.alternate;if(w!==null){var p=w.child;if(p!==null){w.child=null;do{var b=p.sibling;p.sibling=null,p=b}while(p!==null)}}Z=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Z=i;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pi(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Z=y;break e}Z=o.return}}var v=e.current;for(Z=v;Z!==null;){i=Z;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,Z=x;else e:for(i=v;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cc(9,a)}}catch(_){qe(a,a.return,_)}if(a===i){Z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Z=S;break e}Z=a.return}}if(xe=s,Qr(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(vc,e)}catch{}r=!0}return r}finally{Pe=n,nn.transition=t}}return!1}function ug(e,t,n){t=Mo(n,t),t=R0(e,t,1),e=Lr(e,t,1),t=St(),e!==null&&(ha(e,1,t),At(e,t))}function qe(e,t,n){if(e.tag===3)ug(e,e,n);else for(;t!==null;){if(t.tag===3){ug(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){e=Mo(n,e),e=O0(t,e,1),t=Lr(t,e,1),e=St(),t!==null&&(ha(t,1,e),At(t,e));break}}t=t.return}}function cC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=St(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(it&n)===n&&(et===4||et===3&&(it&130023424)===it&&500>Ge()-Fh?ps(e,0):$h|=n),At(e,t)}function X0(e,t){t===0&&(e.mode&1?(t=Fa,Fa<<=1,!(Fa&130023424)&&(Fa=4194304)):t=1);var n=St();e=or(e,t),e!==null&&(ha(e,t,n),At(e,n))}function uC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),X0(e,n)}function dC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(V(314))}r!==null&&r.delete(t),X0(e,n)}var Z0;Z0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)Pt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pt=!1,XE(e,t,n);Pt=!!(e.flags&131072)}else Pt=!1,Fe&&t.flags&1048576&&r0(t,Bl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xl(e,t),e=t.pendingProps;var s=Oo(t,mt.current);ho(t,n),s=Oh(null,t,r,e,s,n);var o=Dh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(r)?(o=!0,Fl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jh(t),s.updater=Ec,t.stateNode=s,s._reactInternals=t,ef(t,r,e,n),t=rf(null,t,r,!0,o,n)):(t.tag=0,Fe&&o&&wh(t),yt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=hC(r),e=dn(r,e),s){case 0:t=nf(null,t,r,e,n);break e;case 1:t=eg(null,t,r,e,n);break e;case 11:t=Xp(null,t,r,e,n);break e;case 14:t=Zp(null,t,r,dn(r.type,e),n);break e}throw Error(V(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),nf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),eg(e,t,r,s,n);case 3:e:{if(M0(t),e===null)throw Error(V(387));r=t.pendingProps,o=t.memoizedState,s=o.element,c0(e,t),Hl(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Mo(Error(V(423)),t),t=tg(e,t,r,n,s);break e}else if(r!==s){s=Mo(Error(V(424)),t),t=tg(e,t,r,n,s);break e}else for(Bt=Mr(t.stateNode.containerInfo.firstChild),zt=t,Fe=!0,gn=null,n=a0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Do(),r===s){t=ir(e,t,n);break e}yt(e,t,r,n)}t=t.child}return t;case 5:return u0(t),e===null&&Jd(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,qd(r,s)?i=null:o!==null&&qd(r,o)&&(t.flags|=32),I0(e,t),yt(e,t,i,n),t.child;case 6:return e===null&&Jd(t),null;case 13:return L0(e,t,n);case 4:return kh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ao(t,null,r,n):yt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),Xp(e,t,r,s,n);case 7:return yt(e,t,t.pendingProps,n),t.child;case 8:return yt(e,t,t.pendingProps.children,n),t.child;case 12:return yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,De(zl,r._currentValue),r._currentValue=i,o!==null)if(wn(o.value,i)){if(o.children===s.children&&!Ot.current){t=ir(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=tr(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Xd(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(V(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Xd(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}yt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ho(t,n),s=sn(s),r=r(s),t.flags|=1,yt(e,t,r,n),t.child;case 14:return r=t.type,s=dn(r,t.pendingProps),s=dn(r.type,s),Zp(e,t,r,s,n);case 15:return D0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:dn(r,s),xl(e,t),t.tag=1,Dt(r)?(e=!0,Fl(t)):e=!1,ho(t,n),P0(t,r,s),ef(t,r,s,n),rf(null,t,r,!0,e,n);case 19:return $0(e,t,n);case 22:return A0(e,t,n)}throw Error(V(156,t.tag))};function ex(e,t){return jy(e,t)}function fC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,n,r){return new fC(e,t,n,r)}function Wh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hC(e){if(typeof e=="function")return Wh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lh)return 11;if(e===ch)return 14}return 2}function Ur(e,t){var n=e.alternate;return n===null?(n=tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sl(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Wh(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Js:return gs(n.children,s,o,t);case ah:i=8,s|=8;break;case Ed:return e=tn(12,n,t,s|2),e.elementType=Ed,e.lanes=o,e;case Cd:return e=tn(13,n,t,s),e.elementType=Cd,e.lanes=o,e;case Nd:return e=tn(19,n,t,s),e.elementType=Nd,e.lanes=o,e;case uy:return jc(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ly:i=10;break e;case cy:i=9;break e;case lh:i=11;break e;case ch:i=14;break e;case yr:i=16,r=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=tn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function gs(e,t,n,r){return e=tn(7,e,r,t),e.lanes=n,e}function jc(e,t,n,r){return e=tn(22,e,r,t),e.elementType=uy,e.lanes=n,e.stateNode={isHidden:!1},e}function qu(e,t,n){return e=tn(6,e,null,t),e.lanes=n,e}function Yu(e,t,n){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mC(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ju(0),this.expirationTimes=ju(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ju(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hh(e,t,n,r,s,o,i,a,c){return e=new mC(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=tn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jh(o),e}function pC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tx(e){if(!e)return zr;e=e._reactInternals;e:{if(Os(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var n=e.type;if(Dt(n))return t0(e,n,t)}return t}function nx(e,t,n,r,s,o,i,a,c){return e=Hh(n,r,!0,e,s,o,i,a,c),e.context=tx(null),n=e.current,r=St(),s=Fr(n),o=tr(r,s),o.callback=t??null,Lr(n,o,s),e.current.lanes=s,ha(e,s,r),At(e,r),e}function kc(e,t,n,r){var s=t.current,o=St(),i=Fr(s);return n=tx(n),t.context===null?t.context=n:t.pendingContext=n,t=tr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Lr(s,t,i),e!==null&&(xn(e,s,i,o),gl(e,s,i)),i}function Xl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vh(e,t){dg(e,t),(e=e.alternate)&&dg(e,t)}function gC(){return null}var rx=typeof reportError=="function"?reportError:function(e){console.error(e)};function qh(e){this._internalRoot=e}Tc.prototype.render=qh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));kc(e,t,null,null)};Tc.prototype.unmount=qh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Es(function(){kc(null,e,null,null)}),t[sr]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ay();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sr.length&&t!==0&&t<Sr[n].priority;n++);Sr.splice(n,0,e),n===0&&My(e)}};function Yh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fg(){}function vC(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Xl(i);o.call(u)}}var i=nx(t,r,e,0,null,!1,!1,"",fg);return e._reactRootContainer=i,e[sr]=i.current,qi(e.nodeType===8?e.parentNode:e),Es(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Xl(c);a.call(u)}}var c=Hh(e,0,!1,null,null,!1,!1,"",fg);return e._reactRootContainer=c,e[sr]=c.current,qi(e.nodeType===8?e.parentNode:e),Es(function(){kc(t,c,n,r)}),c}function Rc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=Xl(i);a.call(c)}}kc(t,i,e,s)}else i=vC(n,t,e,s,r);return Xl(i)}Oy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xi(t.pendingLanes);n!==0&&(fh(t,n|1),At(t,Ge()),!(xe&6)&&(Lo=Ge()+500,Qr()))}break;case 13:Es(function(){var r=or(e,1);if(r!==null){var s=St();xn(r,e,1,s)}}),Vh(e,1)}};hh=function(e){if(e.tag===13){var t=or(e,134217728);if(t!==null){var n=St();xn(t,e,134217728,n)}Vh(e,134217728)}};Dy=function(e){if(e.tag===13){var t=Fr(e),n=or(e,t);if(n!==null){var r=St();xn(n,e,t,r)}Vh(e,t)}};Ay=function(){return Pe};Iy=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};Md=function(e,t,n){switch(t){case"input":if(Td(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bc(r);if(!s)throw Error(V(90));fy(r),Td(r,s)}}}break;case"textarea":my(e,n);break;case"select":t=n.value,t!=null&&lo(e,!!n.multiple,t,!1)}};by=Uh;Sy=Es;var yC={usingClientEntryPoint:!1,Events:[pa,to,bc,xy,wy,Uh]},di={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xC={bundleType:di.bundleType,version:di.version,rendererPackageName:di.rendererPackageName,rendererConfig:di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cy(e),e===null?null:e.stateNode},findFiberByHostInstance:di.findFiberByHostInstance||gC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qa.isDisabled&&Qa.supportsFiber)try{vc=Qa.inject(xC),Ln=Qa}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yC;Yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yh(t))throw Error(V(200));return pC(e,t,null,n)};Yt.createRoot=function(e,t){if(!Yh(e))throw Error(V(299));var n=!1,r="",s=rx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hh(e,1,!1,null,null,n,!1,r,s),e[sr]=t.current,qi(e.nodeType===8?e.parentNode:e),new qh(t)};Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Cy(t),e=e===null?null:e.stateNode,e};Yt.flushSync=function(e){return Es(e)};Yt.hydrate=function(e,t,n){if(!Pc(t))throw Error(V(200));return Rc(null,e,t,!0,n)};Yt.hydrateRoot=function(e,t,n){if(!Yh(e))throw Error(V(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=rx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=nx(t,null,e,1,n??null,s,!1,o,i),e[sr]=t.current,qi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Tc(t)};Yt.render=function(e,t,n){if(!Pc(t))throw Error(V(200));return Rc(null,e,t,!1,n)};Yt.unmountComponentAtNode=function(e){if(!Pc(e))throw Error(V(40));return e._reactRootContainer?(Es(function(){Rc(null,null,e,!1,function(){e._reactRootContainer=null,e[sr]=null})}),!0):!1};Yt.unstable_batchedUpdates=Uh;Yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Pc(n))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return Rc(e,t,n,!1,r)};Yt.version="18.3.1-next-f1338f8080-20240426";function sx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sx)}catch(e){console.error(e)}}sx(),sy.exports=Yt;var Ds=sy.exports;const ox=Vv(Ds);var ix,hg=Ds;ix=hg.createRoot,hg.hydrateRoot;const wC=1,bC=1e6;let Gu=0;function SC(){return Gu=(Gu+1)%Number.MAX_SAFE_INTEGER,Gu.toString()}const Ku=new Map,mg=e=>{if(Ku.has(e))return;const t=setTimeout(()=>{Ku.delete(e),Di({type:"REMOVE_TOAST",toastId:e})},bC);Ku.set(e,t)},_C=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,wC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?mg(n):e.toasts.forEach(r=>{mg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},_l=[];let El={toasts:[]};function Di(e){El=_C(El,e),_l.forEach(t=>{t(El)})}function EC({...e}){const t=SC(),n=s=>Di({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Di({type:"DISMISS_TOAST",toastId:t});return Di({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Mt(){const[e,t]=m.useState(El);return m.useEffect(()=>(_l.push(t),()=>{const n=_l.indexOf(t);n>-1&&_l.splice(n,1)}),[e]),{...e,toast:EC,dismiss:n=>Di({type:"DISMISS_TOAST",toastId:n})}}function ee(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function CC(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ax(...e){return t=>e.forEach(n=>CC(n,t))}function ye(...e){return m.useCallback(ax(...e),e)}function NC(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:g,...w}=f,p=(h==null?void 0:h[e][c])||a,b=m.useMemo(()=>w,Object.values(w));return l.jsx(p.Provider,{value:b,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||a,w=m.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,jC(s,...t)]}function jC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Wr=m.forwardRef((e,t)=>{const{children:n,...r}=e,s=m.Children.toArray(n),o=s.find(kC);if(o){const i=o.props.children,a=s.map(c=>c===o?m.Children.count(i)>1?m.Children.only(null):m.isValidElement(i)?i.props.children:null:c);return l.jsx(gf,{...r,ref:t,children:m.isValidElement(i)?m.cloneElement(i,void 0,a):null})}return l.jsx(gf,{...r,ref:t,children:n})});Wr.displayName="Slot";var gf=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const s=PC(n);return m.cloneElement(n,{...TC(r,n.props),ref:t?ax(t,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});gf.displayName="SlotClone";var lx=({children:e})=>l.jsx(l.Fragment,{children:e});function kC(e){return m.isValidElement(e)&&e.type===lx}function TC(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function PC(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Gh(e){const t=e+"CollectionProvider",[n,r]=NC(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:w,children:p}=g,b=G.useRef(null),y=G.useRef(new Map).current;return l.jsx(s,{scope:w,itemMap:y,collectionRef:b,children:p})};i.displayName=t;const a=e+"CollectionSlot",c=G.forwardRef((g,w)=>{const{scope:p,children:b}=g,y=o(a,p),v=ye(w,y.collectionRef);return l.jsx(Wr,{ref:v,children:b})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=G.forwardRef((g,w)=>{const{scope:p,children:b,...y}=g,v=G.useRef(null),x=ye(w,v),S=o(u,p);return G.useEffect(()=>(S.itemMap.set(v,{ref:v,...y}),()=>void S.itemMap.delete(v))),l.jsx(Wr,{[d]:"",ref:x,children:b})});f.displayName=u;function h(g){const w=o(e+"CollectionConsumer",g);return G.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((S,_)=>y.indexOf(S.ref.current)-y.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},h,r]}function RC(e,t){const n=m.createContext(t),r=o=>{const{children:i,...a}=o,c=m.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function As(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),c=n.length;n=[...n,i];const u=f=>{var y;const{scope:h,children:g,...w}=f,p=((y=h==null?void 0:h[e])==null?void 0:y[c])||a,b=m.useMemo(()=>w,Object.values(w));return l.jsx(p.Provider,{value:b,children:g})};u.displayName=o+"Provider";function d(f,h){var p;const g=((p=h==null?void 0:h[e])==null?void 0:p[c])||a,w=m.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,OC(s,...t)]}function OC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var DC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ae=DC.reduce((e,t)=>{const n=m.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?Wr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function cx(e,t){e&&Ds.flushSync(()=>e.dispatchEvent(t))}function Ke(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function AC(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var IC="DismissableLayer",vf="dismissableLayer.update",MC="dismissableLayer.pointerDownOutside",LC="dismissableLayer.focusOutside",pg,ux=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Go=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=m.useContext(ux),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),w=ye(t,N=>f(N)),p=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(b),v=d?p.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=y,_=FC(N=>{const j=N.target,D=[...u.branches].some(O=>O.contains(j));!S||D||(s==null||s(N),i==null||i(N),N.defaultPrevented||a==null||a())},h),C=UC(N=>{const j=N.target;[...u.branches].some(O=>O.contains(j))||(o==null||o(N),i==null||i(N),N.defaultPrevented||a==null||a())},h);return AC(N=>{v===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),gg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=pg)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),gg())},[d,u]),m.useEffect(()=>{const N=()=>g({});return document.addEventListener(vf,N),()=>document.removeEventListener(vf,N)},[]),l.jsx(ae.div,{...c,ref:w,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:ee(e.onFocusCapture,C.onFocusCapture),onBlurCapture:ee(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:ee(e.onPointerDownCapture,_.onPointerDownCapture)})});Go.displayName=IC;var $C="DismissableLayerBranch",dx=m.forwardRef((e,t)=>{const n=m.useContext(ux),r=m.useRef(null),s=ye(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(ae.div,{...e,ref:s})});dx.displayName=$C;function FC(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){fx(MC,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function UC(e,t=globalThis==null?void 0:globalThis.document){const n=Ke(e),r=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!r.current&&fx(LC,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function gg(){const e=new CustomEvent(vf);document.dispatchEvent(e)}function fx(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?cx(s,o):s.dispatchEvent(o)}var BC=Go,zC=dx,lt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},WC="Portal",va=m.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=m.useState(!1);lt(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?ox.createPortal(l.jsx(ae.div,{...r,ref:t}),i):null});va.displayName=WC;function HC(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Kt=e=>{const{present:t,children:n}=e,r=VC(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=ye(r.ref,qC(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:o}):null};Kt.displayName="Presence";function VC(e){const[t,n]=m.useState(),r=m.useRef({}),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[a,c]=HC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Ja(r.current);o.current=a==="mounted"?u:"none"},[a]),lt(()=>{const u=r.current,d=s.current;if(d!==e){const h=o.current,g=Ja(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),lt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const p=Ja(r.current).includes(g.animationName);if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=g=>{g.target===t&&(o.current=Ja(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Ja(e){return(e==null?void 0:e.animationName)||"none"}function qC(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Cs({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=YC({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,a=Ke(n),c=m.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&a(f)}else s(u)},[o,e,s,a]);return[i,c]}function YC({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),o=Ke(t);return m.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var GC="VisuallyHidden",ya=m.forwardRef((e,t)=>l.jsx(ae.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ya.displayName=GC;var KC=ya,Kh="ToastProvider",[Qh,QC,JC]=Gh("Toast"),[hx,h4]=As("Toast",[JC]),[XC,Oc]=hx(Kh),mx=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kh}\`. Expected non-empty \`string\`.`),l.jsx(Qh.Provider,{scope:t,children:l.jsx(XC,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:m.useCallback(()=>d(g=>g+1),[]),onToastRemove:m.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};mx.displayName=Kh;var px="ToastViewport",ZC=["F8"],yf="toast.viewportPause",xf="toast.viewportResume",gx=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=ZC,label:s="Notifications ({hotkey})",...o}=e,i=Oc(px,n),a=QC(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=ye(t,f,i.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;m.useEffect(()=>{const b=y=>{var x;r.length!==0&&r.every(S=>y[S]||y.code===S)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=c.current,y=f.current;if(w&&b&&y){const v=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(yf);y.dispatchEvent(C),i.isClosePausedRef.current=!0}},x=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(xf);y.dispatchEvent(C),i.isClosePausedRef.current=!1}},S=C=>{!b.contains(C.relatedTarget)&&x()},_=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",v),b.addEventListener("focusout",S),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[w,i.isClosePausedRef]);const p=m.useCallback(({tabbingDirection:b})=>{const v=a().map(x=>{const S=x.ref.current,_=[S,...fN(S)];return b==="forwards"?_:_.reverse()});return(b==="forwards"?v.reverse():v).flat()},[a]);return m.useEffect(()=>{const b=f.current;if(b){const y=v=>{var _,C,N;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const j=document.activeElement,D=v.shiftKey;if(v.target===b&&D){(_=u.current)==null||_.focus();return}const W=p({tabbingDirection:D?"backwards":"forwards"}),I=W.findIndex(k=>k===j);Qu(W.slice(I+1))?v.preventDefault():D?(C=u.current)==null||C.focus():(N=d.current)==null||N.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[a,p]),l.jsxs(zC,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&l.jsx(wf,{ref:u,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"forwards"});Qu(b)}}),l.jsx(Qh.Slot,{scope:n,children:l.jsx(ae.ol,{tabIndex:-1,...o,ref:h})}),w&&l.jsx(wf,{ref:d,onFocusFromOutsideViewport:()=>{const b=p({tabbingDirection:"backwards"});Qu(b)}})]})});gx.displayName=px;var vx="ToastFocusProxy",wf=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Oc(vx,n);return l.jsx(ya,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});wf.displayName=vx;var Dc="Toast",eN="toast.swipeStart",tN="toast.swipeMove",nN="toast.swipeCancel",rN="toast.swipeEnd",yx=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[a=!0,c]=Cs({prop:r,defaultProp:s,onChange:o});return l.jsx(Kt,{present:n||a,children:l.jsx(iN,{open:a,...i,ref:t,onClose:()=>c(!1),onPause:Ke(e.onPause),onResume:Ke(e.onResume),onSwipeStart:ee(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ee(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});yx.displayName=Dc;var[sN,oN]=hx(Dc,{onClose(){}}),iN=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:g,...w}=e,p=Oc(Dc,n),[b,y]=m.useState(null),v=ye(t,k=>y(k)),x=m.useRef(null),S=m.useRef(null),_=s||p.duration,C=m.useRef(0),N=m.useRef(_),j=m.useRef(0),{onToastAdd:D,onToastRemove:O}=p,Y=Ke(()=>{var R;(b==null?void 0:b.contains(document.activeElement))&&((R=p.viewport)==null||R.focus()),i()}),W=m.useCallback(k=>{!k||k===1/0||(window.clearTimeout(j.current),C.current=new Date().getTime(),j.current=window.setTimeout(Y,k))},[Y]);m.useEffect(()=>{const k=p.viewport;if(k){const R=()=>{W(N.current),u==null||u()},T=()=>{const P=new Date().getTime()-C.current;N.current=N.current-P,window.clearTimeout(j.current),c==null||c()};return k.addEventListener(yf,T),k.addEventListener(xf,R),()=>{k.removeEventListener(yf,T),k.removeEventListener(xf,R)}}},[p.viewport,_,c,u,W]),m.useEffect(()=>{o&&!p.isClosePausedRef.current&&W(_)},[o,_,p.isClosePausedRef,W]),m.useEffect(()=>(D(),()=>O()),[D,O]);const I=m.useMemo(()=>b?Cx(b):null,[b]);return p.viewport?l.jsxs(l.Fragment,{children:[I&&l.jsx(aN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),l.jsx(sN,{scope:n,onClose:Y,children:Ds.createPortal(l.jsx(Qh.ItemSlot,{scope:n,children:l.jsx(BC,{asChild:!0,onEscapeKeyDown:ee(a,()=>{p.isFocusedToastEscapeKeyDownRef.current||Y(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ee(e.onKeyDown,k=>{k.key==="Escape"&&(a==null||a(k.nativeEvent),k.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,Y()))}),onPointerDown:ee(e.onPointerDown,k=>{k.button===0&&(x.current={x:k.clientX,y:k.clientY})}),onPointerMove:ee(e.onPointerMove,k=>{if(!x.current)return;const R=k.clientX-x.current.x,T=k.clientY-x.current.y,P=!!S.current,E=["left","right"].includes(p.swipeDirection),A=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,F=E?A(0,R):0,L=E?0:A(0,T),B=k.pointerType==="touch"?10:2,z={x:F,y:L},te={originalEvent:k,delta:z};P?(S.current=z,Xa(tN,f,te,{discrete:!1})):vg(z,p.swipeDirection,B)?(S.current=z,Xa(eN,d,te,{discrete:!1}),k.target.setPointerCapture(k.pointerId)):(Math.abs(R)>B||Math.abs(T)>B)&&(x.current=null)}),onPointerUp:ee(e.onPointerUp,k=>{const R=S.current,T=k.target;if(T.hasPointerCapture(k.pointerId)&&T.releasePointerCapture(k.pointerId),S.current=null,x.current=null,R){const P=k.currentTarget,E={originalEvent:k,delta:R};vg(R,p.swipeDirection,p.swipeThreshold)?Xa(rN,g,E,{discrete:!0}):Xa(nN,h,E,{discrete:!0}),P.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),aN=e=>{const{__scopeToast:t,children:n,...r}=e,s=Oc(Dc,t),[o,i]=m.useState(!1),[a,c]=m.useState(!1);return uN(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(va,{asChild:!0,children:l.jsx(ya,{...r,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},lN="ToastTitle",xx=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ae.div,{...r,ref:t})});xx.displayName=lN;var cN="ToastDescription",wx=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ae.div,{...r,ref:t})});wx.displayName=cN;var bx="ToastAction",Sx=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(Ex,{altText:n,asChild:!0,children:l.jsx(Jh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${bx}\`. Expected non-empty \`string\`.`),null)});Sx.displayName=bx;var _x="ToastClose",Jh=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=oN(_x,n);return l.jsx(Ex,{asChild:!0,children:l.jsx(ae.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,s.onClose)})})});Jh.displayName=_x;var Ex=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function Cx(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),dN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...Cx(r))}}),t}function Xa(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?cx(s,o):s.dispatchEvent(o)}var vg=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function uN(e=()=>{}){const t=Ke(e);lt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function dN(e){return e.nodeType===e.ELEMENT_NODE}function fN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var hN=mx,Nx=gx,jx=yx,kx=xx,Tx=wx,Px=Sx,Rx=Jh;function Ox(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ox(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Dx(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ox(e))&&(r&&(r+=" "),r+=t);return r}const yg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xg=Dx,xa=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return xg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=yg(d)||yg(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(w=>{let[p,b]=w;return Array.isArray(b)?b.includes({...o,...a}[p]):{...o,...a}[p]===b})?[...u,f,h]:u},[]);return xg(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ax=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>m.createElement("svg",{ref:c,...pN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Ax("lucide",s),...a},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,t)=>{const n=m.forwardRef(({className:r,...s},o)=>m.createElement(gN,{ref:o,iconNode:t,className:Ax(`lucide-${mN(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=Ne("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=Ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=Ne("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=Ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=Ne("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=Ne("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=Ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=Ne("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=Ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zh="-",kN=e=>{const t=PN(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(Zh);return a[0]===""&&a.length!==1&&a.shift(),Fx(a,t)||TN(i)},getConflictingClassGroupIds:(i,a)=>{const c=n[i]||[];return a&&r[i]?[...c,...r[i]]:c}}},Fx=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Fx(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Zh);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Cg=/^\[(.+)\]$/,TN=e=>{if(Cg.test(e)){const t=Cg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},PN=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return ON(Object.entries(e.classGroups),n).forEach(([o,i])=>{Ef(i,r,o,t)}),r},Ef=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Ng(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(RN(s)){Ef(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Ef(i,Ng(t,o),n,r)})})},Ng=(e,t)=>{let n=e;return t.split(Zh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},RN=e=>e.isThemeGetter,ON=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,DN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},Ux="!",AN=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,f;for(let b=0;b<a.length;b++){let y=a[b];if(u===0){if(y===s&&(r||a.slice(b,b+o)===t)){c.push(a.slice(d,b)),d=b+o;continue}if(y==="/"){f=b;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?a:a.substring(d),g=h.startsWith(Ux),w=g?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:p}};return n?a=>n({className:a,parseClassName:i}):i},IN=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},MN=e=>({cache:DN(e.cacheSize),parseClassName:AN(e),...kN(e)}),LN=/\s+/,$N=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(LN);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=n(u);let w=!!g,p=r(w?h.substring(0,g):h);if(!p){if(!w){a=u+(a.length>0?" "+a:a);continue}if(p=r(h),!p){a=u+(a.length>0?" "+a:a);continue}w=!1}const b=IN(d).join(":"),y=f?b+Ux:b,v=y+p;if(o.includes(v))continue;o.push(v);const x=s(p,w);for(let S=0;S<x.length;++S){const _=x[S];o.push(y+_)}a=u+(a.length>0?" "+a:a)}return a};function FN(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Bx(t))&&(r&&(r+=" "),r+=n);return r}const Bx=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Bx(e[r]))&&(n&&(n+=" "),n+=t);return n};function UN(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=MN(u),r=n.cache.get,s=n.cache.set,o=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=$N(c,n);return s(c,d),d}return function(){return o(FN.apply(null,arguments))}}const Me=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},zx=/^\[(?:([a-z-]+):)?(.+)\]$/i,BN=/^\d+\/\d+$/,zN=new Set(["px","full","screen"]),WN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vn=e=>po(e)||zN.has(e)||BN.test(e),fr=e=>Ko(e,"length",tj),po=e=>!!e&&!Number.isNaN(Number(e)),Ju=e=>Ko(e,"number",po),fi=e=>!!e&&Number.isInteger(Number(e)),GN=e=>e.endsWith("%")&&po(e.slice(0,-1)),de=e=>zx.test(e),hr=e=>WN.test(e),KN=new Set(["length","size","percentage"]),QN=e=>Ko(e,KN,Wx),JN=e=>Ko(e,"position",Wx),XN=new Set(["image","url"]),ZN=e=>Ko(e,XN,rj),ej=e=>Ko(e,"",nj),hi=()=>!0,Ko=(e,t,n)=>{const r=zx.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},tj=e=>HN.test(e)&&!VN.test(e),Wx=()=>!1,nj=e=>qN.test(e),rj=e=>YN.test(e),sj=()=>{const e=Me("colors"),t=Me("spacing"),n=Me("blur"),r=Me("brightness"),s=Me("borderColor"),o=Me("borderRadius"),i=Me("borderSpacing"),a=Me("borderWidth"),c=Me("contrast"),u=Me("grayscale"),d=Me("hueRotate"),f=Me("invert"),h=Me("gap"),g=Me("gradientColorStops"),w=Me("gradientColorStopPositions"),p=Me("inset"),b=Me("margin"),y=Me("opacity"),v=Me("padding"),x=Me("saturate"),S=Me("scale"),_=Me("sepia"),C=Me("skew"),N=Me("space"),j=Me("translate"),D=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto",de,t],W=()=>[de,t],I=()=>["",Vn,fr],k=()=>["auto",po,de],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",de],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[po,de];return{cacheSize:500,separator:":",theme:{colors:[hi],spacing:[Vn,fr],blur:["none","",hr,de],brightness:L(),borderColor:[e],borderRadius:["none","","full",hr,de],borderSpacing:W(),borderWidth:I(),contrast:L(),grayscale:A(),hueRotate:L(),invert:A(),gap:W(),gradientColorStops:[e],gradientColorStopPositions:[GN,fr],inset:Y(),margin:Y(),opacity:L(),padding:W(),saturate:L(),scale:L(),sepia:A(),skew:L(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[hr]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),de]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fi,de]}],basis:[{basis:Y()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",fi,de]}],"grid-cols":[{"grid-cols":[hi]}],"col-start-end":[{col:["auto",{span:["full",fi,de]},de]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[hi]}],"row-start-end":[{row:["auto",{span:[fi,de]},de]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,t]}],"min-w":[{"min-w":[de,t,"min","max","fit"]}],"max-w":[{"max-w":[de,t,"none","full","min","max","fit","prose",{screen:[hr]},hr]}],h:[{h:[de,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,t,"auto","min","max","fit"]}],"font-size":[{text:["base",hr,fr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ju]}],"font-family":[{font:[hi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",po,Ju]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vn,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vn,fr]}],"underline-offset":[{"underline-offset":["auto",Vn,de]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),JN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",QN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ZN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Vn,de]}],"outline-w":[{outline:[Vn,fr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Vn,fr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",hr,ej]}],"shadow-color":[{shadow:[hi]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...P(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":P()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",hr,de]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[fi,de]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vn,fr,Ju]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},oj=UN(sj);function re(...e){return oj(Dx(e))}const ij=hN,Hx=m.forwardRef(({className:e,...t},n)=>l.jsx(Nx,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Hx.displayName=Nx.displayName;const aj=xa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Vx=m.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(jx,{ref:r,className:re(aj({variant:t}),e),...n}));Vx.displayName=jx.displayName;const lj=m.forwardRef(({className:e,...t},n)=>l.jsx(Px,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));lj.displayName=Px.displayName;const qx=m.forwardRef(({className:e,...t},n)=>l.jsx(Rx,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Ic,{className:"h-4 w-4"})}));qx.displayName=Rx.displayName;const Yx=m.forwardRef(({className:e,...t},n)=>l.jsx(kx,{ref:n,className:re("text-sm font-semibold",e),...t}));Yx.displayName=kx.displayName;const Gx=m.forwardRef(({className:e,...t},n)=>l.jsx(Tx,{ref:n,className:re("text-sm opacity-90",e),...t}));Gx.displayName=Tx.displayName;function cj(){const{toasts:e}=Mt();return l.jsxs(ij,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return l.jsxs(Vx,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(Yx,{children:n}),r&&l.jsx(Gx,{children:r})]}),s,l.jsx(qx,{})]},t)}),l.jsx(Hx,{})]})}var jg=["light","dark"],uj="(prefers-color-scheme: dark)",dj=m.createContext(void 0),fj={setTheme:e=>{},themes:[]},hj=()=>{var e;return(e=m.useContext(dj))!=null?e:fj};m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?jg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(w,p=!1,b=!0)=>{let y=i?i[w]:w,v=p?w+"|| ''":`'${y}'`,x="";return s&&b&&!p&&jg.includes(w)&&(x+=`d.style.colorScheme = '${w}';`),n==="class"?p||y?x+=`c.add(${v})`:x+="null":y&&(x+=`d[s](n,${v})`),x},g=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${uj}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var mj=e=>{switch(e){case"success":return vj;case"info":return xj;case"warning":return yj;case"error":return wj;default:return null}},pj=Array(12).fill(0),gj=({visible:e})=>G.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},G.createElement("div",{className:"sonner-spinner"},pj.map((t,n)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),vj=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yj=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),xj=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wj=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bj=()=>{let[e,t]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Cf=1,Sj=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Cf++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async o=>{if(Ej(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,a=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:n,type:"error",message:i,description:a})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"success",message:i,description:a})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"error",message:i,description:a})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=t.finally)==null||o.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Cf++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},$t=new Sj,_j=(e,t)=>{let n=(t==null?void 0:t.id)||Cf++;return $t.addToast({title:e,...t,id:n}),n},Ej=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Cj=_j,Nj=()=>$t.toasts,Us=Object.assign(Cj,{success:$t.success,info:$t.info,warning:$t.warning,error:$t.error,custom:$t.custom,message:$t.message,promise:$t.promise,dismiss:$t.dismiss,loading:$t.loading},{getHistory:Nj});function jj(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}jj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Za(e){return e.label!==void 0}var kj=3,Tj="32px",Pj=4e3,Rj=356,Oj=14,Dj=20,Aj=200;function Ij(...e){return e.filter(Boolean).join(" ")}var Mj=e=>{var t,n,r,s,o,i,a,c,u,d;let{invert:f,toast:h,unstyled:g,interacting:w,setHeights:p,visibleToasts:b,heights:y,index:v,toasts:x,expanded:S,removeToast:_,defaultRichColors:C,closeButton:N,style:j,cancelButtonStyle:D,actionButtonStyle:O,className:Y="",descriptionClassName:W="",duration:I,position:k,gap:R,loadingIcon:T,expandByDefault:P,classNames:E,icons:A,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:L,cn:B}=e,[z,te]=G.useState(!1),[ge,ne]=G.useState(!1),[M,H]=G.useState(!1),[K,q]=G.useState(!1),[J,X]=G.useState(0),[je,_e]=G.useState(0),Qe=G.useRef(null),ve=G.useRef(null),U=v===0,se=v+1<=b,pe=h.type,be=h.dismissible!==!1,Ye=h.className||"",Ra=h.descriptionClassName||"",ts=G.useMemo(()=>y.findIndex(ue=>ue.toastId===h.id)||0,[y,h.id]),Nn=G.useMemo(()=>{var ue;return(ue=h.closeButton)!=null?ue:N},[h.closeButton,N]),pt=G.useMemo(()=>h.duration||I||Pj,[h.duration,I]),xu=G.useRef(0),Ls=G.useRef(0),ep=G.useRef(0),$s=G.useRef(null),[tp,W1]=k.split("-"),np=G.useMemo(()=>y.reduce((ue,Ie,Re)=>Re>=ts?ue:ue+Ie.height,0),[y,ts]),rp=bj(),H1=h.invert||f,wu=pe==="loading";Ls.current=G.useMemo(()=>ts*R+np,[ts,np]),G.useEffect(()=>{te(!0)},[]),G.useLayoutEffect(()=>{if(!z)return;let ue=ve.current,Ie=ue.style.height;ue.style.height="auto";let Re=ue.getBoundingClientRect().height;ue.style.height=Ie,_e(Re),p(jn=>jn.find(kn=>kn.toastId===h.id)?jn.map(kn=>kn.toastId===h.id?{...kn,height:Re}:kn):[{toastId:h.id,height:Re,position:h.position},...jn])},[z,h.title,h.description,p,h.id]);let ur=G.useCallback(()=>{ne(!0),X(Ls.current),p(ue=>ue.filter(Ie=>Ie.toastId!==h.id)),setTimeout(()=>{_(h)},Aj)},[h,_,p,Ls]);G.useEffect(()=>{if(h.promise&&pe==="loading"||h.duration===1/0||h.type==="loading")return;let ue,Ie=pt;return S||w||L&&rp?(()=>{if(ep.current<xu.current){let Re=new Date().getTime()-xu.current;Ie=Ie-Re}ep.current=new Date().getTime()})():Ie!==1/0&&(xu.current=new Date().getTime(),ue=setTimeout(()=>{var Re;(Re=h.onAutoClose)==null||Re.call(h,h),ur()},Ie)),()=>clearTimeout(ue)},[S,w,P,h,pt,ur,h.promise,pe,L,rp]),G.useEffect(()=>{let ue=ve.current;if(ue){let Ie=ue.getBoundingClientRect().height;return _e(Ie),p(Re=>[{toastId:h.id,height:Ie,position:h.position},...Re]),()=>p(Re=>Re.filter(jn=>jn.toastId!==h.id))}},[p,h.id]),G.useEffect(()=>{h.delete&&ur()},[ur,h.delete]);function V1(){return A!=null&&A.loading?G.createElement("div",{className:"sonner-loader","data-visible":pe==="loading"},A.loading):T?G.createElement("div",{className:"sonner-loader","data-visible":pe==="loading"},T):G.createElement(gj,{visible:pe==="loading"})}return G.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ve,className:B(Y,Ye,E==null?void 0:E.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[pe],(n=h==null?void 0:h.classNames)==null?void 0:n[pe]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:C,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":z,"data-promise":!!h.promise,"data-removed":ge,"data-visible":se,"data-y-position":tp,"data-x-position":W1,"data-index":v,"data-front":U,"data-swiping":M,"data-dismissible":be,"data-type":pe,"data-invert":H1,"data-swipe-out":K,"data-expanded":!!(S||P&&z),style:{"--index":v,"--toasts-before":v,"--z-index":x.length-v,"--offset":`${ge?J:Ls.current}px`,"--initial-height":P?"auto":`${je}px`,...j,...h.style},onPointerDown:ue=>{wu||!be||(Qe.current=new Date,X(Ls.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(H(!0),$s.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,Ie,Re,jn;if(K||!be)return;$s.current=null;let kn=Number(((ue=ve.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Oa=new Date().getTime()-((Ie=Qe.current)==null?void 0:Ie.getTime()),q1=Math.abs(kn)/Oa;if(Math.abs(kn)>=Dj||q1>.11){X(Ls.current),(Re=h.onDismiss)==null||Re.call(h,h),ur(),q(!0);return}(jn=ve.current)==null||jn.style.setProperty("--swipe-amount","0px"),H(!1)},onPointerMove:ue=>{var Ie;if(!$s.current||!be)return;let Re=ue.clientY-$s.current.y,jn=ue.clientX-$s.current.x,kn=(tp==="top"?Math.min:Math.max)(0,Re),Oa=ue.pointerType==="touch"?10:2;Math.abs(kn)>Oa?(Ie=ve.current)==null||Ie.style.setProperty("--swipe-amount",`${Re}px`):Math.abs(jn)>Oa&&($s.current=null)}},Nn&&!h.jsx?G.createElement("button",{"aria-label":F,"data-disabled":wu,"data-close-button":!0,onClick:wu||!be?()=>{}:()=>{var ue;ur(),(ue=h.onDismiss)==null||ue.call(h,h)},className:B(E==null?void 0:E.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||G.isValidElement(h.title)?h.jsx||h.title:G.createElement(G.Fragment,null,pe||h.icon||h.promise?G.createElement("div",{"data-icon":"",className:B(E==null?void 0:E.icon,(o=h==null?void 0:h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||V1():null,h.type!=="loading"?h.icon||(A==null?void 0:A[pe])||mj(pe):null):null,G.createElement("div",{"data-content":"",className:B(E==null?void 0:E.content,(i=h==null?void 0:h.classNames)==null?void 0:i.content)},G.createElement("div",{"data-title":"",className:B(E==null?void 0:E.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?G.createElement("div",{"data-description":"",className:B(W,Ra,E==null?void 0:E.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),G.isValidElement(h.cancel)?h.cancel:h.cancel&&Za(h.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||D,onClick:ue=>{var Ie,Re;Za(h.cancel)&&be&&((Re=(Ie=h.cancel).onClick)==null||Re.call(Ie,ue),ur())},className:B(E==null?void 0:E.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,G.isValidElement(h.action)?h.action:h.action&&Za(h.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||O,onClick:ue=>{var Ie,Re;Za(h.action)&&(ue.defaultPrevented||((Re=(Ie=h.action).onClick)==null||Re.call(Ie,ue),ur()))},className:B(E==null?void 0:E.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function kg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Lj=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:a,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=kj,toastOptions:g,dir:w=kg(),gap:p=Oj,loadingIcon:b,icons:y,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:x,cn:S=Ij}=e,[_,C]=G.useState([]),N=G.useMemo(()=>Array.from(new Set([n].concat(_.filter(L=>L.position).map(L=>L.position)))),[_,n]),[j,D]=G.useState([]),[O,Y]=G.useState(!1),[W,I]=G.useState(!1),[k,R]=G.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=G.useRef(null),P=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=G.useRef(null),A=G.useRef(!1),F=G.useCallback(L=>{var B;(B=_.find(z=>z.id===L.id))!=null&&B.delete||$t.dismiss(L.id),C(z=>z.filter(({id:te})=>te!==L.id))},[_]);return G.useEffect(()=>$t.subscribe(L=>{if(L.dismiss){C(B=>B.map(z=>z.id===L.id?{...z,delete:!0}:z));return}setTimeout(()=>{ox.flushSync(()=>{C(B=>{let z=B.findIndex(te=>te.id===L.id);return z!==-1?[...B.slice(0,z),{...B[z],...L},...B.slice(z+1)]:[L,...B]})})})}),[]),G.useEffect(()=>{if(c!=="system"){R(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:L})=>{R(L?"dark":"light")})},[c]),G.useEffect(()=>{_.length<=1&&Y(!1)},[_]),G.useEffect(()=>{let L=B=>{var z,te;r.every(ge=>B[ge]||B.code===ge)&&(Y(!0),(z=T.current)==null||z.focus()),B.code==="Escape"&&(document.activeElement===T.current||(te=T.current)!=null&&te.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[r]),G.useEffect(()=>{if(T.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,A.current=!1)}},[T.current]),_.length?G.createElement("section",{"aria-label":`${v} ${P}`,tabIndex:-1},N.map((L,B)=>{var z;let[te,ge]=L.split("-");return G.createElement("ol",{key:L,dir:w==="auto"?kg():w,tabIndex:-1,ref:T,className:i,"data-sonner-toaster":!0,"data-theme":k,"data-y-position":te,"data-x-position":ge,style:{"--front-toast-height":`${((z=j[0])==null?void 0:z.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||Tj,"--width":`${Rj}px`,"--gap":`${p}px`,...f},onBlur:ne=>{A.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(A.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||A.current||(A.current=!0,E.current=ne.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{W||Y(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},_.filter(ne=>!ne.position&&B===0||ne.position===L).map((ne,M)=>{var H,K;return G.createElement(Mj,{key:ne.id,icons:y,index:M,toast:ne,defaultRichColors:u,duration:(H=g==null?void 0:g.duration)!=null?H:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:h,closeButton:(K=g==null?void 0:g.closeButton)!=null?K:o,interacting:W,position:L,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:F,toasts:_.filter(q=>q.position==ne.position),heights:j.filter(q=>q.position==ne.position),setHeights:D,expandByDefault:s,gap:p,loadingIcon:b,expanded:O,pauseWhenPageIsHidden:x,cn:S})}))})):null};const $j=({...e})=>{const{theme:t="system"}=hj();return l.jsx(Lj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Fj=ny.useId||(()=>{}),Uj=0;function nr(e){const[t,n]=m.useState(Fj());return lt(()=>{e||n(r=>r??String(Uj++))},[e]),e||(t?`radix-${t}`:"")}const Bj=["top","right","bottom","left"],Hr=Math.min,Ut=Math.max,ec=Math.round,el=Math.floor,Vr=e=>({x:e,y:e}),zj={left:"right",right:"left",bottom:"top",top:"bottom"},Wj={start:"end",end:"start"};function Nf(e,t,n){return Ut(e,Hr(t,n))}function ar(e,t){return typeof e=="function"?e(t):e}function lr(e){return e.split("-")[0]}function Qo(e){return e.split("-")[1]}function em(e){return e==="x"?"y":"x"}function tm(e){return e==="y"?"height":"width"}function qr(e){return["top","bottom"].includes(lr(e))?"y":"x"}function nm(e){return em(qr(e))}function Hj(e,t,n){n===void 0&&(n=!1);const r=Qo(e),s=nm(e),o=tm(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=tc(i)),[i,tc(i)]}function Vj(e){const t=tc(e);return[jf(e),t,jf(t)]}function jf(e){return e.replace(/start|end/g,t=>Wj[t])}function qj(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function Yj(e,t,n,r){const s=Qo(e);let o=qj(lr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(jf)))),o}function tc(e){return e.replace(/left|right|bottom|top/g,t=>zj[t])}function Gj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Kx(e){return typeof e!="number"?Gj(e):{top:e,right:e,bottom:e,left:e}}function nc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Tg(e,t,n){let{reference:r,floating:s}=e;const o=qr(t),i=nm(t),a=tm(i),c=lr(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Qo(t)){case"start":g[i]-=h*(n&&u?-1:1);break;case"end":g[i]+=h*(n&&u?-1:1);break}return g}const Kj=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Tg(u,r,c),h=r,g={},w=0;for(let p=0;p<a.length;p++){const{name:b,fn:y}=a[p],{x:v,y:x,data:S,reset:_}=await y({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=v??d,f=x??f,g={...g,[b]:{...g[b],...S}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=Tg(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:g}};async function ta(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=ar(t,e),w=Kx(g),b=a[h?f==="floating"?"reference":"floating":f],y=nc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},_=nc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:c}):v);return{top:(y.top-_.top+w.top)/S.y,bottom:(_.bottom-y.bottom+w.bottom)/S.y,left:(y.left-_.left+w.left)/S.x,right:(_.right-y.right+w.right)/S.x}}const Qj=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=ar(e,t)||{};if(u==null)return{};const f=Kx(d),h={x:n,y:r},g=nm(s),w=tm(g),p=await i.getDimensions(u),b=g==="y",y=b?"top":"left",v=b?"bottom":"right",x=b?"clientHeight":"clientWidth",S=o.reference[w]+o.reference[g]-h[g]-o.floating[w],_=h[g]-o.reference[g],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=C?C[x]:0;(!N||!await(i.isElement==null?void 0:i.isElement(C)))&&(N=a.floating[x]||o.floating[w]);const j=S/2-_/2,D=N/2-p[w]/2-1,O=Hr(f[y],D),Y=Hr(f[v],D),W=O,I=N-p[w]-Y,k=N/2-p[w]/2+j,R=Nf(W,k,I),T=!c.arrow&&Qo(s)!=null&&k!==R&&o.reference[w]/2-(k<W?O:Y)-p[w]/2<0,P=T?k<W?k-W:k-I:0;return{[g]:h[g]+P,data:{[g]:R,centerOffset:k-R-P,...T&&{alignmentOffset:P}},reset:T}}}),Jj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:p=!0,...b}=ar(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=lr(s),v=qr(a),x=lr(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(x||!p?[tc(a)]:Vj(a)),C=w!=="none";!h&&C&&_.push(...Yj(a,p,w,S));const N=[a,..._],j=await ta(t,b),D=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&D.push(j[y]),f){const k=Hj(s,i,S);D.push(j[k[0]],j[k[1]])}if(O=[...O,{placement:s,overflows:D}],!D.every(k=>k<=0)){var Y,W;const k=(((Y=o.flip)==null?void 0:Y.index)||0)+1,R=N[k];if(R)return{data:{index:k,overflows:O},reset:{placement:R}};let T=(W=O.filter(P=>P.overflows[0]<=0).sort((P,E)=>P.overflows[1]-E.overflows[1])[0])==null?void 0:W.placement;if(!T)switch(g){case"bestFit":{var I;const P=(I=O.filter(E=>{if(C){const A=qr(E.placement);return A===v||A==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(A=>A>0).reduce((A,F)=>A+F,0)]).sort((E,A)=>E[1]-A[1])[0])==null?void 0:I[0];P&&(T=P);break}case"initialPlacement":T=a;break}if(s!==T)return{reset:{placement:T}}}return{}}}};function Pg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Rg(e){return Bj.some(t=>e[t]>=0)}const Xj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=ar(e,t);switch(r){case"referenceHidden":{const o=await ta(t,{...s,elementContext:"reference"}),i=Pg(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Rg(i)}}}case"escaped":{const o=await ta(t,{...s,altBoundary:!0}),i=Pg(o,n.floating);return{data:{escapedOffsets:i,escaped:Rg(i)}}}default:return{}}}}};async function Zj(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=lr(n),a=Qo(n),c=qr(n)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=ar(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const ek=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await Zj(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},tk=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x:y,y:v}=b;return{x:y,y:v}}},...c}=ar(e,t),u={x:n,y:r},d=await ta(t,c),f=qr(lr(s)),h=em(f);let g=u[h],w=u[f];if(o){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",v=g+d[b],x=g-d[y];g=Nf(v,g,x)}if(i){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=w+d[b],x=w-d[y];w=Nf(v,w,x)}const p=a.fn({...t,[h]:g,[f]:w});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[h]:o,[f]:i}}}}}},nk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=ar(e,t),d={x:n,y:r},f=qr(s),h=em(f);let g=d[h],w=d[f];const p=ar(a,t),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const x=h==="y"?"height":"width",S=o.reference[h]-o.floating[x]+b.mainAxis,_=o.reference[h]+o.reference[x]-b.mainAxis;g<S?g=S:g>_&&(g=_)}if(u){var y,v;const x=h==="y"?"width":"height",S=["top","left"].includes(lr(s)),_=o.reference[f]-o.floating[x]+(S&&((y=i.offset)==null?void 0:y[f])||0)+(S?0:b.crossAxis),C=o.reference[f]+o.reference[x]+(S?0:((v=i.offset)==null?void 0:v[f])||0)-(S?b.crossAxis:0);w<_?w=_:w>C&&(w=C)}return{[h]:g,[f]:w}}}},rk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=ar(e,t),d=await ta(t,u),f=lr(s),h=Qo(s),g=qr(s)==="y",{width:w,height:p}=o.floating;let b,y;f==="top"||f==="bottom"?(b=f,y=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(y=f,b=h==="end"?"top":"bottom");const v=p-d.top-d.bottom,x=w-d.left-d.right,S=Hr(p-d[b],v),_=Hr(w-d[y],x),C=!t.middlewareData.shift;let N=S,j=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=v),C&&!h){const O=Ut(d.left,0),Y=Ut(d.right,0),W=Ut(d.top,0),I=Ut(d.bottom,0);g?j=w-2*(O!==0||Y!==0?O+Y:Ut(d.left,d.right)):N=p-2*(W!==0||I!==0?W+I:Ut(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:N});const D=await i.getDimensions(a.floating);return w!==D.width||p!==D.height?{reset:{rects:!0}}:{}}}};function Mc(){return typeof window<"u"}function Jo(e){return Qx(e)?(e.nodeName||"").toLowerCase():"#document"}function Wt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wn(e){var t;return(t=(Qx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Qx(e){return Mc()?e instanceof Node||e instanceof Wt(e).Node:!1}function bn(e){return Mc()?e instanceof Element||e instanceof Wt(e).Element:!1}function Bn(e){return Mc()?e instanceof HTMLElement||e instanceof Wt(e).HTMLElement:!1}function Og(e){return!Mc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wt(e).ShadowRoot}function ba(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Sn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function sk(e){return["table","td","th"].includes(Jo(e))}function Lc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function rm(e){const t=sm(),n=bn(e)?Sn(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ok(e){let t=Yr(e);for(;Bn(t)&&!$o(t);){if(rm(t))return t;if(Lc(t))return null;t=Yr(t)}return null}function sm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $o(e){return["html","body","#document"].includes(Jo(e))}function Sn(e){return Wt(e).getComputedStyle(e)}function $c(e){return bn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yr(e){if(Jo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Og(e)&&e.host||Wn(e);return Og(t)?t.host:t}function Jx(e){const t=Yr(e);return $o(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bn(t)&&ba(t)?t:Jx(t)}function na(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Jx(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Wt(s);if(o){const a=kf(i);return t.concat(i,i.visualViewport||[],ba(s)?s:[],a&&n?na(a):[])}return t.concat(s,na(s,[],n))}function kf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Xx(e){const t=Sn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Bn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=ec(n)!==o||ec(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function om(e){return bn(e)?e:e.contextElement}function go(e){const t=om(e);if(!Bn(t))return Vr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Xx(t);let i=(o?ec(n.width):n.width)/r,a=(o?ec(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const ik=Vr(0);function Zx(e){const t=Wt(e);return!sm()||!t.visualViewport?ik:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ak(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Wt(e)?!1:t}function js(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=om(e);let i=Vr(1);t&&(r?bn(r)&&(i=go(r)):i=go(e));const a=ak(o,n,r)?Zx(o):Vr(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=Wt(o),g=r&&bn(r)?Wt(r):r;let w=h,p=kf(w);for(;p&&r&&g!==w;){const b=go(p),y=p.getBoundingClientRect(),v=Sn(p),x=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*b.x,S=y.top+(p.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=x,u+=S,w=Wt(p),p=kf(w)}}return nc({width:d,height:f,x:c,y:u})}function lk(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Wn(r),a=t?Lc(t.floating):!1;if(r===i||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Vr(1);const d=Vr(0),f=Bn(r);if((f||!f&&!o)&&((Jo(r)!=="body"||ba(i))&&(c=$c(r)),Bn(r))){const h=js(r);u=go(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function ck(e){return Array.from(e.getClientRects())}function Tf(e,t){const n=$c(e).scrollLeft;return t?t.left+n:js(Wn(e)).left+n}function uk(e){const t=Wn(e),n=$c(e),r=e.ownerDocument.body,s=Ut(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ut(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Tf(e);const a=-n.scrollTop;return Sn(r).direction==="rtl"&&(i+=Ut(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function dk(e,t){const n=Wt(e),r=Wn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=sm();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function fk(e,t){const n=js(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Bn(e)?go(e):Vr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:a,x:c,y:u}}function Dg(e,t,n){let r;if(t==="viewport")r=dk(e,n);else if(t==="document")r=uk(Wn(e));else if(bn(t))r=fk(t,n);else{const s=Zx(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return nc(r)}function ew(e,t){const n=Yr(e);return n===t||!bn(n)||$o(n)?!1:Sn(n).position==="fixed"||ew(n,t)}function hk(e,t){const n=t.get(e);if(n)return n;let r=na(e,[],!1).filter(a=>bn(a)&&Jo(a)!=="body"),s=null;const o=Sn(e).position==="fixed";let i=o?Yr(e):e;for(;bn(i)&&!$o(i);){const a=Sn(i),c=rm(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ba(i)&&!c&&ew(e,i))?r=r.filter(d=>d!==i):s=a,i=Yr(i)}return t.set(e,r),r}function mk(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Lc(t)?[]:hk(t,this._c):[].concat(n),r],a=i[0],c=i.reduce((u,d)=>{const f=Dg(t,d,s);return u.top=Ut(f.top,u.top),u.right=Hr(f.right,u.right),u.bottom=Hr(f.bottom,u.bottom),u.left=Ut(f.left,u.left),u},Dg(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pk(e){const{width:t,height:n}=Xx(e);return{width:t,height:n}}function gk(e,t,n){const r=Bn(t),s=Wn(t),o=n==="fixed",i=js(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Vr(0);if(r||!r&&!o)if((Jo(t)!=="body"||ba(s))&&(a=$c(t)),r){const g=js(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&(c.x=Tf(s));let u=0,d=0;if(s&&!r&&!o){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,u=g.left+a.scrollLeft-Tf(s,g)}const f=i.left+a.scrollLeft-c.x-u,h=i.top+a.scrollTop-c.y-d;return{x:f,y:h,width:i.width,height:i.height}}function Xu(e){return Sn(e).position==="static"}function Ag(e,t){if(!Bn(e)||Sn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Wn(e)===n&&(n=n.ownerDocument.body),n}function tw(e,t){const n=Wt(e);if(Lc(e))return n;if(!Bn(e)){let s=Yr(e);for(;s&&!$o(s);){if(bn(s)&&!Xu(s))return s;s=Yr(s)}return n}let r=Ag(e,t);for(;r&&sk(r)&&Xu(r);)r=Ag(r,t);return r&&$o(r)&&Xu(r)&&!rm(r)?n:r||ok(e)||n}const vk=async function(e){const t=this.getOffsetParent||tw,n=this.getDimensions,r=await n(e.floating);return{reference:gk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yk(e){return Sn(e).direction==="rtl"}const xk={convertOffsetParentRelativeRectToViewportRelativeRect:lk,getDocumentElement:Wn,getClippingRect:mk,getOffsetParent:tw,getElementRects:vk,getClientRects:ck,getDimensions:pk,getScale:go,isElement:bn,isRTL:yk};function wk(e,t){let n=null,r;const s=Wn(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(a||t(),!f||!h)return;const g=el(d),w=el(s.clientWidth-(u+f)),p=el(s.clientHeight-(d+h)),b=el(u),v={rootMargin:-g+"px "+-w+"px "+-p+"px "+-b+"px",threshold:Ut(0,Hr(1,c))||1};let x=!0;function S(_){const C=_[0].intersectionRatio;if(C!==c){if(!x)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(S,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,v)}n.observe(e)}return i(!0),o}function bk(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=om(e),d=s||o?[...u?na(u):[],...na(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=u&&a?wk(u,n):null;let h=-1,g=null;i&&(g=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let w,p=c?js(e):null;c&&b();function b(){const y=js(e);p&&(y.x!==p.x||y.y!==p.y||y.width!==p.width||y.height!==p.height)&&n(),p=y,w=requestAnimationFrame(b)}return n(),()=>{var y;d.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(w)}}const Sk=ek,_k=tk,Ek=Jj,Ck=rk,Nk=Xj,Ig=Qj,jk=nk,kk=(e,t,n)=>{const r=new Map,s={platform:xk,...n},o={...s.platform,_c:r};return Kj(e,t,{...s,platform:o})};var Cl=typeof document<"u"?m.useLayoutEffect:m.useEffect;function rc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!rc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!rc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function nw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Mg(e,t){const n=nw(e);return Math.round(t*n)/n}function Zu(e){const t=m.useRef(e);return Cl(()=>{t.current=e}),t}function Tk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(r);rc(h,r)||g(r);const[w,p]=m.useState(null),[b,y]=m.useState(null),v=m.useCallback(E=>{E!==C.current&&(C.current=E,p(E))},[]),x=m.useCallback(E=>{E!==N.current&&(N.current=E,y(E))},[]),S=o||w,_=i||b,C=m.useRef(null),N=m.useRef(null),j=m.useRef(d),D=c!=null,O=Zu(c),Y=Zu(s),W=Zu(u),I=m.useCallback(()=>{if(!C.current||!N.current)return;const E={placement:t,strategy:n,middleware:h};Y.current&&(E.platform=Y.current),kk(C.current,N.current,E).then(A=>{const F={...A,isPositioned:W.current!==!1};k.current&&!rc(j.current,F)&&(j.current=F,Ds.flushSync(()=>{f(F)}))})},[h,t,n,Y,W]);Cl(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[u]);const k=m.useRef(!1);Cl(()=>(k.current=!0,()=>{k.current=!1}),[]),Cl(()=>{if(S&&(C.current=S),_&&(N.current=_),S&&_){if(O.current)return O.current(S,_,I);I()}},[S,_,I,O,D]);const R=m.useMemo(()=>({reference:C,floating:N,setReference:v,setFloating:x}),[v,x]),T=m.useMemo(()=>({reference:S,floating:_}),[S,_]),P=m.useMemo(()=>{const E={position:n,left:0,top:0};if(!T.floating)return E;const A=Mg(T.floating,d.x),F=Mg(T.floating,d.y);return a?{...E,transform:"translate("+A+"px, "+F+"px)",...nw(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:F}},[n,a,T.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:I,refs:R,elements:T,floatingStyles:P}),[d,I,R,T,P])}const Pk=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ig({element:r.current,padding:s}).fn(n):{}:r?Ig({element:r,padding:s}).fn(n):{}}}},Rk=(e,t)=>({...Sk(e),options:[e,t]}),Ok=(e,t)=>({..._k(e),options:[e,t]}),Dk=(e,t)=>({...jk(e),options:[e,t]}),Ak=(e,t)=>({...Ek(e),options:[e,t]}),Ik=(e,t)=>({...Ck(e),options:[e,t]}),Mk=(e,t)=>({...Nk(e),options:[e,t]}),Lk=(e,t)=>({...Pk(e),options:[e,t]});var $k="Arrow",rw=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return l.jsx(ae.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});rw.displayName=$k;var Fk=rw;function Uk(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:g,...w}=f,p=(h==null?void 0:h[e][c])||a,b=m.useMemo(()=>w,Object.values(w));return l.jsx(p.Provider,{value:b,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||a,w=m.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,Bk(s,...t)]}function Bk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function zk(e){const[t,n]=m.useState(void 0);return lt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var im="Popper",[sw,Xo]=Uk(im),[Wk,ow]=sw(im),iw=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return l.jsx(Wk,{scope:t,anchor:r,onAnchorChange:s,children:n})};iw.displayName=im;var aw="PopperAnchor",lw=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=ow(aw,n),i=m.useRef(null),a=ye(t,i);return m.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:l.jsx(ae.div,{...s,ref:a})});lw.displayName=aw;var am="PopperContent",[Hk,Vk]=sw(am),cw=m.forwardRef((e,t)=>{var M,H,K,q,J,X;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:w,...p}=e,b=ow(am,n),[y,v]=m.useState(null),x=ye(t,je=>v(je)),[S,_]=m.useState(null),C=zk(S),N=(C==null?void 0:C.width)??0,j=(C==null?void 0:C.height)??0,D=r+(o!=="center"?"-"+o:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},Y=Array.isArray(u)?u:[u],W=Y.length>0,I={padding:O,boundary:Y.filter(Yk),altBoundary:W},{refs:k,floatingStyles:R,placement:T,isPositioned:P,middlewareData:E}=Tk({strategy:"fixed",placement:D,whileElementsMounted:(...je)=>bk(...je,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[Rk({mainAxis:s+j,alignmentAxis:i}),c&&Ok({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Dk():void 0,...I}),c&&Ak({...I}),Ik({...I,apply:({elements:je,rects:_e,availableWidth:Qe,availableHeight:ve})=>{const{width:U,height:se}=_e.reference,pe=je.floating.style;pe.setProperty("--radix-popper-available-width",`${Qe}px`),pe.setProperty("--radix-popper-available-height",`${ve}px`),pe.setProperty("--radix-popper-anchor-width",`${U}px`),pe.setProperty("--radix-popper-anchor-height",`${se}px`)}}),S&&Lk({element:S,padding:a}),Gk({arrowWidth:N,arrowHeight:j}),h&&Mk({strategy:"referenceHidden",...I})]}),[A,F]=fw(T),L=Ke(w);lt(()=>{P&&(L==null||L())},[P,L]);const B=(M=E.arrow)==null?void 0:M.x,z=(H=E.arrow)==null?void 0:H.y,te=((K=E.arrow)==null?void 0:K.centerOffset)!==0,[ge,ne]=m.useState();return lt(()=>{y&&ne(window.getComputedStyle(y).zIndex)},[y]),l.jsx("div",{ref:k.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:P?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(q=E.transformOrigin)==null?void 0:q.x,(J=E.transformOrigin)==null?void 0:J.y].join(" "),...((X=E.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Hk,{scope:n,placedSide:A,onArrowChange:_,arrowX:B,arrowY:z,shouldHideArrow:te,children:l.jsx(ae.div,{"data-side":A,"data-align":F,...p,ref:x,style:{...p.style,animation:P?void 0:"none"}})})})});cw.displayName=am;var uw="PopperArrow",qk={top:"bottom",right:"left",bottom:"top",left:"right"},dw=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=Vk(uw,r),i=qk[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(Fk,{...s,ref:n,style:{...s.style,display:"block"}})})});dw.displayName=uw;function Yk(e){return e!==null}var Gk=e=>({name:"transformOrigin",options:e,fn(t){var b,y,v;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=fw(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((y=s.arrow)==null?void 0:y.x)??0)+a/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let w="",p="";return u==="bottom"?(w=i?f:`${h}px`,p=`${-c}px`):u==="top"?(w=i?f:`${h}px`,p=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,p=i?f:`${g}px`):u==="left"&&(w=`${r.floating.width+c}px`,p=i?f:`${g}px`),{data:{x:w,y:p}}}});function fw(e){const[t,n="center"]=e.split("-");return[t,n]}var hw=iw,Fc=lw,lm=cw,cm=dw,[Uc,m4]=As("Tooltip",[Xo]),um=Xo(),mw="TooltipProvider",Kk=700,Lg="tooltip.open",[Qk,pw]=Uc(mw),gw=e=>{const{__scopeTooltip:t,delayDuration:n=Kk,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[i,a]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(Qk,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:o})};gw.displayName=mw;var vw="Tooltip",[p4,Bc]=Uc(vw),Pf="TooltipTrigger",Jk=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Bc(Pf,n),o=pw(Pf,n),i=um(n),a=m.useRef(null),c=ye(t,a,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Fc,{asChild:!0,...i,children:l.jsx(ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ee(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ee(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ee(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ee(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ee(e.onBlur,s.onClose),onClick:ee(e.onClick,s.onClose)})})});Jk.displayName=Pf;var Xk="TooltipPortal",[g4,Zk]=Uc(Xk,{forceMount:void 0}),Fo="TooltipContent",yw=m.forwardRef((e,t)=>{const n=Zk(Fo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Bc(Fo,e.__scopeTooltip);return l.jsx(Kt,{present:r||i.open,children:i.disableHoverableContent?l.jsx(xw,{side:s,...o,ref:t}):l.jsx(eT,{side:s,...o,ref:t})})}),eT=m.forwardRef((e,t)=>{const n=Bc(Fo,e.__scopeTooltip),r=pw(Fo,e.__scopeTooltip),s=m.useRef(null),o=ye(t,s),[i,a]=m.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=m.useCallback(()=>{a(null),f(!1)},[f]),g=m.useCallback((w,p)=>{const b=w.currentTarget,y={x:w.clientX,y:w.clientY},v=sT(y,b.getBoundingClientRect()),x=oT(y,v),S=iT(p.getBoundingClientRect()),_=lT([...x,...S]);a(_),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const w=b=>g(b,d),p=b=>g(b,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",p)}}},[c,d,g,h]),m.useEffect(()=>{if(i){const w=p=>{const b=p.target,y={x:p.clientX,y:p.clientY},v=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),x=!aT(y,i);v?h():x&&(h(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,i,u,h]),l.jsx(xw,{...e,ref:o})}),[tT,nT]=Uc(vw,{isInside:!1}),xw=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=Bc(Fo,n),u=um(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Lg,d),()=>document.removeEventListener(Lg,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const g=h.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Go,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(lm,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(lx,{children:r}),l.jsx(tT,{scope:n,isInside:!0,children:l.jsx(KC,{id:c.contentId,role:"tooltip",children:s||r})})]})})});yw.displayName=Fo;var ww="TooltipArrow",rT=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=um(n);return nT(ww,n).isInside?null:l.jsx(cm,{...s,...r,ref:t})});rT.displayName=ww;function sT(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function oT(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function iT(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function aT(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-a)*(r-c)/(d-c)+a&&(s=!s)}return s}function lT(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cT(t)}function cT(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var uT=gw,bw=yw;const dT=uT,fT=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(bw,{ref:r,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));fT.displayName=bw.displayName;var zc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wc=typeof window>"u"||"Deno"in globalThis;function fn(){}function hT(e,t){return typeof e=="function"?e(t):e}function mT(e){return typeof e=="number"&&e>=0&&e!==1/0}function pT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $g(e,t){return typeof e=="function"?e(t):e}function gT(e,t){return typeof e=="function"?e(t):e}function Fg(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==dm(i,t.options))return!1}else if(!sa(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Ug(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(ra(t.options.mutationKey)!==ra(o))return!1}else if(!sa(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function dm(e,t){return((t==null?void 0:t.queryKeyHashFn)||ra)(e)}function ra(e){return JSON.stringify(e,(t,n)=>Rf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function sa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!sa(e[n],t[n])):!1}function Sw(e,t){if(e===t)return e;const n=Bg(e)&&Bg(t);if(n||Rf(e)&&Rf(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let c=0;for(let u=0;u<i;u++){const d=n?u:o[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=Sw(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function Bg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Rf(e){if(!zg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!zg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zg(e){return Object.prototype.toString.call(e)==="[object Object]"}function vT(e){return new Promise(t=>{setTimeout(t,e)})}function yT(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Sw(e,t):t}function xT(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function wT(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var fm=Symbol();function _w(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===fm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ds,Cr,So,Lv,bT=(Lv=class extends zc{constructor(){super();Ee(this,ds);Ee(this,Cr);Ee(this,So);fe(this,So,t=>{if(!Wc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,Cr)||this.setEventListener($(this,So))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Cr))==null||t.call(this),fe(this,Cr,void 0))}setEventListener(t){var n;fe(this,So,t),(n=$(this,Cr))==null||n.call(this),fe(this,Cr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){$(this,ds)!==t&&(fe(this,ds,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof $(this,ds)=="boolean"?$(this,ds):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ds=new WeakMap,Cr=new WeakMap,So=new WeakMap,Lv),Ew=new bT,_o,Nr,Eo,$v,ST=($v=class extends zc{constructor(){super();Ee(this,_o,!0);Ee(this,Nr);Ee(this,Eo);fe(this,Eo,t=>{if(!Wc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Nr)||this.setEventListener($(this,Eo))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Nr))==null||t.call(this),fe(this,Nr,void 0))}setEventListener(t){var n;fe(this,Eo,t),(n=$(this,Nr))==null||n.call(this),fe(this,Nr,t(this.setOnline.bind(this)))}setOnline(t){$(this,_o)!==t&&(fe(this,_o,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return $(this,_o)}},_o=new WeakMap,Nr=new WeakMap,Eo=new WeakMap,$v),sc=new ST;function _T(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function ET(e){return Math.min(1e3*2**e,3e4)}function Cw(e){return(e??"online")==="online"?sc.isOnline():!0}var Nw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ed(e){return e instanceof Nw}function jw(e){let t=!1,n=0,r=!1,s;const o=_T(),i=p=>{var b;r||(h(new Nw(p)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Ew.isFocused()&&(e.networkMode==="always"||sc.isOnline())&&e.canRun(),d=()=>Cw(e.networkMode)&&e.canRun(),f=p=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,p),s==null||s(),o.resolve(p))},h=p=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,p),s==null||s(),o.reject(p))},g=()=>new Promise(p=>{var b;s=y=>{(r||u())&&p(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),w=()=>{if(r)return;let p;const b=n===0?e.initialPromise:void 0;try{p=b??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var C;if(r)return;const v=e.retry??(Wc?0:3),x=e.retryDelay??ET,S=typeof x=="function"?x(n,y):x,_=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!_){h(y);return}n++,(C=e.onFail)==null||C.call(e,n,y),vT(S).then(()=>u()?void 0:g()).then(()=>{t?h(y):w()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?w():g().then(w),o)}}function CT(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var bt=CT(),fs,Fv,kw=(Fv=class{constructor(){Ee(this,fs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mT(this.gcTime)&&fe(this,fs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wc?1/0:5*60*1e3))}clearGcTimeout(){$(this,fs)&&(clearTimeout($(this,fs)),fe(this,fs,void 0))}},fs=new WeakMap,Fv),Co,No,Qt,ft,ua,hs,hn,Yn,Uv,NT=(Uv=class extends kw{constructor(t){super();Ee(this,hn);Ee(this,Co);Ee(this,No);Ee(this,Qt);Ee(this,ft);Ee(this,ua);Ee(this,hs);fe(this,hs,!1),fe(this,ua,t.defaultOptions),this.setOptions(t.options),this.observers=[],fe(this,Qt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,fe(this,Co,kT(this.options)),this.state=t.state??$(this,Co),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,ft))==null?void 0:t.promise}setOptions(t){this.options={...$(this,ua),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Qt).remove(this)}setData(t,n){const r=yT(this.state.data,t,this.options);return ct(this,hn,Yn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ct(this,hn,Yn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=$(this,ft))==null?void 0:r.promise;return(s=$(this,ft))==null||s.cancel(t),n?n.then(fn).catch(fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,Co))}isActive(){return this.observers.some(t=>gT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!pT(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=$(this,ft))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=$(this,ft))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,Qt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||($(this,ft)&&($(this,hs)?$(this,ft).cancel({revert:!0}):$(this,ft).cancelRetry()),this.scheduleGc()),$(this,Qt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ct(this,hn,Yn).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if($(this,ft))return $(this,ft).continueRetry(),$(this,ft).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(fe(this,hs,!0),r.signal)})},o=()=>{const f=_w(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),fe(this,hs,!1),this.options.persister?this.options.persister(f,h,this):f(h)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),fe(this,No,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&ct(this,hn,Yn).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,g,w,p;ed(f)&&f.silent||ct(this,hn,Yn).call(this,{type:"error",error:f}),ed(f)||((g=(h=$(this,Qt).config).onError)==null||g.call(h,f,this),(p=(w=$(this,Qt).config).onSettled)==null||p.call(w,this.state.data,f,this)),this.scheduleGc()};return fe(this,ft,jw({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,g,w,p;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){a(b);return}(g=(h=$(this,Qt).config).onSuccess)==null||g.call(h,f,this),(p=(w=$(this,Qt).config).onSettled)==null||p.call(w,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{ct(this,hn,Yn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{ct(this,hn,Yn).call(this,{type:"pause"})},onContinue:()=>{ct(this,hn,Yn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),$(this,ft).start()}},Co=new WeakMap,No=new WeakMap,Qt=new WeakMap,ft=new WeakMap,ua=new WeakMap,hs=new WeakMap,hn=new WeakSet,Yn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jT(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return ed(s)&&s.revert&&$(this,No)?{...$(this,No),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),bt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),$(this,Qt).notify({query:this,type:"updated",action:t})})},Uv);function jT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Cw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function kT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Rn,Bv,TT=(Bv=class extends zc{constructor(t={}){super();Ee(this,Rn);this.config=t,fe(this,Rn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??dm(s,n);let i=this.get(o);return i||(i=new NT({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){$(this,Rn).has(t.queryHash)||($(this,Rn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=$(this,Rn).get(t.queryHash);n&&(t.destroy(),n===t&&$(this,Rn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,Rn).get(t)}getAll(){return[...$(this,Rn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Fg(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Fg(t,r)):n}notify(t){bt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){bt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Rn=new WeakMap,Bv),On,vt,ms,Dn,pr,zv,PT=(zv=class extends kw{constructor(t){super();Ee(this,Dn);Ee(this,On);Ee(this,vt);Ee(this,ms);this.mutationId=t.mutationId,fe(this,vt,t.mutationCache),fe(this,On,[]),this.state=t.state||RT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,On).includes(t)||($(this,On).push(t),this.clearGcTimeout(),$(this,vt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){fe(this,On,$(this,On).filter(n=>n!==t)),this.scheduleGc(),$(this,vt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,On).length||(this.state.status==="pending"?this.scheduleGc():$(this,vt).remove(this))}continue(){var t;return((t=$(this,ms))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,a,c,u,d,f,h,g,w,p,b,y,v,x,S,_,C,N;fe(this,ms,jw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,D)=>{ct(this,Dn,pr).call(this,{type:"failed",failureCount:j,error:D})},onPause:()=>{ct(this,Dn,pr).call(this,{type:"pause"})},onContinue:()=>{ct(this,Dn,pr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,vt).canRun(this)}));const n=this.state.status==="pending",r=!$(this,ms).canStart();try{if(!n){ct(this,Dn,pr).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=$(this,vt).config).onMutate)==null?void 0:o.call(s,t,this));const D=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));D!==this.state.context&&ct(this,Dn,pr).call(this,{type:"pending",context:D,variables:t,isPaused:r})}const j=await $(this,ms).start();return await((u=(c=$(this,vt).config).onSuccess)==null?void 0:u.call(c,j,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,j,t,this.state.context)),await((g=(h=$(this,vt).config).onSettled)==null?void 0:g.call(h,j,null,this.state.variables,this.state.context,this)),await((p=(w=this.options).onSettled)==null?void 0:p.call(w,j,null,t,this.state.context)),ct(this,Dn,pr).call(this,{type:"success",data:j}),j}catch(j){try{throw await((y=(b=$(this,vt).config).onError)==null?void 0:y.call(b,j,t,this.state.context,this)),await((x=(v=this.options).onError)==null?void 0:x.call(v,j,t,this.state.context)),await((_=(S=$(this,vt).config).onSettled)==null?void 0:_.call(S,void 0,j,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,j,t,this.state.context)),j}finally{ct(this,Dn,pr).call(this,{type:"error",error:j})}}finally{$(this,vt).runNext(this)}}},On=new WeakMap,vt=new WeakMap,ms=new WeakMap,Dn=new WeakSet,pr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),bt.batch(()=>{$(this,On).forEach(r=>{r.onMutationUpdate(t)}),$(this,vt).notify({mutation:this,type:"updated",action:t})})},zv);function RT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lt,da,Wv,OT=(Wv=class extends zc{constructor(t={}){super();Ee(this,Lt);Ee(this,da);this.config=t,fe(this,Lt,new Map),fe(this,da,Date.now())}build(t,n,r){const s=new PT({mutationCache:this,mutationId:++Da(this,da)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=tl(t),r=$(this,Lt).get(n)??[];r.push(t),$(this,Lt).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=tl(t);if($(this,Lt).has(n)){const s=(r=$(this,Lt).get(n))==null?void 0:r.filter(o=>o!==t);s&&(s.length===0?$(this,Lt).delete(n):$(this,Lt).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=$(this,Lt).get(tl(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=$(this,Lt).get(tl(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){bt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...$(this,Lt).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ug(n,r))}findAll(t={}){return this.getAll().filter(n=>Ug(t,n))}notify(t){bt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return bt.batch(()=>Promise.all(t.map(n=>n.continue().catch(fn))))}},Lt=new WeakMap,da=new WeakMap,Wv);function tl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Wg(e){return{onFetch:(t,n)=>{var d,f,h,g,w;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((g=t.state.data)==null?void 0:g.pages)||[],i=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=_w(t.options,t.fetchOptions),v=async(x,S,_)=>{if(p)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const C={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};b(C);const N=await y(C),{maxPages:j}=t.options,D=_?wT:xT;return{pages:D(x.pages,N,j),pageParams:D(x.pageParams,S,j)}};if(s&&o.length){const x=s==="backward",S=x?DT:Hg,_={pages:o,pageParams:i},C=S(r,_);a=await v(_,C,x)}else{const x=e??o.length;do{const S=c===0?i[0]??r.initialPageParam:Hg(r,a);if(c>0&&S==null)break;a=await v(a,S),c++}while(c<x)}return a};t.options.persister?t.fetchFn=()=>{var p,b;return(b=(p=t.options).persister)==null?void 0:b.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Hg(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function DT(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ve,jr,kr,jo,ko,Tr,To,Po,Hv,AT=(Hv=class{constructor(e={}){Ee(this,Ve);Ee(this,jr);Ee(this,kr);Ee(this,jo);Ee(this,ko);Ee(this,Tr);Ee(this,To);Ee(this,Po);fe(this,Ve,e.queryCache||new TT),fe(this,jr,e.mutationCache||new OT),fe(this,kr,e.defaultOptions||{}),fe(this,jo,new Map),fe(this,ko,new Map),fe(this,Tr,0)}mount(){Da(this,Tr)._++,$(this,Tr)===1&&(fe(this,To,Ew.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Ve).onFocus())})),fe(this,Po,sc.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,Ve).onOnline())})))}unmount(){var e,t;Da(this,Tr)._--,$(this,Tr)===0&&((e=$(this,To))==null||e.call(this),fe(this,To,void 0),(t=$(this,Po))==null||t.call(this),fe(this,Po,void 0))}isFetching(e){return $(this,Ve).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,jr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=$(this,Ve).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=$(this,Ve).build(this,n);return e.revalidateIfStale&&r.isStaleByTime($g(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return $(this,Ve).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=$(this,Ve).get(r.queryHash),o=s==null?void 0:s.state.data,i=hT(t,o);if(i!==void 0)return $(this,Ve).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return bt.batch(()=>$(this,Ve).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=$(this,Ve).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=$(this,Ve);bt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=$(this,Ve),r={type:"active",...e};return bt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=bt.batch(()=>$(this,Ve).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(fn).catch(fn)}invalidateQueries(e={},t={}){return bt.batch(()=>{if($(this,Ve).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=bt.batch(()=>$(this,Ve).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(fn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(fn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=$(this,Ve).build(this,t);return n.isStaleByTime($g(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fn).catch(fn)}fetchInfiniteQuery(e){return e.behavior=Wg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fn).catch(fn)}ensureInfiniteQueryData(e){return e.behavior=Wg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sc.isOnline()?$(this,jr).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,Ve)}getMutationCache(){return $(this,jr)}getDefaultOptions(){return $(this,kr)}setDefaultOptions(e){fe(this,kr,e)}setQueryDefaults(e,t){$(this,jo).set(ra(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,jo).values()];let n={};return t.forEach(r=>{sa(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){$(this,ko).set(ra(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,ko).values()];let n={};return t.forEach(r=>{sa(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,kr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===fm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,kr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,Ve).clear(),$(this,jr).clear()}},Ve=new WeakMap,jr=new WeakMap,kr=new WeakMap,jo=new WeakMap,ko=new WeakMap,Tr=new WeakMap,To=new WeakMap,Po=new WeakMap,Hv),IT=m.createContext(void 0),MT=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(IT.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oa.apply(this,arguments)}var Or;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Or||(Or={}));const Vg="popstate";function LT(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return Of("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Pw(s)}return FT(t,n,null,e)}function tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $T(){return Math.random().toString(36).substr(2,8)}function qg(e,t){return{usr:e.state,key:e.key,idx:t}}function Of(e,t,n,r){return n===void 0&&(n=null),oa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zo(t):t,{state:n,key:t&&t.key||r||$T()})}function Pw(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function FT(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Or.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(oa({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Or.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:a,location:p.location,delta:y})}function h(b,y){a=Or.Push;let v=Of(p.location,b,y);u=d()+1;let x=qg(v,u),S=p.createHref(v);try{i.pushState(x,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}o&&c&&c({action:a,location:p.location,delta:1})}function g(b,y){a=Or.Replace;let v=Of(p.location,b,y);u=d();let x=qg(v,u),S=p.createHref(v);i.replaceState(x,"",S),o&&c&&c({action:a,location:p.location,delta:0})}function w(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:Pw(b);return v=v.replace(/ $/,"%20"),tt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let p={get action(){return a},get location(){return e(s,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Vg,f),c=b,()=>{s.removeEventListener(Vg,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let y=w(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(b){return i.go(b)}};return p}var Yg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yg||(Yg={}));function UT(e,t,n){return n===void 0&&(n="/"),BT(e,t,n,!1)}function BT(e,t,n,r){let s=typeof t=="string"?Zo(t):t,o=Dw(s.pathname||"/",n);if(o==null)return null;let i=Rw(e);zT(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=ZT(o);a=JT(i[c],u,r)}return a}function Rw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=vs([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Rw(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:KT(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Ow(o.path))s(o,i,c)}),t}function Ow(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Ow(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function zT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:QT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const WT=/^:[\w-]+$/,HT=3,VT=2,qT=1,YT=10,GT=-2,Gg=e=>e==="*";function KT(e,t){let n=e.split("/"),r=n.length;return n.some(Gg)&&(r+=GT),t&&(r+=VT),n.filter(s=>!Gg(s)).reduce((s,o)=>s+(WT.test(o)?HT:o===""?qT:YT),r)}function QT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function JT(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Kg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Kg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:vs([o,f.pathname]),pathnameBase:oP(vs([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=vs([o,f.pathnameBase]))}return i}function Kg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=XT(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let p=a[f]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function XT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Tw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function ZT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function eP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Zo(e):e;return{pathname:n?n.startsWith("/")?n:tP(n,t):t,search:iP(r),hash:aP(s)}}function tP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function td(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function rP(e,t){let n=nP(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sP(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Zo(e):(s=oa({},e),tt(!s.pathname||!s.pathname.includes("?"),td("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),td("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),td("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let c=eP(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const vs=e=>e.join("/").replace(/\/\/+/g,"/"),oP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Aw=["post","put","patch","delete"];new Set(Aw);const cP=["get",...Aw];new Set(cP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ia.apply(this,arguments)}const hm=m.createContext(null),uP=m.createContext(null),Hc=m.createContext(null),Vc=m.createContext(null),ei=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Iw=m.createContext(null);function qc(){return m.useContext(Vc)!=null}function Yc(){return qc()||tt(!1),m.useContext(Vc).location}function Mw(e){m.useContext(Hc).static||m.useLayoutEffect(e)}function Gc(){let{isDataRoute:e}=m.useContext(ei);return e?_P():dP()}function dP(){qc()||tt(!1);let e=m.useContext(hm),{basename:t,future:n,navigator:r}=m.useContext(Hc),{matches:s}=m.useContext(ei),{pathname:o}=Yc(),i=JSON.stringify(rP(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return Mw(()=>{a.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=sP(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:vs([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function fP(e,t){return hP(e,t)}function hP(e,t,n,r){qc()||tt(!1);let{navigator:s}=m.useContext(Hc),{matches:o}=m.useContext(ei),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Yc(),d;if(t){var f;let b=typeof t=="string"?Zo(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||tt(!1),d=b}else d=u;let h=d.pathname||"/",g=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=UT(e,{pathname:g}),p=yP(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:vs([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:vs([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return t&&p?m.createElement(Vc.Provider,{value:{location:ia({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Or.Pop}},p):p}function mP(){let e=SP(),t=lP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,null)}const pP=m.createElement(mP,null);class gP extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(ei.Provider,{value:this.props.routeContext},m.createElement(Iw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vP(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(hm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ei.Provider,{value:t},r)}function yP(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||tt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=n,w=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let g,w=!1,p=null,b=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,p=f.route.errorElement||pP,c&&(u<0&&h===0?(w=!0,b=null):u===h&&(w=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,h+1)),v=()=>{let x;return g?x=p:w?x=b:f.route.Component?x=m.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,m.createElement(vP,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(gP,{location:n.location,revalidation:n.revalidation,component:p,error:g,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Lw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Lw||{}),oc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oc||{});function xP(e){let t=m.useContext(hm);return t||tt(!1),t}function wP(e){let t=m.useContext(uP);return t||tt(!1),t}function bP(e){let t=m.useContext(ei);return t||tt(!1),t}function $w(e){let t=bP(),n=t.matches[t.matches.length-1];return n.route.id||tt(!1),n.route.id}function SP(){var e;let t=m.useContext(Iw),n=wP(oc.UseRouteError),r=$w(oc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function _P(){let{router:e}=xP(Lw.UseNavigateStable),t=$w(oc.UseNavigateStable),n=m.useRef(!1);return Mw(()=>{n.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ia({fromRouteId:t},o)))},[e,t])}function bi(e){tt(!1)}function EP(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Or.Pop,navigator:o,static:i=!1,future:a}=e;qc()&&tt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:ia({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=Zo(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:w="default"}=r,p=m.useMemo(()=>{let b=Dw(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:g,key:w},navigationType:s}},[c,d,f,h,g,w,s]);return p==null?null:m.createElement(Hc.Provider,{value:u},m.createElement(Vc.Provider,{children:n,value:p}))}function CP(e){let{children:t,location:n}=e;return fP(Df(t),n)}new Promise(()=>{});function Df(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let o=[...t,s];if(r.type===m.Fragment){n.push.apply(n,Df(r.props.children,o));return}r.type!==bi&&tt(!1),!r.props.index||!r.props.children||tt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Df(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const NP="6";try{window.__reactRouterVersion=NP}catch{}const jP="startTransition",Qg=ny[jP];function kP(e){let{basename:t,children:n,future:r,window:s}=e,o=m.useRef();o.current==null&&(o.current=LT({window:s,v5Compat:!0}));let i=o.current,[a,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&Qg?Qg(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.createElement(EP,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var Jg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jg||(Jg={}));var Xg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Xg||(Xg={}));const Af=xa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),le=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Wr:"button";return l.jsx(i,{className:re(Af({variant:t,size:n,className:e})),ref:o,...s})});le.displayName="Button";const _t=m.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));_t.displayName="Input";var TP="Label",Fw=m.forwardRef((e,t)=>l.jsx(ae.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Fw.displayName=TP;var Uw=Fw;const PP=xa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Te=m.forwardRef(({className:e,...t},n)=>l.jsx(Uw,{ref:n,className:re(PP(),e),...t}));Te.displayName=Uw.displayName;function RP(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:g,...w}=f,p=(h==null?void 0:h[e][c])||a,b=m.useMemo(()=>w,Object.values(w));return l.jsx(p.Provider,{value:b,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||a,w=m.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,OP(s,...t)]}function OP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var DP=m.createContext(void 0);function Kc(e){const t=m.useContext(DP);return e||t||"ltr"}var nd="rovingFocusGroup.onEntryFocus",AP={bubbles:!1,cancelable:!0},Qc="RovingFocusGroup",[If,Bw,IP]=Gh(Qc),[MP,zw]=RP(Qc,[IP]),[LP,$P]=MP(Qc),Ww=m.forwardRef((e,t)=>l.jsx(If.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(If.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(FP,{...e,ref:t})})}));Ww.displayName=Qc;var FP=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),g=ye(t,h),w=Kc(o),[p=null,b]=Cs({prop:i,defaultProp:a,onChange:c}),[y,v]=m.useState(!1),x=Ke(u),S=Bw(n),_=m.useRef(!1),[C,N]=m.useState(0);return m.useEffect(()=>{const j=h.current;if(j)return j.addEventListener(nd,x),()=>j.removeEventListener(nd,x)},[x]),l.jsx(LP,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:p,onItemFocus:m.useCallback(j=>b(j),[b]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(j=>j+1),[]),onFocusableItemRemove:m.useCallback(()=>N(j=>j-1),[]),children:l.jsx(ae.div,{tabIndex:y||C===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{_.current=!0}),onFocus:ee(e.onFocus,j=>{const D=!_.current;if(j.target===j.currentTarget&&D&&!y){const O=new CustomEvent(nd,AP);if(j.currentTarget.dispatchEvent(O),!O.defaultPrevented){const Y=S().filter(T=>T.focusable),W=Y.find(T=>T.active),I=Y.find(T=>T.id===p),R=[W,I,...Y].filter(Boolean).map(T=>T.ref.current);qw(R,d)}}_.current=!1}),onBlur:ee(e.onBlur,()=>v(!1))})})}),Hw="RovingFocusGroupItem",Vw=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=e,a=nr(),c=o||a,u=$P(Hw,n),d=u.currentTabStopId===c,f=Bw(n),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return m.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),l.jsx(If.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:l.jsx(ae.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:ee(e.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:ee(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ee(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=zP(w,u.orientation,u.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let y=f().filter(v=>v.focusable).map(v=>v.ref.current);if(p==="last")y.reverse();else if(p==="prev"||p==="next"){p==="prev"&&y.reverse();const v=y.indexOf(w.currentTarget);y=u.loop?WP(y,v+1):y.slice(v+1)}setTimeout(()=>qw(y))}})})})});Vw.displayName=Hw;var UP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zP(e,t,n){const r=BP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return UP[r]}function qw(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function WP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var HP=Ww,VP=Vw,mm="Tabs",[qP,v4]=As(mm,[zw]),Yw=zw(),[YP,pm]=qP(mm),Gw=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=Kc(a),[f,h]=Cs({prop:r,onChange:s,defaultProp:o});return l.jsx(YP,{scope:n,baseId:nr(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:l.jsx(ae.div,{dir:d,"data-orientation":i,...u,ref:t})})});Gw.displayName=mm;var Kw="TabsList",Qw=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=pm(Kw,n),i=Yw(n);return l.jsx(HP,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(ae.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});Qw.displayName=Kw;var Jw="TabsTrigger",Xw=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=pm(Jw,n),a=Yw(n),c=tb(i.baseId,r),u=nb(i.baseId,r),d=r===i.value;return l.jsx(VP,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:ee(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:ee(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});Xw.displayName=Jw;var Zw="TabsContent",eb=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=pm(Zw,n),c=tb(a.baseId,r),u=nb(a.baseId,r),d=r===a.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Kt,{present:s||d,children:({present:h})=>l.jsx(ae.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});eb.displayName=Zw;function tb(e,t){return`${e}-trigger-${t}`}function nb(e,t){return`${e}-content-${t}`}var GP=Gw,rb=Qw,sb=Xw,ob=eb;const aa=GP,Uo=m.forwardRef(({className:e,...t},n)=>l.jsx(rb,{ref:n,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Uo.displayName=rb.displayName;const Zt=m.forwardRef(({className:e,...t},n)=>l.jsx(sb,{ref:n,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Zt.displayName=sb.displayName;const en=m.forwardRef(({className:e,...t},n)=>l.jsx(ob,{ref:n,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));en.displayName=ob.displayName;var rd="focusScope.autoFocusOnMount",sd="focusScope.autoFocusOnUnmount",Zg={bubbles:!1,cancelable:!0},KP="FocusScope",Jc=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=m.useState(null),u=Ke(s),d=Ke(o),f=m.useRef(null),h=ye(t,p=>c(p)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let p=function(x){if(g.paused||!a)return;const S=x.target;a.contains(S)?f.current=S:gr(f.current,{select:!0})},b=function(x){if(g.paused||!a)return;const S=x.relatedTarget;S!==null&&(a.contains(S)||gr(f.current,{select:!0}))},y=function(x){if(document.activeElement===document.body)for(const _ of x)_.removedNodes.length>0&&gr(a)};document.addEventListener("focusin",p),document.addEventListener("focusout",b);const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,g.paused]),m.useEffect(()=>{if(a){tv.add(g);const p=document.activeElement;if(!a.contains(p)){const y=new CustomEvent(rd,Zg);a.addEventListener(rd,u),a.dispatchEvent(y),y.defaultPrevented||(QP(tR(ib(a)),{select:!0}),document.activeElement===p&&gr(a))}return()=>{a.removeEventListener(rd,u),setTimeout(()=>{const y=new CustomEvent(sd,Zg);a.addEventListener(sd,d),a.dispatchEvent(y),y.defaultPrevented||gr(p??document.body,{select:!0}),a.removeEventListener(sd,d),tv.remove(g)},0)}}},[a,u,d,g]);const w=m.useCallback(p=>{if(!n&&!r||g.paused)return;const b=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(b&&y){const v=p.currentTarget,[x,S]=JP(v);x&&S?!p.shiftKey&&y===S?(p.preventDefault(),n&&gr(x,{select:!0})):p.shiftKey&&y===x&&(p.preventDefault(),n&&gr(S,{select:!0})):y===v&&p.preventDefault()}},[n,r,g.paused]);return l.jsx(ae.div,{tabIndex:-1,...i,ref:h,onKeyDown:w})});Jc.displayName=KP;function QP(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(gr(r,{select:t}),document.activeElement!==n)return}function JP(e){const t=ib(e),n=ev(t,e),r=ev(t.reverse(),e);return[n,r]}function ib(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ev(e,t){for(const n of e)if(!XP(n,{upTo:t}))return n}function XP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZP(e){return e instanceof HTMLInputElement&&"select"in e}function gr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ZP(e)&&t&&e.select()}}var tv=eR();function eR(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nv(e,t),e.unshift(t)},remove(t){var n;e=nv(e,t),(n=e[0])==null||n.resume()}}}function nv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function tR(e){return e.filter(t=>t.tagName!=="A")}var od=0;function gm(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??rv()),document.body.insertAdjacentElement("beforeend",e[1]??rv()),od++,()=>{od===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),od--}},[])}function rv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var In=function(){return In=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},In.apply(this,arguments)};function ab(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function nR(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Nl="right-scroll-bar-position",jl="width-before-scroll-bar",rR="with-scroll-bars-hidden",sR="--removed-body-scroll-bar-size";function id(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function oR(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var iR=typeof window<"u"?m.useLayoutEffect:m.useEffect,sv=new WeakMap;function aR(e,t){var n=oR(null,function(r){return e.forEach(function(s){return id(s,r)})});return iR(function(){var r=sv.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||id(a,null)}),o.forEach(function(a){s.has(a)||id(a,i)})}sv.set(n,e)},[e]),n}function lR(e){return e}function cR(e,t){t===void 0&&(t=lR);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function uR(e){e===void 0&&(e={});var t=cR(null);return t.options=In({async:!0,ssr:!1},e),t}var lb=function(e){var t=e.sideCar,n=ab(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,In({},n))};lb.isSideCarExport=!0;function dR(e,t){return e.useMedium(t),lb}var cb=uR(),ad=function(){},Xc=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:ad,onWheelCapture:ad,onTouchMoveCapture:ad}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,w=e.inert,p=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,v=e.gapMode,x=ab(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=aR([n,t]),C=In(In({},x),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:cb,removeScrollBar:u,shards:f,noIsolation:g,inert:w,setCallbacks:o,allowPinchZoom:!!p,lockRef:n,gapMode:v}),i?m.cloneElement(m.Children.only(a),In(In({},C),{ref:_})):m.createElement(y,In({},C,{className:c,ref:_}),a))});Xc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xc.classNames={fullWidth:jl,zeroRight:Nl};var fR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=fR();return t&&e.setAttribute("nonce",t),e}function mR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var gR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=hR())&&(mR(t,n),pR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},vR=function(){var e=gR();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ub=function(){var e=vR(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},yR={left:0,top:0,right:0,gap:0},ld=function(e){return parseInt(e||"",10)||0},xR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ld(n),ld(r),ld(s)]},wR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yR;var t=xR(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},bR=ub(),vo="data-scroll-locked",SR=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(rR,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(vo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(jl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nl," .").concat(Nl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jl," .").concat(jl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vo,`] {
    `).concat(sR,": ").concat(a,`px;
  }
`)},ov=function(){var e=parseInt(document.body.getAttribute(vo)||"0",10);return isFinite(e)?e:0},_R=function(){m.useEffect(function(){return document.body.setAttribute(vo,(ov()+1).toString()),function(){var e=ov()-1;e<=0?document.body.removeAttribute(vo):document.body.setAttribute(vo,e.toString())}},[])},ER=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;_R();var o=m.useMemo(function(){return wR(s)},[s]);return m.createElement(bR,{styles:SR(o,!t,s,n?"":"!important")})},Mf=!1;if(typeof window<"u")try{var nl=Object.defineProperty({},"passive",{get:function(){return Mf=!0,!0}});window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{Mf=!1}var Bs=Mf?{passive:!1}:!1,CR=function(e){return e.tagName==="TEXTAREA"},db=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!CR(e)&&n[t]==="visible")},NR=function(e){return db(e,"overflowY")},jR=function(e){return db(e,"overflowX")},iv=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=fb(e,r);if(s){var o=hb(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},kR=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},TR=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},fb=function(e,t){return e==="v"?NR(t):jR(t)},hb=function(e,t){return e==="v"?kR(t):TR(t)},PR=function(e,t){return e==="h"&&t==="rtl"?-1:1},RR=function(e,t,n,r,s){var o=PR(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,c=t.contains(a),u=!1,d=i>0,f=0,h=0;do{var g=hb(e,a),w=g[0],p=g[1],b=g[2],y=p-b-o*w;(w||y)&&fb(e,a)&&(f+=y,h+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},rl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},av=function(e){return[e.deltaX,e.deltaY]},lv=function(e){return e&&"current"in e?e.current:e},OR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},AR=0,zs=[];function IR(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(AR++)[0],o=m.useState(ub)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=nR([e.lockRef.current],(e.shards||[]).map(lv),!0).filter(Boolean);return p.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(p,b){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var y=rl(p),v=n.current,x="deltaX"in p?p.deltaX:v[0]-y[0],S="deltaY"in p?p.deltaY:v[1]-y[1],_,C=p.target,N=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in p&&N==="h"&&C.type==="range")return!1;var j=iv(N,C);if(!j)return!0;if(j?_=N:(_=N==="v"?"h":"v",j=iv(N,C)),!j)return!1;if(!r.current&&"changedTouches"in p&&(x||S)&&(r.current=_),!_)return!0;var D=r.current||_;return RR(D,b,p,D==="h"?x:S,!0)},[]),c=m.useCallback(function(p){var b=p;if(!(!zs.length||zs[zs.length-1]!==o)){var y="deltaY"in b?av(b):rl(b),v=t.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&OR(_.delta,y)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var x=(i.current.shards||[]).map(lv).filter(Boolean).filter(function(_){return _.contains(b.target)}),S=x.length>0?a(b,x[0]):!i.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(p,b,y,v){var x={name:p,delta:b,target:y,should:v,shadowParent:MR(y)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),d=m.useCallback(function(p){n.current=rl(p),r.current=void 0},[]),f=m.useCallback(function(p){u(p.type,av(p),p.target,a(p,e.lockRef.current))},[]),h=m.useCallback(function(p){u(p.type,rl(p),p.target,a(p,e.lockRef.current))},[]);m.useEffect(function(){return zs.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Bs),document.addEventListener("touchmove",c,Bs),document.addEventListener("touchstart",d,Bs),function(){zs=zs.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,Bs),document.removeEventListener("touchmove",c,Bs),document.removeEventListener("touchstart",d,Bs)}},[]);var g=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(o,{styles:DR(s)}):null,g?m.createElement(ER,{gapMode:e.gapMode}):null)}function MR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const LR=dR(cb,IR);var Zc=m.forwardRef(function(e,t){return m.createElement(Xc,In({},e,{ref:t,sideCar:LR}))});Zc.classNames=Xc.classNames;var $R=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ws=new WeakMap,sl=new WeakMap,ol={},cd=0,mb=function(e){return e&&(e.host||mb(e.parentNode))},FR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=mb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},UR=function(e,t,n,r){var s=FR(t,Array.isArray(e)?e:[e]);ol[n]||(ol[n]=new WeakMap);var o=ol[n],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var g=h.getAttribute(r),w=g!==null&&g!=="false",p=(Ws.get(h)||0)+1,b=(o.get(h)||0)+1;Ws.set(h,p),o.set(h,b),i.push(h),p===1&&w&&sl.set(h,!0),b===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return d(t),a.clear(),cd++,function(){i.forEach(function(f){var h=Ws.get(f)-1,g=o.get(f)-1;Ws.set(f,h),o.set(f,g),h||(sl.has(f)||f.removeAttribute(r),sl.delete(f)),g||f.removeAttribute(n)}),cd--,cd||(Ws=new WeakMap,Ws=new WeakMap,sl=new WeakMap,ol={})}},vm=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=$R(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),UR(r,s,n,"aria-hidden")):function(){return null}},ym="Dialog",[pb,y4]=As(ym),[BR,Cn]=pb(ym),gb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=m.useRef(null),c=m.useRef(null),[u=!1,d]=Cs({prop:r,defaultProp:s,onChange:o});return l.jsx(BR,{scope:t,triggerRef:a,contentRef:c,contentId:nr(),titleId:nr(),descriptionId:nr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};gb.displayName=ym;var vb="DialogTrigger",zR=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(vb,n),o=ye(t,s.triggerRef);return l.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":bm(s.open),...r,ref:o,onClick:ee(e.onClick,s.onOpenToggle)})});zR.displayName=vb;var xm="DialogPortal",[WR,yb]=pb(xm,{forceMount:void 0}),xb=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Cn(xm,t);return l.jsx(WR,{scope:t,forceMount:n,children:m.Children.map(r,i=>l.jsx(Kt,{present:n||o.open,children:l.jsx(va,{asChild:!0,container:s,children:i})}))})};xb.displayName=xm;var ic="DialogOverlay",wb=m.forwardRef((e,t)=>{const n=yb(ic,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Cn(ic,e.__scopeDialog);return o.modal?l.jsx(Kt,{present:r||o.open,children:l.jsx(HR,{...s,ref:t})}):null});wb.displayName=ic;var HR=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(ic,n);return l.jsx(Zc,{as:Wr,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ae.div,{"data-state":bm(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ks="DialogContent",bb=m.forwardRef((e,t)=>{const n=yb(ks,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Cn(ks,e.__scopeDialog);return l.jsx(Kt,{present:r||o.open,children:o.modal?l.jsx(VR,{...s,ref:t}):l.jsx(qR,{...s,ref:t})})});bb.displayName=ks;var VR=m.forwardRef((e,t)=>{const n=Cn(ks,e.__scopeDialog),r=m.useRef(null),s=ye(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return vm(o)},[]),l.jsx(Sb,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:ee(e.onFocusOutside,o=>o.preventDefault())})}),qR=m.forwardRef((e,t)=>{const n=Cn(ks,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return l.jsx(Sb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Sb=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Cn(ks,n),c=m.useRef(null),u=ye(t,c);return gm(),l.jsxs(l.Fragment,{children:[l.jsx(Jc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Go,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":bm(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(YR,{titleId:a.titleId}),l.jsx(KR,{contentRef:c,descriptionId:a.descriptionId})]})]})}),wm="DialogTitle",_b=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(wm,n);return l.jsx(ae.h2,{id:s.titleId,...r,ref:t})});_b.displayName=wm;var Eb="DialogDescription",Cb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(Eb,n);return l.jsx(ae.p,{id:s.descriptionId,...r,ref:t})});Cb.displayName=Eb;var Nb="DialogClose",jb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(Nb,n);return l.jsx(ae.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>s.onOpenChange(!1))})});jb.displayName=Nb;function bm(e){return e?"open":"closed"}var kb="DialogTitleWarning",[x4,Tb]=RC(kb,{contentName:ks,titleName:wm,docsSlug:"dialog"}),YR=({titleId:e})=>{const t=Tb(kb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},GR="DialogDescriptionWarning",KR=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tb(GR).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},QR=gb,JR=xb,Pb=wb,Rb=bb,Ob=_b,Db=Cb,XR=jb;const Sm=QR,ZR=JR,Ab=m.forwardRef(({className:e,...t},n)=>l.jsx(Pb,{ref:n,className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Ab.displayName=Pb.displayName;const eu=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(ZR,{children:[l.jsx(Ab,{}),l.jsxs(Rb,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(XR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Ic,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));eu.displayName=Rb.displayName;const tu=({className:e,...t})=>l.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});tu.displayName="DialogHeader";const nu=({className:e,...t})=>l.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});nu.displayName="DialogFooter";const ru=m.forwardRef(({className:e,...t},n)=>l.jsx(Ob,{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));ru.displayName=Ob.displayName;const su=m.forwardRef(({className:e,...t},n)=>l.jsx(Db,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));su.displayName=Db.displayName;const Se=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Se.displayName="Card";const Ue=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",e),...t}));Ue.displayName="CardHeader";const Be=m.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));Be.displayName="CardTitle";const Is=m.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:re("text-sm text-muted-foreground",e),...t}));Is.displayName="CardDescription";const Ce=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:re("p-6 pt-0",e),...t}));Ce.displayName="CardContent";const ou=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",e),...t}));ou.displayName="CardFooter";const eO=({onLogin:e})=>{const[t,n]=m.useState(""),[r,s]=m.useState(""),[o,i]=m.useState(!1),{toast:a}=Mt();Gc();const c=async u=>{if(u.preventDefault(),!t||!r){a({title:"Missing information",description:"Please enter both username and password",variant:"destructive"});return}i(!0);try{const f=await(await fetch("https://ttdbvnmuwwzayzzbosyi.supabase.co/functions/v1/login-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0ZGJ2bm11d3d6YXl6emJvc3lpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5ODc2NTYsImV4cCI6MjA2NTU2MzY1Nn0.JGNJn1iu0wwhLiu34gTEjuK-aK5aAMzJWlbrkB5VQ2Y"},body:JSON.stringify({username:t,password:r})})).json();f.success?(a({title:"Login successful",description:`Welcome back, ${f.admin.username}!`}),e(!0)):(a({title:"Login failed",description:f.error||"Invalid username or password",variant:"destructive"}),e(!1))}catch(d){console.error("Login error:",d),a({title:"Login failed",description:"An error occurred during login. Please try again.",variant:"destructive"}),e(!1)}finally{i(!1)}};return l.jsxs(Se,{className:"w-full max-w-md",children:[l.jsxs(Ue,{children:[l.jsx(Be,{className:"text-2xl font-heading flex items-center gap-2",children:"Admin Login"}),l.jsx(Is,{children:"Sign in to manage classes and rewards"})]}),l.jsxs("form",{onSubmit:c,children:[l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"username",children:"Username"}),l.jsx(_t,{id:"username",type:"text",value:t,onChange:u=>n(u.target.value),placeholder:"Enter your username",required:!0,disabled:o,autoComplete:"username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"password",children:"Password"}),l.jsx(_t,{id:"password",type:"password",value:r,onChange:u=>s(u.target.value),placeholder:"Enter your password",required:!0,disabled:o,autoComplete:"current-password"})]})]}),l.jsx(ou,{className:"flex flex-col space-y-3",children:l.jsx(le,{type:"submit",className:"w-full",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}),"Logging in..."]}):l.jsx(l.Fragment,{children:"Login"})})})]})]})},tO="modulepreload",nO=function(e){return"/"+e},cv={},Sa=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=nO(c),c in cv)return;cv[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":tO,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},rO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sa(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class _m extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class sO extends _m{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class oO extends _m{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class iO extends _m{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Lf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Lf||(Lf={}));var aO=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class lO{constructor(t,{headers:n={},customFetch:r,region:s=Lf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=rO(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return aO(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(a["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(a["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(w=>{throw new sO(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new oO(d);if(!d.ok)throw new iO(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Tt={},Em={},iu={},_a={},au={},lu={},cO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bo=cO();const uO=Bo.fetch,Ib=Bo.fetch.bind(Bo),Mb=Bo.Headers,dO=Bo.Request,fO=Bo.Response,ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:Mb,Request:dO,Response:fO,default:Ib,fetch:uO},Symbol.toStringTag,{value:"Module"})),hO=G1(ti);var cu={};Object.defineProperty(cu,"__esModule",{value:!0});let mO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};cu.default=mO;var Lb=rn&&rn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lu,"__esModule",{value:!0});const pO=Lb(hO),gO=Lb(cu);let vO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=pO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,c;let u=null,d=null,f=null,h=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const p=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");p&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const p=await o.text();try{u=JSON.parse(p),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,g="OK")}catch{o.status===404&&p===""?(h=204,g="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new gO.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};lu.default=vO;var yO=rn&&rn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(au,"__esModule",{value:!0});const xO=yO(lu);let wO=class extends xO.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};au.default=wO;var bO=rn&&rn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_a,"__esModule",{value:!0});const SO=bO(au);let _O=class extends SO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};_a.default=_O;var EO=rn&&rn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iu,"__esModule",{value:!0});const mi=EO(_a);let CO=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new mi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){const a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new mi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new mi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new mi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new mi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};iu.default=CO;var uu={},du={};Object.defineProperty(du,"__esModule",{value:!0});du.version=void 0;du.version="0.0.0-automated";Object.defineProperty(uu,"__esModule",{value:!0});uu.DEFAULT_HEADERS=void 0;const NO=du;uu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${NO.version}`};var $b=rn&&rn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Em,"__esModule",{value:!0});const jO=$b(iu),kO=$b(_a),TO=uu;let PO=class Fb{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},TO.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new jO.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Fb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let c;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new kO.default({method:i,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Em.default=PO;var ni=rn&&rn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.PostgrestError=Tt.PostgrestBuilder=Tt.PostgrestTransformBuilder=Tt.PostgrestFilterBuilder=Tt.PostgrestQueryBuilder=Tt.PostgrestClient=void 0;const Ub=ni(Em);Tt.PostgrestClient=Ub.default;const Bb=ni(iu);Tt.PostgrestQueryBuilder=Bb.default;const zb=ni(_a);Tt.PostgrestFilterBuilder=zb.default;const Wb=ni(au);Tt.PostgrestTransformBuilder=Wb.default;const Hb=ni(lu);Tt.PostgrestBuilder=Hb.default;const Vb=ni(cu);Tt.PostgrestError=Vb.default;var RO=Tt.default={PostgrestClient:Ub.default,PostgrestQueryBuilder:Bb.default,PostgrestFilterBuilder:zb.default,PostgrestTransformBuilder:Wb.default,PostgrestBuilder:Hb.default,PostgrestError:Vb.default};const{PostgrestClient:OO,PostgrestQueryBuilder:C4,PostgrestFilterBuilder:N4,PostgrestTransformBuilder:j4,PostgrestBuilder:k4,PostgrestError:T4}=RO;let $f;typeof window>"u"?$f=require("ws"):$f=window.WebSocket;const DO=$f,AO="2.11.10",IO={"X-Client-Info":`realtime-js/${AO}`},MO="1.0.0",qb=1e4,LO=1e3;var yo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yo||(yo={}));var gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gt||(gt={}));var pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pn||(pn={}));var Ff;(function(e){e.websocket="websocket"})(Ff||(Ff={}));var as;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(as||(as={}));class $O{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Yb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const uv=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=FO(i,e,t,s),o),{})},FO=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?Gb(o,i):Uf(i)},Gb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return WO(t,n)}switch(e){case Oe.bool:return UO(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return BO(t);case Oe.json:case Oe.jsonb:return zO(t);case Oe.timestamp:return HO(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Uf(t);default:return Uf(t)}},Uf=e=>e,UO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},BO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},zO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},WO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Gb(t,a))}return e},HO=e=>typeof e=="string"?e.replace(" ","T"):e,Kb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ud{constructor(t,n,r={},s=qb){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dv||(dv={}));class Ai{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ai.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Ai.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ai.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(b=>b.presence_ref),g=f.map(b=>b.presence_ref),w=d.filter(b=>g.indexOf(b.presence_ref)<0),p=f.filter(b=>h.indexOf(b.presence_ref)<0);w.length>0&&(a[u]=w),p.length>0&&(c[u]=p)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[a].unshift(...h)}r(a,d,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fv||(fv={}));var hv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hv||(hv={}));var Qn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qn||(Qn={}));class Cm{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ud(this,pn.join,this.params,this.timeout),this.rejoinTimer=new Yb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ai(this),this.broadcastEndpointURL=Kb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Qn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Qn.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Qn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let p=0;p<g;p++){const b=h[p],{filter:{event:y,schema:v,table:x,filter:S}}=b,_=d&&d[p];if(_&&_.event===y&&_.schema===v&&_.table===x&&_.filter===S)w.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=gt.errored,t==null||t(Qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Qn.SUBSCRIBED);return}}).receive("error",d=>{this.state=gt.errored,t==null||t(Qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new ud(this,pn.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ud(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=pn;if(r&&[a,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let h=this._onMessage(i,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var w,p,b;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(p=g.filter)===null||p===void 0?void 0:p.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(g=>g.callback(h,r)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var w,p,b,y,v,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const S=g.id,_=(w=g.filter)===null||w===void 0?void 0:w.event;return S&&((p=n.ids)===null||p===void 0?void 0:p.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(v=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:p,table:b,commit_timestamp:y,type:v,errors:x}=w;h=Object.assign(Object.assign({},{schema:p,table:b,commit_timestamp:y,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(w))}g.callback(h,r)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Cm.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pn.close,{},t)}_onError(t){this._on(pn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=uv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=uv(t.columns,t.old_record)),n}}const mv=()=>{},VO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qO{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=IO,this.params={},this.timeout=qb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mv,this.ref=0,this.logger=mv,this.conn=null,this.sendBuffer=[],this.serializer=new $O,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Sa(async()=>{const{default:c}=await Promise.resolve().then(()=>ti);return{default:c}},void 0).then(({default:c})=>c(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${Ff.websocket}`,this.httpEndpoint=Kb(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=DO),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new YO(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:MO}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yo.connecting:return as.Connecting;case yo.open:return as.Open;case yo.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Cm(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(pn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(LO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([VO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class YO{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=yo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Nm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class GO extends Nm{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Bf extends Nm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var KO=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const Qb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sa(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},QO=()=>KO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sa(()=>Promise.resolve().then(()=>ti),void 0)).Response:Response}),zf=e=>{if(Array.isArray(e))return e.map(n=>zf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=zf(r)}),t};var Ms=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const dd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JO=(e,t,n)=>Ms(void 0,void 0,void 0,function*(){const r=yield QO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new GO(dd(s),e.status||500))}).catch(s=>{t(new Bf(dd(s),s))}):t(new Bf(dd(e),e))}),XO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Ea(e,t,n,r,s,o){return Ms(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,XO(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>JO(c,a,r))})})}function ac(e,t,n,r){return Ms(this,void 0,void 0,function*(){return Ea(e,"GET",t,n,r)})}function wr(e,t,n,r,s){return Ms(this,void 0,void 0,function*(){return Ea(e,"POST",t,r,s,n)})}function ZO(e,t,n,r,s){return Ms(this,void 0,void 0,function*(){return Ea(e,"PUT",t,r,s,n)})}function eD(e,t,n,r){return Ms(this,void 0,void 0,function*(){return Ea(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Jb(e,t,n,r,s){return Ms(this,void 0,void 0,function*(){return Ea(e,"DELETE",t,r,s,n)})}var Nt=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const tD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nD{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Qb(s)}uploadOrUpdate(t,n,r,s){return Nt(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},pv),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(nt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Nt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:pv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(nt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Nt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield wr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Nm("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Nt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Nt(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Nt(this,void 0,void 0,function*(){try{return{data:{path:(yield wr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Nt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield wr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Nt(this,void 0,void 0,function*(){try{const s=yield wr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}download(t,n){return Nt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ac(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(nt(a))return{data:null,error:a};throw a}})}info(t){return Nt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield ac(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zf(r),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}exists(t){return Nt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield eD(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(nt(r)&&r instanceof Bf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Nt(this,void 0,void 0,function*(){try{return{data:yield Jb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Nt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},tD),n),{prefix:t||""});return{data:yield wr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const rD="2.7.1",sD={"X-Client-Info":`storage-js/${rD}`};var Hs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class oD{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},sD),n),this.fetch=Qb(r)}listBuckets(){return Hs(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(nt(t))return{data:null,error:t};throw t}})}getBucket(t){return Hs(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Hs(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Hs(this,void 0,void 0,function*(){try{return{data:yield ZO(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Hs(this,void 0,void 0,function*(){try{return{data:yield wr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Hs(this,void 0,void 0,function*(){try{return{data:yield Jb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}}class iD extends oD{constructor(t,n={},r){super(t,n,r)}from(t){return new nD(this.url,this.headers,t,this.fetch)}}const aD="2.50.0";let Si="";typeof Deno<"u"?Si="deno":typeof document<"u"?Si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Si="react-native":Si="node";const lD={"X-Client-Info":`supabase-js-${Si}/${aD}`},cD={headers:lD},uD={schema:"public"},dD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fD={};var hD=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const mD=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ib:t=fetch,(...n)=>t(...n)},pD=()=>typeof Headers>"u"?Mb:Headers,gD=(e,t,n)=>{const r=mD(n),s=pD();return(o,i)=>hD(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var vD=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function yD(e){return e.endsWith("/")?e:e+"/"}function xD(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>vD(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Xb="2.70.0",Ks=30*1e3,Wf=3,fd=Wf*Ks,wD="http://localhost:9999",bD="supabase.auth.token",SD={"X-Client-Info":`gotrue-js/${Xb}`},Hf="X-Supabase-Api-Version",Zb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_D=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ED=6e5;class jm extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ce(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class CD extends jm{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ND(e){return ce(e)&&e.name==="AuthApiError"}class eS extends jm{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Jr extends jm{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class vr extends Jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jD(e){return ce(e)&&e.name==="AuthSessionMissingError"}class il extends Jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class al extends Jr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ll extends Jr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kD(e){return ce(e)&&e.name==="AuthImplicitGrantRedirectError"}class gv extends Jr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vf extends Jr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function hd(e){return ce(e)&&e.name==="AuthRetryableFetchError"}class vv extends Jr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ii extends Jr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yv=` 	
\r=`.split(""),TD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<yv.length;t+=1)e[yv[t].charCodeAt(0)]=-2;for(let t=0;t<lc.length;t+=1)e[lc[t].charCodeAt(0)]=t;return e})();function xv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(lc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(lc[r]),t.queuedBits-=6}}function tS(e,t,n){const r=TD[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wv(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{OD(i,r,n)};for(let i=0;i<e.length;i+=1)tS(e.charCodeAt(i),s,o);return t.join("")}function PD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RD(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}PD(r,t)}}function OD(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function DD(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)tS(e.charCodeAt(s),n,r);return new Uint8Array(t)}function AD(e){const t=[];return RD(e,n=>t.push(n)),new Uint8Array(t)}function ID(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>xv(s,n,r)),xv(null,n,r),t.join("")}function MD(e){return Math.round(Date.now()/1e3)+e}function LD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const cn=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},Mi=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function $D(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const nS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sa(async()=>{const{default:r}=await Promise.resolve().then(()=>ti);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},FD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rS=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},cl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ul=async(e,t)=>{await e.removeItem(t)};class fu{constructor(){this.promise=new fu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}fu.promiseConstructor=Promise;function md(e){const t=e.split(".");if(t.length!==3)throw new Ii("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!_D.test(t[r]))throw new Ii("JWT not in base64url format");return{header:JSON.parse(wv(t[0])),payload:JSON.parse(wv(t[1])),signature:DD(t[2]),raw:{header:t[0],payload:t[1]}}}async function UD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function BD(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function zD(e){return("0"+e.toString(16)).substr(-2)}function WD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,zD).join("")}async function HD(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function VD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await HD(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vs(e,t,n=!1){const r=WD();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await rS(e,`${t}-code-verifier`,s);const o=await VD(r);return[o,r===o?"plain":"s256"]}const qD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YD(e){const t=e.headers.get(Hf);if(!t||!t.match(qD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function GD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function KD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function qs(e){if(!QD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var JD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const os=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XD=[502,503,504];async function bv(e){var t;if(!FD(e))throw new Vf(os(e),0);if(XD.includes(e.status))throw new Vf(os(e),e.status);let n;try{n=await e.json()}catch(o){throw new eS(os(o),o)}let r;const s=YD(e);if(s&&s.getTime()>=Zb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new vv(os(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new vr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new vv(os(n),e.status,n.weak_password.reasons);throw new CD(os(n),e.status||500,r)}const ZD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function he(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Hf]||(o[Hf]=Zb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await eA(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function eA(e,t,n,r,s,o){const i=ZD(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Vf(os(c),0)}if(a.ok||await bv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await bv(c)}}function Gn(e){var t;let n=null;sA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=MD(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Sv(e){const t=Gn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Er(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tA(e){return{data:e,error:null}}function nA(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=JD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function rA(e){return e}function sA(e){return e.access_token&&e.refresh_token&&e.expires_in}const pd=["global","local","others"];var oA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class iA{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=nS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=pd[0]){if(pd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pd.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Er})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=oA(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nA,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ce(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Er})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:rA});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(w=>{const p=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ce(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){qs(t);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Er})}catch(n){if(ce(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){qs(t);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Er})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){qs(t);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Er})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){qs(t.userId);try{const{data:n,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _deleteFactor(t){qs(t.userId),qs(t.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}}const aA={getItem:e=>Mi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Mi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Mi()&&globalThis.localStorage.removeItem(e)}};function _v(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function lA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ys={debug:!!(globalThis&&Mi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cA extends sS{}async function uA(e,t,n){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ys.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}lA();const dA={url:wD,storageKey:bD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ev(e,t,n){return await n()}class la{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=la.nextInstanceID,la.nextInstanceID+=1,this.instanceID>0&&cn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dA),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new iA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=nS(s.fetch),this.lock=s.lock||Ev,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:cn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=uA:this.lock=Ev,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Mi()?this.storage=aA:(this.memoryStorage={},this.storage=_v(this.memoryStorage)):(this.memoryStorage={},this.storage=_v(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Xb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=$D(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),cn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),kD(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ce(n)?{error:n}:{error:new eS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Gn}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ce(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await Vs(this.storage,this.storageKey)),o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:w},xform:Gn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gn})}else throw new al("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ce(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sv})}else throw new al("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new il}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,a,c,u,d,f,h,g;let w,p;if("message"in t)w=t.message,p=t.signature;else{const{chain:b,wallet:y,statement:v,options:x}=t;let S;if(cn())if(typeof y=="object")S=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const _=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let N;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")N=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)N=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)w=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(w),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=C}}try{const{data:b,error:y}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ID(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Gn});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new il}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(ce(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await cl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Gn});if(await ul(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new il}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ce(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Gn}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new il}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vs(this.storage,this.storageKey));const{error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new al("You must provide either an email or phone number.")}catch(a){if(ce(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Gn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Vs(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:tA})}catch(o){if(ce(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new vr;const{error:s}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ce(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await he(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await he(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new al("You must provide either an email or phone number and a type")}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await cl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<fd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Er}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vr}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Er})})}catch(n){if(ce(n))return jD(n)&&(await this._removeSession(),await ul(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new vr;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Vs(this.storage,this.storageKey));const{data:u,error:d}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:Er});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(ce(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vr;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=md(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ce(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new vr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!cn())throw new ll("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ll(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ll("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gv("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new ll("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=Ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:p,error:b}=await this._getUser(o);if(b)throw b;const y={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(r){if(ce(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await cl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(ND(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ul(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=LD(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Vs(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ce(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,c,u,d;const{data:f,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return cn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ce(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await BD(async s=>(s>0&&await UD(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&hd(o)&&Date.now()+i-r<Ks})}catch(r){if(this._debug(n,"error",r),ce(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),cn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await cl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<fd;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${fd}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),hd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new vr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fu;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new vr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),ce(o)){const i={session:null,error:o};return hd(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await rS(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ul(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ks);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ks}ms, refresh threshold is ${Wf} ticks`),s<=Wf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Vs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await he(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ce(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ce(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=md(s.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+ED>Date.now()))return r;const{data:s,error:o}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Ii("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new Ii("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};r=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=md(r);if(GD(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const u=KD(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,AD(`${a}.${c}`)))throw new Ii("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}}}la.nextInstanceID=0;const fA=la;class hA extends fA{constructor(t){super(t)}}var mA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class pA{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=yD(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:uD,realtime:fD,auth:Object.assign(Object.assign({},dD),{storageKey:u}),global:cD},f=xD(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=gD(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new OO(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new lO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new iD(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return mA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hA({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new qO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gA=(e,t,n)=>new pA(e,t,n),vA="https://ttdbvnmuwwzayzzbosyi.supabase.co",yA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0ZGJ2bm11d3d6YXl6emJvc3lpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5ODc2NTYsImV4cCI6MjA2NTU2MzY1Nn0.JGNJn1iu0wwhLiu34gTEjuK-aK5aAMzJWlbrkB5VQ2Y",Q=gA(vA,yA,{realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"student-bidding-system"}}}),xA=async e=>{try{const{data:t,error:n}=await Q.from("users").select("*").eq("email",e.email).maybeSingle();if(t&&!n){const{data:o,error:i}=await Q.from("users").update({name:e.name,student_number:e.studentNumber}).eq("id",t.id).select().single();if(i)throw i;return{id:o.id,name:o.name,email:o.email,studentNumber:o.student_number,createdAt:o.created_at,updatedAt:o.updated_at}}const{data:r,error:s}=await Q.from("users").insert({name:e.name,email:e.email,student_number:e.studentNumber}).select().single();if(s)throw s;return{id:r.id,name:r.name,email:r.email,studentNumber:r.student_number,createdAt:r.created_at,updatedAt:r.updated_at}}catch(t){throw console.error("Error creating/getting user:",t),t}},wA=async e=>{try{const{data:t,error:n}=await Q.from("student_enrollments").upsert({user_id:e.userId,class_id:e.classId,tokens_remaining:e.tokensRemaining||1,token_status:e.tokenStatus||"unused",bidding_result:e.biddingResult||"pending"}).select().single();if(n)throw n;return{userId:t.user_id,classId:t.class_id,tokensRemaining:t.tokens_remaining,tokenStatus:t.token_status,biddingResult:t.bidding_result,createdAt:t.created_at,updatedAt:t.updated_at}}catch(t){throw console.error("Error enrolling user in class:",t),t}},bA=async(e,t)=>{try{const{data:n,error:r}=await Q.from("users").select("*").eq("email",e.toLowerCase()).eq("student_number",t).maybeSingle();return r||!n?null:{id:n.id,name:n.name,email:n.email,studentNumber:n.student_number,createdAt:n.created_at,updatedAt:n.updated_at}}catch(n){return console.error("Error getting user by credentials:",n),null}},SA=async e=>{try{const{data:t,error:n}=await Q.from("student_enrollments").select("*").eq("user_id",e);if(n)throw n;return(t||[]).map(r=>({userId:r.user_id,classId:r.class_id,tokensRemaining:r.tokens_remaining,tokenStatus:r.token_status,biddingResult:r.bidding_result,createdAt:r.created_at,updatedAt:r.updated_at}))}catch(t){return console.error("Error getting user enrollments:",t),[]}},oS=async e=>{try{const{data:t,error:n}=await Q.from("student_enrollments").select(`
        *,
        user:users(*)
      `).eq("class_id",e);if(n)throw n;return(t||[]).map(r=>({id:r.user.id,name:r.user.name,email:r.user.email,studentNumber:r.user.student_number,hasUsedToken:r.tokens_remaining<=0,hasBid:r.token_status==="used",tokensRemaining:r.tokens_remaining,tokenStatus:r.token_status,biddingResult:r.bidding_result}))}catch(t){return console.error("Error getting class students:",t),[]}},_A=async()=>{try{console.log("=== STARTING ORPHANED USER CLEANUP ===");const{data:e,error:t}=await Q.from("student_enrollments").select("user_id");if(t)return console.error("Error fetching enrolled user IDs:",t),{success:!1,deletedCount:0,errors:[`Failed to fetch enrolled users: ${t.message}`],message:"Cleanup failed due to database error"};const n=new Set((e||[]).map(c=>c.user_id));console.log("Currently enrolled user IDs:",Array.from(n));const{data:r,error:s}=await Q.from("users").select("id, name, email");if(s)return console.error("Error fetching all users:",s),{success:!1,deletedCount:0,errors:[`Failed to fetch users: ${s.message}`],message:"Cleanup failed due to database error"};const o=(r||[]).filter(c=>!n.has(c.id));if(console.log("Orphaned users found:",o.length),console.log("Orphaned user details:",o.map(c=>({id:c.id,name:c.name,email:c.email}))),o.length===0)return{success:!0,deletedCount:0,errors:[],message:"No orphaned users found - database is clean"};const i=o.map(c=>c.id),{error:a}=await Q.from("users").delete().in("id",i);return a?(console.error("Error deleting orphaned users:",a),{success:!1,deletedCount:0,errors:[`Failed to delete orphaned users: ${a.message}`],message:"Cleanup failed during user deletion"}):(console.log(`Successfully deleted ${o.length} orphaned users`),{success:!0,deletedCount:o.length,errors:[],message:`Successfully removed ${o.length} orphaned user${o.length!==1?"s":""}`})}catch(e){return console.error("Unexpected error during orphaned user cleanup:",e),{success:!1,deletedCount:0,errors:[e instanceof Error?e.message:"Unknown error"],message:"Cleanup failed due to unexpected error"}}},EA=async(e,t,n)=>{try{const r=await bA(e,t);if(!r)return{success:!1,enrolledClasses:[],errorMessage:"No student found with these credentials"};const s=await SA(r.id);if(s.length===0)return{success:!1,enrolledClasses:[],errorMessage:"Student is not enrolled in any classes"};const o=[];for(const a of s){const c=n.find(u=>u.id===a.classId);if(c){const u={id:r.id,name:r.name,email:r.email,studentNumber:r.studentNumber,hasUsedToken:a.tokensRemaining<=0,hasBid:a.tokenStatus==="used",tokensRemaining:a.tokensRemaining,tokenStatus:a.tokenStatus,biddingResult:a.biddingResult},d={...c,students:c.students.map(f=>f.id===r.id?u:f)};o.push(d)}}return o.length===0?{success:!1,enrolledClasses:[],errorMessage:"Student's enrolled classes are not available"}:{success:!0,student:{id:r.id,name:r.name,email:r.email,studentNumber:r.studentNumber,enrollments:s},enrolledClasses:o}}catch(r){return console.error("Error during student authentication:",r),{success:!1,enrolledClasses:[],errorMessage:"Authentication failed due to system error"}}},CA=({classes:e,onLogin:t})=>{const[n,r]=m.useState(""),[s,o]=m.useState(""),[i,a]=m.useState(!1),{toast:c}=Mt(),u=Gc(),d=async f=>{f.preventDefault(),a(!0);try{const h=await EA(n,s,e);h.success&&h.student&&h.enrolledClasses.length>0?(c({title:"Login successful",description:`Welcome, ${h.student.name}! Found ${h.enrolledClasses.length} class(es).`}),t(!0),u("/student",{state:{student:h.student,classes:h.enrolledClasses}})):c({title:"Login failed",description:h.errorMessage||"Invalid email or student number. Please check your credentials.",variant:"destructive"})}catch(h){console.error("Login error:",h),c({title:"Login failed",description:"An error occurred during login. Please try again.",variant:"destructive"})}finally{a(!1)}};return l.jsxs(Se,{className:"w-full max-w-md",children:[l.jsxs(Ue,{children:[l.jsx(Be,{className:"text-2xl font-heading",children:"Student Login"}),l.jsx(Is,{children:"Enter your email address and student number to access your classes"})]}),l.jsxs("form",{onSubmit:d,children:[l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"email",children:"Email Address"}),l.jsx(_t,{id:"email",type:"email",value:n,onChange:f=>r(f.target.value),placeholder:"your.email@example.com",required:!0,disabled:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"studentNumber",children:"Student Number"}),l.jsx(_t,{id:"studentNumber",type:"text",value:s,onChange:f=>o(f.target.value),placeholder:"Enter your student number",required:!0,disabled:i})]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:l.jsx("p",{children:"You will see all classes you're enrolled in after logging in."})})]}),l.jsx(ou,{children:l.jsx(le,{type:"submit",className:"w-full",disabled:i,children:i?"Logging in...":"Login"})})]})]})},NA=xa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function oe({className:e,variant:t,...n}){return l.jsx("div",{className:re(NA({variant:t}),e),...n})}function qf(e,[t,n]){return Math.min(n,Math.max(t,e))}function jA(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var km="ScrollArea",[iS,P4]=As(km),[kA,an]=iS(km),aS=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[g,w]=m.useState(null),[p,b]=m.useState(null),[y,v]=m.useState(0),[x,S]=m.useState(0),[_,C]=m.useState(!1),[N,j]=m.useState(!1),D=ye(t,Y=>c(Y)),O=Kc(s);return l.jsx(kA,{scope:n,type:r,dir:O,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:C,scrollbarY:p,onScrollbarYChange:b,scrollbarYEnabled:N,onScrollbarYEnabledChange:j,onCornerWidthChange:v,onCornerHeightChange:S,children:l.jsx(ae.div,{dir:O,...i,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});aS.displayName=km;var lS="ScrollAreaViewport",cS=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:o,...i}=e,a=an(lS,n),c=m.useRef(null),u=ye(t,c,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),l.jsx(ae.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:$A({asChild:s,children:r},d=>l.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});cS.displayName=lS;var Hn="ScrollAreaScrollbar",Tm=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=an(Hn,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return m.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?l.jsx(TA,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(PA,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(uS,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(Pm,{...r,ref:t}):null});Tm.displayName=Hn;var TA=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=an(Hn,e.__scopeScrollArea),[o,i]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Kt,{present:n||o,children:l.jsx(uS,{"data-state":o?"visible":"hidden",...r,ref:t})})}),PA=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=an(Hn,e.__scopeScrollArea),o=e.orientation==="horizontal",i=mu(()=>c("SCROLL_END"),100),[a,c]=jA("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const g=u[d];f!==g&&(c("SCROLL"),i()),f=g};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,o,c,i]),l.jsx(Kt,{present:n||a!=="hidden",children:l.jsx(Pm,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),uS=m.forwardRef((e,t)=>{const n=an(Hn,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=m.useState(!1),a=e.orientation==="horizontal",c=mu(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return zo(n.viewport,c),zo(n.content,c),l.jsx(Kt,{present:r||o,children:l.jsx(Pm,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Pm=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=an(Hn,e.__scopeScrollArea),o=m.useRef(null),i=m.useRef(0),[a,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=pS(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>o.current=h,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:h=>i.current=h};function f(h,g){return MA(h,i.current,a,g)}return n==="horizontal"?l.jsx(RA,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollLeft,g=Cv(h,a,s.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?l.jsx(OA,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const h=s.viewport.scrollTop,g=Cv(h,a);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),RA=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=an(Hn,e.__scopeScrollArea),[i,a]=m.useState(),c=m.useRef(null),u=ye(t,c,o.onScrollbarXChange);return m.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(fS,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":hu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),vS(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:uc(i.paddingLeft),paddingEnd:uc(i.paddingRight)}})}})}),OA=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=an(Hn,e.__scopeScrollArea),[i,a]=m.useState(),c=m.useRef(null),u=ye(t,c,o.onScrollbarYChange);return m.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(fS,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":hu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const h=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),vS(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:uc(i.paddingTop),paddingEnd:uc(i.paddingBottom)}})}})}),[DA,dS]=iS(Hn),fS=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,g=an(Hn,n),[w,p]=m.useState(null),b=ye(t,D=>p(D)),y=m.useRef(null),v=m.useRef(""),x=g.viewport,S=r.content-r.viewport,_=Ke(d),C=Ke(c),N=mu(f,10);function j(D){if(y.current){const O=D.clientX-y.current.left,Y=D.clientY-y.current.top;u({x:O,y:Y})}}return m.useEffect(()=>{const D=O=>{const Y=O.target;(w==null?void 0:w.contains(Y))&&_(O,S)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[x,w,S,_]),m.useEffect(C,[r,C]),zo(w,N),zo(g.content,N),l.jsx(DA,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Ke(o),onThumbPointerUp:Ke(i),onThumbPositionChange:C,onThumbPointerDown:Ke(a),children:l.jsx(ae.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:ee(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),y.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),j(D))}),onPointerMove:ee(e.onPointerMove,j),onPointerUp:ee(e.onPointerUp,D=>{const O=D.target;O.hasPointerCapture(D.pointerId)&&O.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=v.current,g.viewport&&(g.viewport.style.scrollBehavior=""),y.current=null})})})}),cc="ScrollAreaThumb",hS=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dS(cc,e.__scopeScrollArea);return l.jsx(Kt,{present:n||s.hasThumb,children:l.jsx(AA,{ref:t,...r})})}),AA=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=an(cc,n),i=dS(cc,n),{onThumbPositionChange:a}=i,c=ye(t,f=>i.onThumbChange(f)),u=m.useRef(),d=mu(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=o.viewport;if(f){const h=()=>{if(d(),!u.current){const g=LA(f,a);u.current=g,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[o.viewport,d,a]),l.jsx(ae.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ee(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),w=f.clientX-g.left,p=f.clientY-g.top;i.onThumbPointerDown({x:w,y:p})}),onPointerUp:ee(e.onPointerUp,i.onThumbPointerUp)})});hS.displayName=cc;var Rm="ScrollAreaCorner",mS=m.forwardRef((e,t)=>{const n=an(Rm,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(IA,{...e,ref:t}):null});mS.displayName=Rm;var IA=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=an(Rm,n),[o,i]=m.useState(0),[a,c]=m.useState(0),u=!!(o&&a);return zo(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),zo(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?l.jsx(ae.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function uc(e){return e?parseInt(e,10):0}function pS(e,t){const n=e/t;return isNaN(n)?0:n}function hu(e){const t=pS(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function MA(e,t,n,r="ltr"){const s=hu(n),o=s/2,i=t||o,a=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return gS([c,u],f)(e)}function Cv(e,t,n="ltr"){const r=hu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,c=n==="ltr"?[0,i]:[i*-1,0],u=qf(e,c);return gS([0,i],[0,a])(u)}function gS(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function vS(e,t){return e>0&&e<t}var LA=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function mu(e,t){const n=Ke(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function zo(e,t){const n=Ke(t);lt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function $A(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=m.Children.only(r);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var yS=aS,FA=cS,UA=mS;const Om=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(yS,{ref:r,className:re("relative overflow-hidden",e),...n,children:[l.jsx(FA,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(xS,{}),l.jsx(UA,{})]}));Om.displayName=yS.displayName;const xS=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Tm,{ref:r,orientation:t,className:re("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(hS,{className:"relative flex-1 rounded-full bg-border"})}));xS.displayName=Tm.displayName;const BA=({classes:e,archivedClasses:t,currentClass:n,onSelectClass:r,onCreateClass:s,isCollapsed:o=!1,viewArchivedClasses:i,onToggleArchiveView:a,onUnarchiveClass:c})=>{const[u,d]=m.useState(null);m.useState(null);const f=i?t:e,h=e.length,g=t.length;return l.jsx("div",{className:re("fixed left-0 top-16 h-[calc(100vh-64px)] bg-white border-r border-gray-200 shadow-sm transition-all duration-300 z-40",o?"w-16":"w-80"),children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[!o&&l.jsx("h2",{className:"text-lg font-heading font-semibold text-gray-900",children:i?"Archived Classes":"Active Classes"}),l.jsxs(le,{onClick:s,size:o?"icon":"sm",className:"bg-academy-blue hover:bg-academy-blue/90",children:[l.jsx(Sf,{className:"w-4 h-4"}),!o&&l.jsx("span",{className:"ml-2",children:"New Class"})]})]})}),!o&&l.jsx("div",{className:"px-4 pb-2",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(le,{variant:i?"outline":"default",size:"sm",onClick:()=>a(!1),className:"flex-1 text-xs",children:["Active (",h,")"]}),l.jsxs(le,{variant:i?"default":"outline",size:"sm",onClick:()=>a(!0),className:"flex-1 text-xs",children:["Archive (",g,")"]})]})}),l.jsx(Om,{className:"flex-1 p-2",children:l.jsx("div",{className:"space-y-2",children:f.length===0?l.jsx("div",{className:re("text-center py-8",o&&"px-2"),children:o?l.jsx(Zl,{className:"w-6 h-6 mx-auto text-gray-400"}):l.jsxs(l.Fragment,{children:[l.jsx(Zl,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 mb-3",children:i?"No archived classes":"No active classes"}),!i&&l.jsx(le,{onClick:s,size:"sm",variant:"outline",children:"Create First Class"})]})}):f.map(w=>l.jsx(Se,{className:re("cursor-pointer transition-all duration-200 hover:shadow-md",(n==null?void 0:n.id)===w.id?"border-academy-blue bg-academy-blue/5 shadow-sm":"border-gray-200 hover:border-gray-300",i&&"opacity-75",o&&"p-2"),onClick:()=>r(w.id),onMouseEnter:()=>d(w.id),onMouseLeave:()=>d(null),children:o?l.jsx("div",{className:"flex items-center justify-center p-2",children:l.jsx("div",{className:"w-8 h-8 rounded-full bg-academy-blue/10 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-semibold text-academy-blue",children:w.className.charAt(0).toUpperCase()})})}):l.jsx(l.Fragment,{children:l.jsx(Ue,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Be,{className:"text-base font-semibold text-gray-900 truncate",children:w.className}),l.jsx("div",{className:"flex items-center gap-2",children:i&&l.jsx(l.Fragment,{children:l.jsx(oe,{variant:"secondary",className:"text-xs",children:"Archived"})})}),(n==null?void 0:n.id)===w.id&&l.jsx(Xh,{className:"w-4 h-4 text-academy-blue"})]})})})},w.id))})}),!o&&l.jsx("div",{className:"p-4 border-t border-gray-100",children:l.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[h," active classes • ",g," archived classes"]})})]})})},Dm=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:re("w-full caption-bottom text-sm",e),...t})}));Dm.displayName="Table";const Am=m.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:re("[&_tr]:border-b",e),...t}));Am.displayName="TableHeader";const Im=m.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:re("[&_tr:last-child]:border-0",e),...t}));Im.displayName="TableBody";const zA=m.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));zA.displayName="TableFooter";const xo=m.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));xo.displayName="TableRow";const jt=m.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));jt.displayName="TableHead";const xt=m.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xt.displayName="TableCell";const WA=m.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:re("mt-4 text-sm text-muted-foreground",e),...t}));WA.displayName="TableCaption";const Li=e=>{const t=new Date;if(!e.bidOpenDate||!e.bidCloseDate)return!1;const n=new Date(e.bidOpenDate),r=new Date(e.bidCloseDate);return isNaN(n.getTime())||isNaN(r.getTime())?!1:t>=n&&t<r},vn=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"}),er=e=>{const t=new Date,n=new Date(e.date);if(!e.bidOpenDate||!e.bidCloseDate)return"Invalid Date Configuration";const r=new Date(e.bidOpenDate),s=new Date(e.bidCloseDate);return isNaN(r.getTime())||isNaN(s.getTime())||isNaN(n.getTime())?"Invalid Date Configuration":t>n?"Completed":t>=r&&t<s?"Open for Bidding":t>=s&&t<n?"Bidding Closed":"Coming Soon"},Mm=m.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Mm.displayName="Textarea";function we(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function wt(e,t){const n=we(e);return isNaN(t)?qt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function _n(e,t){const n=we(e);if(isNaN(t))return qt(e,NaN);if(!t)return n;const r=n.getDate(),s=qt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const Lm=6048e5,HA=864e5;let VA={};function Ca(){return VA}function zn(e,t){var a,c,u,d;const n=Ca(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=we(e),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Ts(e){return zn(e,{weekStartsOn:1})}function wS(e){const t=we(e),n=t.getFullYear(),r=qt(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ts(r),o=qt(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=Ts(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Wo(e){const t=we(e);return t.setHours(0,0,0,0),t}function dc(e){const t=we(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Mn(e,t){const n=Wo(e),r=Wo(t),s=+n-dc(n),o=+r-dc(r);return Math.round((s-o)/HA)}function qA(e){const t=wS(e),n=qt(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ts(n)}function Yf(e,t){const n=t*7;return wt(e,n)}function YA(e,t){return _n(e,t*12)}function GA(e){let t;return e.forEach(function(n){const r=we(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function KA(e){let t;return e.forEach(n=>{const r=we(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Rt(e,t){const n=Wo(e),r=Wo(t);return+n==+r}function $m(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function QA(e){if(!$m(e)&&typeof e!="number")return!1;const t=we(e);return!isNaN(Number(t))}function ca(e,t){const n=we(e),r=we(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function JA(e,t,n){const r=zn(e,n),s=zn(t,n),o=+r-dc(r),i=+s-dc(s);return Math.round((o-i)/Lm)}function Fm(e){const t=we(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function It(e){const t=we(e);return t.setDate(1),t.setHours(0,0,0,0),t}function bS(e){const t=we(e),n=qt(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Um(e,t){var a,c,u,d;const n=Ca(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=we(e),o=s.getDay(),i=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function SS(e){return Um(e,{weekStartsOn:1})}const XA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZA=(e,t,n)=>{let r;const s=XA[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gd(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const e2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},t2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},r2={date:gd({formats:e2,defaultWidth:"full"}),time:gd({formats:t2,defaultWidth:"full"}),dateTime:gd({formats:n2,defaultWidth:"full"})},s2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},o2=(e,t,n,r)=>s2[e];function pi(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const i2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},f2=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},h2={ordinalNumber:f2,era:pi({values:i2,defaultWidth:"wide"}),quarter:pi({values:a2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:pi({values:l2,defaultWidth:"wide"}),day:pi({values:c2,defaultWidth:"wide"}),dayPeriod:pi({values:u2,defaultWidth:"wide",formattingValues:d2,defaultFormattingWidth:"wide"})};function gi(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?p2(a,f=>f.test(i)):m2(a,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function m2(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function p2(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function g2(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const v2=/^(\d+)(th|st|nd|rd)?/i,y2=/\d+/i,x2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},w2={any:[/^b/i,/^(a|c)/i]},b2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},S2={any:[/1/i,/2/i,/3/i,/4/i]},_2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},C2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},N2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},j2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},k2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},T2={ordinalNumber:g2({matchPattern:v2,parsePattern:y2,valueCallback:e=>parseInt(e,10)}),era:gi({matchPatterns:x2,defaultMatchWidth:"wide",parsePatterns:w2,defaultParseWidth:"any"}),quarter:gi({matchPatterns:b2,defaultMatchWidth:"wide",parsePatterns:S2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:gi({matchPatterns:_2,defaultMatchWidth:"wide",parsePatterns:E2,defaultParseWidth:"any"}),day:gi({matchPatterns:C2,defaultMatchWidth:"wide",parsePatterns:N2,defaultParseWidth:"any"}),dayPeriod:gi({matchPatterns:j2,defaultMatchWidth:"any",parsePatterns:k2,defaultParseWidth:"any"})},_S={code:"en-US",formatDistance:ZA,formatLong:r2,formatRelative:o2,localize:h2,match:T2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function P2(e){const t=we(e);return Mn(t,bS(t))+1}function ES(e){const t=we(e),n=+Ts(t)-+qA(t);return Math.round(n/Lm)+1}function CS(e,t){var d,f,h,g;const n=we(e),r=n.getFullYear(),s=Ca(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(h=s.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,i=qt(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const a=zn(i,t),c=qt(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=zn(c,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function R2(e,t){var a,c,u,d;const n=Ca(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=CS(e,t),o=qt(e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),zn(o,t)}function NS(e,t){const n=we(e),r=+zn(n,t)-+R2(n,t);return Math.round(r/Lm)+1}function ke(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const mr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ke(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ke(n+1,2)},d(e,t){return ke(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ke(e.getHours()%12||12,t.length)},H(e,t){return ke(e.getHours(),t.length)},m(e,t){return ke(e.getMinutes(),t.length)},s(e,t){return ke(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ke(s,t.length)}},Gs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nv={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return mr.y(e,t)},Y:function(e,t,n,r){const s=CS(e,r),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return ke(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):ke(o,t.length)},R:function(e,t){const n=wS(e);return ke(n,t.length)},u:function(e,t){const n=e.getFullYear();return ke(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ke(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ke(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return mr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ke(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=NS(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ke(s,t.length)},I:function(e,t,n){const r=ES(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ke(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):mr.d(e,t)},D:function(e,t,n){const r=P2(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ke(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ke(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ke(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ke(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Gs.noon:r===0?s=Gs.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Gs.evening:r>=12?s=Gs.afternoon:r>=4?s=Gs.morning:s=Gs.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return mr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):mr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ke(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ke(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):mr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):mr.s(e,t)},S:function(e,t){return mr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return kv(r);case"XXXX":case"XX":return is(r);case"XXXXX":case"XXX":default:return is(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return kv(r);case"xxxx":case"xx":return is(r);case"xxxxx":case"xxx":default:return is(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jv(r,":");case"OOOO":default:return"GMT"+is(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jv(r,":");case"zzzz":default:return"GMT"+is(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ke(r,t.length)},T:function(e,t,n){const r=e.getTime();return ke(r,t.length)}};function jv(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+ke(o,2)}function kv(e,t){return e%60===0?(e>0?"-":"+")+ke(Math.abs(e)/60,2):is(e,t)}function is(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ke(Math.trunc(r/60),2),o=ke(r%60,2);return n+s+t+o}const Tv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},jS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},O2=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Tv(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Tv(r,t)).replace("{{time}}",jS(s,t))},D2={p:jS,P:O2},A2=/^D+$/,I2=/^Y+$/,M2=["D","DD","YY","YYYY"];function L2(e){return A2.test(e)}function $2(e){return I2.test(e)}function F2(e,t,n){const r=U2(e,t,n);if(console.warn(r),M2.includes(e))throw new RangeError(r)}function U2(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const B2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,z2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,W2=/^'([^]*?)'?$/,H2=/''/g,V2=/[a-zA-Z]/;function Ht(e,t,n){var d,f,h,g,w,p,b,y;const r=Ca(),s=(n==null?void 0:n.locale)??r.locale??_S,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((p=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((y=(b=r.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,a=we(e);if(!QA(a))throw new RangeError("Invalid time value");let c=t.match(z2).map(v=>{const x=v[0];if(x==="p"||x==="P"){const S=D2[x];return S(v,s.formatLong)}return v}).join("").match(B2).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const x=v[0];if(x==="'")return{isToken:!1,value:q2(v)};if(Nv[x])return{isToken:!0,value:v};if(x.match(V2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const x=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&$2(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&L2(x))&&F2(x,t,String(e));const S=Nv[x[0]];return S(a,x,s.localize,u)}).join("")}function q2(e){const t=e.match(W2);return t?t[1].replace(H2,"'"):e}function Y2(e){const t=we(e),n=t.getFullYear(),r=t.getMonth(),s=qt(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function G2(e){return Math.trunc(+we(e)/1e3)}function K2(e){const t=we(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Q2(e,t){return JA(K2(e),It(e),t)+1}function Gf(e,t){const n=we(e),r=we(t);return n.getTime()>r.getTime()}function kS(e,t){const n=we(e),r=we(t);return+n<+r}function Bm(e,t){const n=we(e),r=we(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function J2(e,t){const n=we(e),r=we(t);return n.getFullYear()===r.getFullYear()}function vd(e,t){return wt(e,-t)}function yd(e,t){const n=we(e),r=n.getFullYear(),s=n.getDate(),o=qt(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const i=Y2(o);return n.setMonth(t,Math.min(s,i)),n}function Pv(e,t){const n=we(e);return isNaN(+n)?qt(e,NaN):(n.setFullYear(t),n)}var ie=function(){return ie=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ie.apply(this,arguments)};function X2(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function TS(e,t,n){for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Na(e){return e.mode==="multiple"}function ja(e){return e.mode==="range"}function pu(e){return e.mode==="single"}var Z2={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function eI(e,t){return Ht(e,"LLLL y",t)}function tI(e,t){return Ht(e,"d",t)}function nI(e,t){return Ht(e,"LLLL",t)}function rI(e){return"".concat(e)}function sI(e,t){return Ht(e,"cccccc",t)}function oI(e,t){return Ht(e,"yyyy",t)}var iI=Object.freeze({__proto__:null,formatCaption:eI,formatDay:tI,formatMonthCaption:nI,formatWeekNumber:rI,formatWeekdayName:sI,formatYearCaption:oI}),aI=function(e,t,n){return Ht(e,"do MMMM (EEEE)",n)},lI=function(){return"Month: "},cI=function(){return"Go to next month"},uI=function(){return"Go to previous month"},dI=function(e,t){return Ht(e,"cccc",t)},fI=function(e){return"Week n. ".concat(e)},hI=function(){return"Year: "},mI=Object.freeze({__proto__:null,labelDay:aI,labelMonthDropdown:lI,labelNext:cI,labelPrevious:uI,labelWeekNumber:fI,labelWeekday:dI,labelYearDropdown:hI});function pI(){var e="buttons",t=Z2,n=_S,r={},s={},o=1,i={},a=new Date;return{captionLayout:e,classNames:t,formatters:iI,labels:mI,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:a,mode:"default"}}function gI(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=It(r):t&&(o=new Date(t,0,1)),s?i=Fm(s):n&&(i=new Date(n,11,31)),{fromDate:o?Wo(o):void 0,toDate:i?Wo(i):void 0}}var PS=m.createContext(void 0);function vI(e){var t,n=e.initialProps,r=pI(),s=gI(n),o=s.fromDate,i=s.toDate,a=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;a!=="buttons"&&(!o||!i)&&(a="buttons");var c;(pu(n)||Na(n)||ja(n))&&(c=n.onSelect);var u=ie(ie(ie({},r),n),{captionLayout:a,classNames:ie(ie({},r.classNames),n.classNames),components:ie({},n.components),formatters:ie(ie({},r.formatters),n.formatters),fromDate:o,labels:ie(ie({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ie(ie({},r.modifiers),n.modifiers),modifiersClassNames:ie(ie({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:ie(ie({},r.styles),n.styles),toDate:i});return l.jsx(PS.Provider,{value:u,children:e.children})}function Ae(){var e=m.useContext(PS);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function RS(e){var t=Ae(),n=t.locale,r=t.classNames,s=t.styles,o=t.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function yI(e){return l.jsx("svg",ie({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function OS(e){var t,n,r=e.onChange,s=e.value,o=e.children,i=e.caption,a=e.className,c=e.style,u=Ae(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:yI;return l.jsxs("div",{className:a,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function xI(e){var t,n=Ae(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,a=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var f=[];if(J2(r,s))for(var h=It(r),g=r.getMonth();g<=s.getMonth();g++)f.push(yd(h,g));else for(var h=It(new Date),g=0;g<=11;g++)f.push(yd(h,g));var w=function(b){var y=Number(b.target.value),v=yd(It(e.displayMonth),y);e.onChange(v)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:OS;return l.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:i}),children:f.map(function(b){return l.jsx("option",{value:b.getMonth(),children:a(b,{locale:i})},b.getMonth())})})}function wI(e){var t,n=e.displayMonth,r=Ae(),s=r.fromDate,o=r.toDate,i=r.locale,a=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!s)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});for(var g=s.getFullYear(),w=o.getFullYear(),p=g;p<=w;p++)h.push(Pv(bS(new Date),p));var b=function(v){var x=Pv(It(n),Number(v.target.value));e.onChange(x)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:OS;return l.jsx(y,{name:"years","aria-label":f(),className:c.dropdown_year,style:a.dropdown_year,onChange:b,value:n.getFullYear(),caption:d(n,{locale:i}),children:h.map(function(v){return l.jsx("option",{value:v.getFullYear(),children:d(v,{locale:i})},v.getFullYear())})})}function bI(e,t){var n=m.useState(e),r=n[0],s=n[1],o=t===void 0?r:t;return[o,s]}function SI(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,o=e.toDate,i=e.fromDate,a=e.numberOfMonths,c=a===void 0?1:a;if(o&&ca(o,s)<0){var u=-1*(c-1);s=_n(o,u)}return i&&ca(s,i)<0&&(s=i),It(s)}function _I(){var e=Ae(),t=SI(e),n=bI(t,e.month),r=n[0],s=n[1],o=function(i){var a;if(!e.disableNavigation){var c=It(i);s(c),(a=e.onMonthChange)===null||a===void 0||a.call(e,c)}};return[r,o]}function EI(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=It(e),o=It(_n(s,r)),i=ca(o,s),a=[],c=0;c<i;c++){var u=_n(s,c);a.push(u)}return n&&(a=a.reverse()),a}function CI(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,a=It(e);if(!n)return _n(a,i);var c=ca(n,e);if(!(c<o))return _n(a,i)}}function NI(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,a=It(e);if(!n)return _n(a,-i);var c=ca(a,n);if(!(c<=0))return _n(a,-i)}}var DS=m.createContext(void 0);function jI(e){var t=Ae(),n=_I(),r=n[0],s=n[1],o=EI(r,t),i=CI(r,t),a=NI(r,t),c=function(f){return o.some(function(h){return Bm(f,h)})},u=function(f,h){c(f)||(h&&kS(f,h)?s(_n(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:a,nextMonth:i,isDateDisplayed:c};return l.jsx(DS.Provider,{value:d,children:e.children})}function ka(){var e=m.useContext(DS);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Rv(e){var t,n=Ae(),r=n.classNames,s=n.styles,o=n.components,i=ka().goToMonth,a=function(d){i(_n(d,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:RS,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(xI,{onChange:a,displayMonth:e.displayMonth}),l.jsx(wI,{onChange:a,displayMonth:e.displayMonth})]})}function kI(e){return l.jsx("svg",ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TI(e){return l.jsx("svg",ie({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var fc=m.forwardRef(function(e,t){var n=Ae(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),a=ie(ie({},s.button_reset),s.button);return e.style&&Object.assign(a,e.style),l.jsx("button",ie({},e,{ref:t,type:"button",className:i,style:a}))});function PI(e){var t,n,r=Ae(),s=r.dir,o=r.locale,i=r.classNames,a=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var h=u(e.previousMonth,{locale:o}),g=[i.nav_button,i.nav_button_previous].join(" "),w=d(e.nextMonth,{locale:o}),p=[i.nav_button,i.nav_button_next].join(" "),b=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:TI,y=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:kI;return l.jsxs("div",{className:i.nav,style:a.nav,children:[!e.hidePrevious&&l.jsx(fc,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(b,{className:i.nav_icon,style:a.nav_icon}):l.jsx(y,{className:i.nav_icon,style:a.nav_icon})}),!e.hideNext&&l.jsx(fc,{name:"next-month","aria-label":w,className:p,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(y,{className:i.nav_icon,style:a.nav_icon}):l.jsx(b,{className:i.nav_icon,style:a.nav_icon})})]})}function Ov(e){var t=Ae().numberOfMonths,n=ka(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,a=i.findIndex(function(w){return Bm(e.displayMonth,w)}),c=a===0,u=a===i.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){r&&o(r)},g=function(){s&&o(s)};return l.jsx(PI,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:h,onNextClick:g})}function RI(e){var t,n=Ae(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,a=n.components,c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:RS,u;return s?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=l.jsx(Rv,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(Rv,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(Ov,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Ov,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:o.caption,children:u})}function OI(e){var t=Ae(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?l.jsx("tfoot",{className:s,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function DI(e,t,n){for(var r=n?Ts(new Date):zn(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=wt(r,o);s.push(i)}return s}function AI(){var e=Ae(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,a=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=DI(s,o,i);return l.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,f){return l.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:a(d,{locale:s})},f)})]})}function II(){var e,t=Ae(),n=t.classNames,r=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:AI;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(o,{})})}function MI(e){var t=Ae(),n=t.locale,r=t.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:n})})}var zm=m.createContext(void 0);function LI(e){if(!Na(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(zm.Provider,{value:t,children:e.children})}return l.jsx($I,{initialProps:e.initialProps,children:e.children})}function $I(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,o=t.max,i=function(u,d,f){var h,g;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var w=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!w){var p=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!p){var b=r?TS([],r):[];if(d.selected){var y=b.findIndex(function(v){return Rt(u,v)});b.splice(y,1)}else b.push(u);(g=t.onSelect)===null||g===void 0||g.call(t,b,u,d,f)}}},a={disabled:[]};r&&a.disabled.push(function(u){var d=o&&r.length>o-1,f=r.some(function(h){return Rt(h,u)});return!!(d&&!f)});var c={selected:r,onDayClick:i,modifiers:a};return l.jsx(zm.Provider,{value:c,children:n})}function Wm(){var e=m.useContext(zm);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function FI(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?Rt(s,e)&&Rt(r,e)?void 0:Rt(s,e)?{from:s,to:void 0}:Rt(r,e)?void 0:Gf(r,e)?{from:e,to:s}:{from:r,to:e}:s?Gf(e,s)?{from:s,to:e}:{from:e,to:s}:r?kS(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Hm=m.createContext(void 0);function UI(e){if(!ja(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(Hm.Provider,{value:t,children:e.children})}return l.jsx(BI,{initialProps:e.initialProps,children:e.children})}function BI(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},o=s.from,i=s.to,a=t.min,c=t.max,u=function(g,w,p){var b,y;(b=t.onDayClick)===null||b===void 0||b.call(t,g,w,p);var v=FI(g,r);(y=t.onSelect)===null||y===void 0||y.call(t,v,g,w,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],Rt(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),a&&(o&&!i&&d.disabled.push({after:vd(o,a-1),before:wt(o,a-1)}),o&&i&&d.disabled.push({after:o,before:wt(o,a-1)}),!o&&i&&d.disabled.push({after:vd(i,a-1),before:wt(i,a-1)})),c){if(o&&!i&&(d.disabled.push({before:wt(o,-c+1)}),d.disabled.push({after:wt(o,c-1)})),o&&i){var f=Mn(i,o)+1,h=c-f;d.disabled.push({before:vd(o,h)}),d.disabled.push({after:wt(i,h)})}!o&&i&&(d.disabled.push({before:wt(i,-c+1)}),d.disabled.push({after:wt(i,c-1)}))}return l.jsx(Hm.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function Vm(){var e=m.useContext(Hm);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function kl(e){return Array.isArray(e)?TS([],e):e!==void 0?[e]:[]}function zI(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=kl(s)}),t}var En;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(En||(En={}));var WI=En.Selected,qn=En.Disabled,HI=En.Hidden,VI=En.Today,xd=En.RangeEnd,wd=En.RangeMiddle,bd=En.RangeStart,qI=En.Outside;function YI(e,t,n){var r,s=(r={},r[WI]=kl(e.selected),r[qn]=kl(e.disabled),r[HI]=kl(e.hidden),r[VI]=[e.today],r[xd]=[],r[wd]=[],r[bd]=[],r[qI]=[],r);return e.fromDate&&s[qn].push({before:e.fromDate}),e.toDate&&s[qn].push({after:e.toDate}),Na(e)?s[qn]=s[qn].concat(t.modifiers[qn]):ja(e)&&(s[qn]=s[qn].concat(n.modifiers[qn]),s[bd]=n.modifiers[bd],s[wd]=n.modifiers[wd],s[xd]=n.modifiers[xd]),s}var AS=m.createContext(void 0);function GI(e){var t=Ae(),n=Wm(),r=Vm(),s=YI(t,n,r),o=zI(t.modifiers),i=ie(ie({},s),o);return l.jsx(AS.Provider,{value:i,children:e.children})}function IS(){var e=m.useContext(AS);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function KI(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function QI(e){return!!(e&&typeof e=="object"&&"from"in e)}function JI(e){return!!(e&&typeof e=="object"&&"after"in e)}function XI(e){return!!(e&&typeof e=="object"&&"before"in e)}function ZI(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function eM(e,t){var n,r=t.from,s=t.to;if(r&&s){var o=Mn(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=Mn(e,r)>=0&&Mn(s,e)>=0;return i}return s?Rt(s,e):r?Rt(r,e):!1}function tM(e){return $m(e)}function nM(e){return Array.isArray(e)&&e.every($m)}function rM(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(tM(n))return Rt(e,n);if(nM(n))return n.includes(e);if(QI(n))return eM(e,n);if(ZI(n))return n.dayOfWeek.includes(e.getDay());if(KI(n)){var r=Mn(n.before,e),s=Mn(n.after,e),o=r>0,i=s<0,a=Gf(n.before,n.after);return a?i&&o:o||i}return JI(n)?Mn(e,n.after)>0:XI(n)?Mn(n.before,e)>0:typeof n=="function"?n(e):!1})}function qm(e,t,n){var r=Object.keys(t).reduce(function(o,i){var a=t[i];return rM(e,a)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!Bm(e,n)&&(s.outside=!0),s}function sM(e,t){for(var n=It(e[0]),r=Fm(e[e.length-1]),s,o,i=n;i<=r;){var a=qm(i,t),c=!a.disabled&&!a.hidden;if(!c){i=wt(i,1);continue}if(a.selected)return i;a.today&&!o&&(o=i),s||(s=i),i=wt(i,1)}return o||s}var oM=365;function MS(e,t){var n=t.moveBy,r=t.direction,s=t.context,o=t.modifiers,i=t.retry,a=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:wt,week:Yf,month:_n,year:YA,startOfWeek:function(b){return s.ISOWeek?Ts(b):zn(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?SS(b):Um(b,{locale:f,weekStartsOn:c})}},g=h[n](e,r==="after"?1:-1);r==="before"&&u?g=GA([u,g]):r==="after"&&d&&(g=KA([d,g]));var w=!0;if(o){var p=qm(g,o);w=!p.disabled&&!p.hidden}return w?g:a.count>oM?a.lastFocused:MS(g,{moveBy:n,direction:r,context:s,modifiers:o,retry:ie(ie({},a),{count:a.count+1})})}var LS=m.createContext(void 0);function iM(e){var t=ka(),n=IS(),r=m.useState(),s=r[0],o=r[1],i=m.useState(),a=i[0],c=i[1],u=sM(t.displayMonths,n),d=s??(a&&t.isDateDisplayed(a))?a:u,f=function(){c(s),o(void 0)},h=function(b){o(b)},g=Ae(),w=function(b,y){if(s){var v=MS(s,{moveBy:b,direction:y,context:g,modifiers:n});Rt(s,v)||(t.goToDate(v,s),h(v))}},p={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return l.jsx(LS.Provider,{value:p,children:e.children})}function Ym(){var e=m.useContext(LS);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function aM(e,t){var n=IS(),r=qm(e,n,t);return r}var Gm=m.createContext(void 0);function lM(e){if(!pu(e.initialProps)){var t={selected:void 0};return l.jsx(Gm.Provider,{value:t,children:e.children})}return l.jsx(cM,{initialProps:e.initialProps,children:e.children})}function cM(e){var t=e.initialProps,n=e.children,r=function(o,i,a){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,a),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,a);return}(d=t.onSelect)===null||d===void 0||d.call(t,o,o,i,a)},s={selected:t.selected,onDayClick:r};return l.jsx(Gm.Provider,{value:s,children:n})}function $S(){var e=m.useContext(Gm);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function uM(e,t){var n=Ae(),r=$S(),s=Wm(),o=Vm(),i=Ym(),a=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,f=i.blur,h=i.focus,g=i.focusMonthBefore,w=i.focusMonthAfter,p=i.focusYearBefore,b=i.focusYearAfter,y=i.focusStartOfWeek,v=i.focusEndOfWeek,x=function(P){var E,A,F,L;pu(n)?(E=r.onDayClick)===null||E===void 0||E.call(r,e,t,P):Na(n)?(A=s.onDayClick)===null||A===void 0||A.call(s,e,t,P):ja(n)?(F=o.onDayClick)===null||F===void 0||F.call(o,e,t,P):(L=n.onDayClick)===null||L===void 0||L.call(n,e,t,P)},S=function(P){var E;h(e),(E=n.onDayFocus)===null||E===void 0||E.call(n,e,t,P)},_=function(P){var E;f(),(E=n.onDayBlur)===null||E===void 0||E.call(n,e,t,P)},C=function(P){var E;(E=n.onDayMouseEnter)===null||E===void 0||E.call(n,e,t,P)},N=function(P){var E;(E=n.onDayMouseLeave)===null||E===void 0||E.call(n,e,t,P)},j=function(P){var E;(E=n.onDayPointerEnter)===null||E===void 0||E.call(n,e,t,P)},D=function(P){var E;(E=n.onDayPointerLeave)===null||E===void 0||E.call(n,e,t,P)},O=function(P){var E;(E=n.onDayTouchCancel)===null||E===void 0||E.call(n,e,t,P)},Y=function(P){var E;(E=n.onDayTouchEnd)===null||E===void 0||E.call(n,e,t,P)},W=function(P){var E;(E=n.onDayTouchMove)===null||E===void 0||E.call(n,e,t,P)},I=function(P){var E;(E=n.onDayTouchStart)===null||E===void 0||E.call(n,e,t,P)},k=function(P){var E;(E=n.onDayKeyUp)===null||E===void 0||E.call(n,e,t,P)},R=function(P){var E;switch(P.key){case"ArrowLeft":P.preventDefault(),P.stopPropagation(),n.dir==="rtl"?a():c();break;case"ArrowRight":P.preventDefault(),P.stopPropagation(),n.dir==="rtl"?c():a();break;case"ArrowDown":P.preventDefault(),P.stopPropagation(),u();break;case"ArrowUp":P.preventDefault(),P.stopPropagation(),d();break;case"PageUp":P.preventDefault(),P.stopPropagation(),P.shiftKey?p():g();break;case"PageDown":P.preventDefault(),P.stopPropagation(),P.shiftKey?b():w();break;case"Home":P.preventDefault(),P.stopPropagation(),y();break;case"End":P.preventDefault(),P.stopPropagation(),v();break}(E=n.onDayKeyDown)===null||E===void 0||E.call(n,e,t,P)},T={onClick:x,onFocus:S,onBlur:_,onKeyDown:R,onKeyUp:k,onMouseEnter:C,onMouseLeave:N,onPointerEnter:j,onPointerLeave:D,onTouchCancel:O,onTouchEnd:Y,onTouchMove:W,onTouchStart:I};return T}function dM(){var e=Ae(),t=$S(),n=Wm(),r=Vm(),s=pu(e)?t.selected:Na(e)?n.selected:ja(e)?r.selected:void 0;return s}function fM(e){return Object.values(En).includes(e)}function hM(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(fM(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function mM(e,t){var n=ie({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=ie(ie({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function pM(e,t,n){var r,s,o,i=Ae(),a=Ym(),c=aM(e,t),u=uM(e,c),d=dM(),f=!!(i.onDayClick||i.mode!=="default");m.useEffect(function(){var C;c.outside||a.focusedDay&&f&&Rt(a.focusedDay,e)&&((C=n.current)===null||C===void 0||C.focus())},[a.focusedDay,e,n,f,c.outside]);var h=hM(i,c).join(" "),g=mM(i,c),w=!!(c.outside&&!i.showOutsideDays||c.hidden),p=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:MI,b=l.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),y={style:g,className:h,children:b,role:"gridcell"},v=a.focusTarget&&Rt(a.focusTarget,e)&&!c.outside,x=a.focusedDay&&Rt(a.focusedDay,e),S=ie(ie(ie({},y),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=x||v?0:-1,r)),u),_={isButton:f,isHidden:w,activeModifiers:c,selectedDays:d,buttonProps:S,divProps:y};return _}function gM(e){var t=m.useRef(null),n=pM(e.date,e.displayMonth,t);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(fc,ie({name:"day",ref:t},n.buttonProps)):l.jsx("div",ie({},n.divProps))}function vM(e){var t=e.number,n=e.dates,r=Ae(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,a=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:a});if(!s)return l.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var f=c(Number(t),{locale:a}),h=function(g){s(t,n,g)};return l.jsx(fc,{name:"week-number","aria-label":f,className:i.weeknumber,style:o.weeknumber,onClick:h,children:d})}function yM(e){var t,n,r=Ae(),s=r.styles,o=r.classNames,i=r.showWeekNumber,a=r.components,c=(t=a==null?void 0:a.Day)!==null&&t!==void 0?t:gM,u=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:vM,d;return i&&(d=l.jsx("td",{className:o.cell,style:s.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:o.row,style:s.row,children:[d,e.dates.map(function(f){return l.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:f})},G2(f))})]})}function Dv(e,t,n){for(var r=n!=null&&n.ISOWeek?SS(t):Um(t,n),s=n!=null&&n.ISOWeek?Ts(e):zn(e,n),o=Mn(r,s),i=[],a=0;a<=o;a++)i.push(wt(s,a));var c=i.reduce(function(u,d){var f=n!=null&&n.ISOWeek?ES(d):NS(d,n),h=u.find(function(g){return g.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function xM(e,t){var n=Dv(It(e),Fm(e),t);if(t!=null&&t.useFixedWeeks){var r=Q2(e,t);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=Yf(o,6-r),a=Dv(Yf(o,1),i,t);n.push.apply(n,a)}}return n}function wM(e){var t,n,r,s=Ae(),o=s.locale,i=s.classNames,a=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,g=s.ISOWeek,w=xM(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:o,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:II,b=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:yM,y=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:OI;return l.jsxs("table",{id:e.id,className:i.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(p,{}),l.jsx("tbody",{className:i.tbody,style:a.tbody,children:w.map(function(v){return l.jsx(b,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),l.jsx(y,{displayMonth:e.displayMonth})]})}function bM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var SM=bM()?m.useLayoutEffect:m.useEffect,Sd=!1,_M=0;function Av(){return"react-day-picker-".concat(++_M)}function EM(e){var t,n=e??(Sd?Av():null),r=m.useState(n),s=r[0],o=r[1];return SM(function(){s===null&&o(Av())},[]),m.useEffect(function(){Sd===!1&&(Sd=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function CM(e){var t,n,r=Ae(),s=r.dir,o=r.classNames,i=r.styles,a=r.components,c=ka().displayMonths,u=EM(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[o.month],h=i.month,g=e.displayIndex===0,w=e.displayIndex===c.length-1,p=!g&&!w;s==="rtl"&&(t=[g,w],w=t[0],g=t[1]),g&&(f.push(o.caption_start),h=ie(ie({},h),i.caption_start)),w&&(f.push(o.caption_end),h=ie(ie({},h),i.caption_end)),p&&(f.push(o.caption_between),h=ie(ie({},h),i.caption_between));var b=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:RI;return l.jsxs("div",{className:f.join(" "),style:h,children:[l.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(wM,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function NM(e){var t=Ae(),n=t.classNames,r=t.styles;return l.jsx("div",{className:n.months,style:r.months,children:e.children})}function jM(e){var t,n,r=e.initialProps,s=Ae(),o=Ym(),i=ka(),a=m.useState(!1),c=a[0],u=a[1];m.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=ie(ie({},s.styles.root),s.style),h=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,p){var b;return ie(ie({},w),(b={},b[p]=r[p],b))},{}),g=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:NM;return l.jsx("div",ie({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:l.jsx(g,{children:i.displayMonths.map(function(w,p){return l.jsx(CM,{displayIndex:p,displayMonth:w},p)})})}))}function kM(e){var t=e.children,n=X2(e,["children"]);return l.jsx(vI,{initialProps:n,children:l.jsx(jI,{children:l.jsx(lM,{initialProps:n,children:l.jsx(LI,{initialProps:n,children:l.jsx(UI,{initialProps:n,children:l.jsx(GI,{children:l.jsx(iM,{children:t})})})})})})})}function TM(e){return l.jsx(kM,ie({},e,{children:l.jsx(jM,{initialProps:e})}))}function ys({className:e,classNames:t,showOutsideDays:n=!0,...r}){return l.jsx(TM,{showOutsideDays:n,className:re("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:re(Af({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:re(Af({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>l.jsx(xN,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(Xh,{className:"h-4 w-4"})},...r})}ys.displayName="Calendar";var Km="Popover",[FS,R4]=As(Km,[Xo]),Ta=Xo(),[PM,Xr]=FS(Km),US=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=Ta(t),c=m.useRef(null),[u,d]=m.useState(!1),[f=!1,h]=Cs({prop:r,defaultProp:s,onChange:o});return l.jsx(hw,{...a,children:l.jsx(PM,{scope:t,contentId:nr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:i,children:n})})};US.displayName=Km;var BS="PopoverAnchor",RM=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Xr(BS,n),o=Ta(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return m.useEffect(()=>(i(),()=>a()),[i,a]),l.jsx(Fc,{...o,...r,ref:t})});RM.displayName=BS;var zS="PopoverTrigger",WS=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Xr(zS,n),o=Ta(n),i=ye(t,s.triggerRef),a=l.jsx(ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":GS(s.open),...r,ref:i,onClick:ee(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(Fc,{asChild:!0,...o,children:a})});WS.displayName=zS;var Qm="PopoverPortal",[OM,DM]=FS(Qm,{forceMount:void 0}),HS=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=Xr(Qm,t);return l.jsx(OM,{scope:t,forceMount:n,children:l.jsx(Kt,{present:n||o.open,children:l.jsx(va,{asChild:!0,container:s,children:r})})})};HS.displayName=Qm;var Ho="PopoverContent",VS=m.forwardRef((e,t)=>{const n=DM(Ho,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=Xr(Ho,e.__scopePopover);return l.jsx(Kt,{present:r||o.open,children:o.modal?l.jsx(AM,{...s,ref:t}):l.jsx(IM,{...s,ref:t})})});VS.displayName=Ho;var AM=m.forwardRef((e,t)=>{const n=Xr(Ho,e.__scopePopover),r=m.useRef(null),s=ye(t,r),o=m.useRef(!1);return m.useEffect(()=>{const i=r.current;if(i)return vm(i)},[]),l.jsx(Zc,{as:Wr,allowPinchZoom:!0,children:l.jsx(qS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ee(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ee(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),IM=m.forwardRef((e,t)=>{const n=Xr(Ho,e.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return l.jsx(qS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),qS=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Xr(Ho,n),g=Ta(n);return gm(),l.jsx(Jc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Go,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(lm,{"data-state":GS(h.open),role:"dialog",id:h.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),YS="PopoverClose",MM=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Xr(YS,n);return l.jsx(ae.button,{type:"button",...r,ref:t,onClick:ee(e.onClick,()=>s.onOpenChange(!1))})});MM.displayName=YS;var LM="PopoverArrow",$M=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ta(n);return l.jsx(cm,{...s,...r,ref:t})});$M.displayName=LM;function GS(e){return e?"open":"closed"}var FM=US,UM=WS,BM=HS,KS=VS;const wo=FM,bo=UM,xs=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>l.jsx(BM,{children:l.jsx(KS,{ref:s,align:t,sideOffset:n,className:re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));xs.displayName=KS.displayName;const zM=async e=>{try{const{data:t,error:n}=await Q.from("classes").insert({name:e.name}).select().single();if(n)throw new Error(`Failed to create class: ${n.message}`);return{id:t.id,className:t.name,rewardTitle:"Bidding Opportunities",capacity:e.capacity||7,students:[],bidders:[],selectedStudents:[],bidOpportunities:[]}}catch(t){throw console.error("Error creating class:",t),t}},WM=async e=>{var n,r,s,o,i;const t=new Date().toISOString();console.log("=== STARTING CLASS DELETION DEBUG ==="),console.log("Class ID to delete:",e),console.log("Supabase client status:",!!Q);try{console.log("=== CALLING DATABASE RPC FUNCTION ===");const{data:a,error:c}=await Q.rpc("delete_class_atomic",{p_class_id:e});if(console.log("RPC function result:",a),c)throw console.error("RPC error during class deletion:",c),new Error(`Failed to delete class: ${c.message}`);if(!a||!a.success)throw console.error("RPC function returned failure:",a),new Error((a==null?void 0:a.error)||"Class deletion failed");console.log("=== DELETION COMPLETED SUCCESSFULLY ===");const u={students:((n=a.deleted_counts)==null?void 0:n.students)||0,enrollments:((r=a.deleted_counts)==null?void 0:r.students)||0,opportunities:((s=a.deleted_counts)==null?void 0:s.opportunities)||0,bids:((o=a.deleted_counts)==null?void 0:o.bids)||0,tokenHistory:((i=a.deleted_counts)==null?void 0:i.token_history)||0};return{success:!0,classId:a.class_id,className:a.class_name,deletedRecords:u,timestamp:t}}catch(a){return console.error("=== CLASS DELETION FAILED ==="),console.error("Error type:",typeof a),console.error("Error message:",a instanceof Error?a.message:a),console.error("Full error object:",a),{success:!1,classId:e,className:"Unknown",deletedRecords:{students:0,enrollments:0,opportunities:0,bids:0,tokenHistory:0},error:a instanceof Error?a.message:"Unexpected error during deletion",timestamp:t}}},HM=async(e,t,n,r)=>{try{console.log("=== UPDATING SELECTION RESULTS ==="),console.log("Opportunity ID:",e),console.log("Class ID:",t),console.log("Selected students:",n),console.log("All bidders:",r),console.log("=== STEP 0: VERIFY BIDS EXIST ===");const{data:s,error:o}=await Q.from("bids").select("id, user_id, is_winner").eq("opportunity_id",e);if(o)throw console.error("Error verifying existing bids:",o),new Error(`Failed to verify existing bids: ${o.message}`);console.log("Existing bids found:",(s==null?void 0:s.length)||0),console.log("Existing bids details:",s),console.log("=== STEP 1: CALLING RPC FUNCTION TO UPDATE SELECTION RESULTS ===");const{data:i,error:a}=await Q.rpc("update_selection_results_atomic",{p_opportunity_id:e,p_selected_user_ids:n,p_all_bidder_ids:r});if(a)throw console.error("RPC error updating selection results:",a),new Error(`Failed to update selection results: ${a.message}`);console.log("RPC function result:",i),console.log("=== SELECTION RESULTS UPDATE COMPLETED ===")}catch(s){throw console.error("Error updating selection results:",s),s}},VM=async(e,t)=>{try{const{data:n,error:r}=await Q.from("opportunities").insert({class_id:e,title:t.title,description:t.description,opens_at:t.opens_at,closes_at:t.bidding_closes_at||t.closes_at,event_date:new Date(t.event_date).toISOString().split("T")[0],capacity:t.capacity,status:"open"}).select().single();if(r)throw new Error(`Failed to create opportunity: ${r.message}`);return{id:n.id,date:n.event_date,bidOpenDate:n.opens_at,bidCloseDate:n.closes_at,title:n.title||t.title,description:n.description,bidders:[],selectedStudents:[],isOpen:!1,capacity:n.capacity}}catch(n){throw console.error("Error creating opportunity:",n),n}},qM=async e=>{try{console.log("=== STARTING AUTO-SELECT AND REFUND ==="),console.log("Opportunity ID:",e);const{data:t,error:n}=await Q.rpc("auto_select_and_refund_bids",{p_opportunity_id:e});if(n)throw console.error("RPC error during auto-select and refund:",n),new Error(`Failed to auto-select and refund: ${n.message}`);if(!t||!t.success)throw console.error("RPC function returned failure:",t),new Error((t==null?void 0:t.error)||"Auto-select and refund failed");console.log("=== AUTO-SELECT AND REFUND COMPLETED ==="),console.log("Result:",t)}catch(t){throw console.error("Error in auto-select and refund:",t),t}},br=async e=>{try{let t=Q.from("classes").select("id, name, is_archived, created_at").order("created_at",{ascending:!1});e!==void 0&&(t=t.eq("is_archived",e));const{data:n,error:r}=await t;if(r)throw new Error(`Failed to fetch classes: ${r.message}`);if(!n||n.length===0)return[];const s=[];for(const o of n){const i=await oS(o.id),{data:a,error:c}=await Q.from("opportunities").select("*").eq("class_id",o.id).order("event_date",{ascending:!0});c&&console.error(`Failed to fetch opportunities for class ${o.id}:`,c.message);let u=[];for(const w of a||[]){const{data:p,error:b}=await Q.from("bids").select(`
            id,
            user_id,
            is_winner,
            bid_status,
            submission_timestamp,
            users!inner(id, name, email, student_number)
          `).eq("opportunity_id",w.id).order("submission_timestamp",{ascending:!0});b&&console.error(`Failed to fetch bids for opportunity ${w.id}:`,b.message);const y=(p||[]).map(x=>({id:x.users.id,name:x.users.name,email:x.users.email,studentNumber:x.users.student_number,hasUsedToken:!0,hasBid:!0,bidStatus:x.bid_status})),v=(p||[]).filter(x=>x.is_winner===!0).map(x=>({id:x.users.id,name:x.users.name,email:x.users.email,studentNumber:x.users.student_number,hasUsedToken:!0,hasBid:!0,isSelected:!0,bidStatus:x.bid_status}));u.push({id:w.id,date:w.event_date,bidOpenDate:w.opens_at,title:w.title||`Bidding Opportunity - ${new Date(w.event_date).toLocaleDateString()}`,description:w.description,bidders:y,bidCloseDate:w.closes_at,selectedStudents:v,isOpen:w.status==="open",capacity:w.capacity})}const d=i.filter(w=>w.hasBid),f=[],h=new Set;u.forEach(w=>{w.selectedStudents.forEach(p=>{h.has(p.id)||(h.add(p.id),f.push(p))})});const g={id:o.id,className:o.name,rewardTitle:"Bidding Opportunities",capacity:7,isArchived:o.is_archived||!1,students:i,bidders:d,selectedStudents:f,bidOpportunities:u};s.push(g)}return s}catch(t){throw console.error("Error fetching classes:",t),t}},YM=async(e,t)=>{try{const n={};t.name&&(n.name=t.name);const{error:r}=await Q.from("classes").update(n).eq("id",e);if(r)throw new Error(`Failed to update class: ${r.message}`)}catch(n){throw console.error("Error updating class:",n),n}},GM=async(e,t)=>{try{const{error:n}=await Q.from("classes").update({is_archived:t}).eq("id",e);if(n)throw new Error(`Failed to update class archive status: ${n.message}`)}catch(n){throw console.error("Error updating class archive status:",n),n}},KM=async(e,t)=>{try{console.log("Starting opportunity update for ID:",e),console.log("Update data:",t);const n={};if(t.title!==void 0&&(n.title=t.title),t.description!==void 0&&(n.description=t.description),t.event_date){const o=new Date(t.event_date);if(isNaN(o.getTime()))throw new Error("Invalid event date provided");n.event_date=o.toISOString().split("T")[0]}t.opens_at&&(n.opens_at=t.opens_at),t.closes_at&&(n.closes_at=t.closes_at),t.capacity!==void 0&&(n.capacity=t.capacity),console.log("Final update data for Supabase:",n);const{data:r,error:s}=await Q.from("opportunities").update(n).eq("id",e).select();if(s)throw console.error("Supabase update error:",s),new Error(`Failed to update opportunity: ${s.message}`);return!r||r.length===0?(console.log(`No opportunity found with ID: ${e}`),!1):(console.log("Successfully updated opportunity in Supabase:",r[0]),!0)}catch(n){throw console.error("Error updating opportunity:",n),n}},QM=async e=>{try{if(console.log("=== RESETTING OPPORTUNITY SELECTION ==="),console.log("Opportunity ID:",e),!e)throw new Error("Opportunity ID is required");const{data:t,error:n}=await Q.rpc("reset_opportunity_selection",{p_opportunity_id:e});if(n)throw console.error("RPC error resetting selection:",n),new Error(`Failed to reset selection: ${n.message}`);if(console.log("RPC function result:",t),!t||!t.success)throw new Error((t==null?void 0:t.error)||"Selection reset failed");console.log("=== SELECTION RESET COMPLETED ==="),console.log(`Successfully reset ${t.reset_count} student enrollments`)}catch(t){throw console.error("Error resetting opportunity selection:",t),t}},JM=async e=>{try{console.log("=== STARTING OPPORTUNITY DELETION DEBUG ==="),console.log("Opportunity ID to delete:",e),console.log("Supabase client status:",!!Q),console.log("Environment variables check:",{url:!0,key:!0}),console.log("Step 1: Checking if opportunity exists...");const{data:t,error:n}=await Q.from("opportunities").select("id, title, description").eq("id",e).single();if(console.log("Existence check result:",{data:t,error:n}),n){if(n.code==="PGRST116"){console.log("PGRST116: Record not found - opportunity may already be deleted");return}throw console.error("Error during existence check:",n),new Error(`Failed to check opportunity existence: ${n.message}`)}if(!t){console.log("No opportunity data returned - treating as already deleted");return}console.log("Step 2: Opportunity found, proceeding with deletion:",t),console.log("Step 3: Executing DELETE operation...");const{error:r,count:s}=await Q.from("opportunities").delete({count:"exact"}).eq("id",e);if(console.log("Delete operation result:",{error:r,count:s,errorCode:r==null?void 0:r.code,errorMessage:r==null?void 0:r.message,errorDetails:r==null?void 0:r.details}),r)throw console.error("=== DELETE OPERATION FAILED ==="),console.error("Error object:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),console.error("Error details:",r.details),new Error(`Failed to delete opportunity: ${r.message}`);console.log("=== DELETE OPERATION COMPLETED ==="),console.log(`Records deleted: ${s}`),s===0&&(console.warn("WARNING: Delete operation returned 0 affected rows - opportunity may not exist"),console.warn("This could indicate:"),console.warn("1. Opportunity ID does not exist in database"),console.warn("2. RLS policies are blocking the delete"),console.warn("3. User does not have delete permissions")),console.log("=== DELETION PROCESS COMPLETED SUCCESSFULLY ===")}catch(t){throw console.error("=== DELETION PROCESS FAILED ==="),console.error("Error type:",typeof t),console.error("Error message:",t instanceof Error?t.message:t),console.error("Full error object:",t),t}},XM=({isOpen:e,onClose:t,opportunity:n,currentClass:r,onSave:s})=>{const[o,i]=m.useState((n==null?void 0:n.title)||""),[a,c]=m.useState((n==null?void 0:n.description)||""),[u,d]=m.useState(n?new Date(n.date):void 0),[f,h]=m.useState(n&&n.bidOpenDate?new Date(n.bidOpenDate):void 0),[g,w]=m.useState(n&&n.bidCloseDate?new Date(n.bidCloseDate):n?new Date(n.date):void 0),[p,b]=m.useState((n==null?void 0:n.capacity)||(r==null?void 0:r.capacity)),[y,v]=m.useState(!1),{toast:x}=Mt(),S=N=>{const j=parseInt(N.target.value,10);!isNaN(j)&&j>=0?b(j):N.target.value===""&&b(0)},_=N=>{[8,9,27,13,35,36,37,38,39,40,46].indexOf(N.keyCode)!==-1||N.keyCode===65&&N.ctrlKey===!0||N.keyCode===67&&N.ctrlKey===!0||N.keyCode===86&&N.ctrlKey===!0||N.keyCode===88&&N.ctrlKey===!0||(N.shiftKey||N.keyCode<48||N.keyCode>57)&&(N.keyCode<96||N.keyCode>105)&&N.preventDefault()},C=async()=>{if(console.log("=== SAVE BUTTON CLICKED ==="),console.log("Current form state:",{title:o,description:a,date:u==null?void 0:u.toISOString(),biddingOpenDate:f==null?void 0:f.toISOString(),biddingCloseDate:g==null?void 0:g.toISOString(),capacity:p}),!n||!u||!f||!g||!r||p===void 0){console.log("=== VALIDATION FAILED ==="),console.log("Missing fields:",{opportunity:!!n,date:!!u,biddingOpenDate:!!f,biddingCloseDate:!!g,currentClass:!!r,capacity:p!==void 0}),x({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}console.log("=== VALIDATION PASSED ==="),v(!0);try{if(console.log("=== PREPARING DATA FOR SUPABASE ==="),console.log("Opportunity ID:",n.id),console.log("Data being prepared:",{opportunityId:n.id,title:o,description:a,event_date:u.toISOString(),opens_at:f.toISOString(),closes_at:g.toISOString(),capacity:p}),console.log("=== CALLING updateBidOpportunity FUNCTION ==="),!await KM(n.id,{title:o,description:a,event_date:u.toISOString(),opens_at:f.toISOString(),closes_at:g.toISOString(),capacity:p})){x({title:"Opportunity not found",description:"This opportunity may have been deleted. Please refresh the page.",variant:"destructive"}),t();return}console.log("=== DATABASE UPDATE COMPLETED ===");const j={...n,title:o,description:a,date:u.toISOString(),bidOpenDate:f.toISOString(),bidCloseDate:g.toISOString(),capacity:p};console.log("=== CALLING onSave CALLBACK ==="),s(j),x({title:"Changes saved successfully",description:"The bidding opportunity has been updated."}),console.log("=== CLOSING DIALOG ==="),t()}catch(N){console.error("Error saving changes:",N),x({title:"Failed to save changes",description:N instanceof Error?N.message:"An unexpected error occurred",variant:"destructive"})}finally{v(!1)}};return l.jsx(Sm,{open:e,onOpenChange:t,children:l.jsxs(eu,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(tu,{children:[l.jsx(ru,{children:"Edit Bidding Opportunity"}),l.jsx(su,{children:"Modify the details for this bidding opportunity"})]}),l.jsx("div",{className:"space-y-6 py-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Opportunity Details"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"title",children:"Title"}),l.jsx(_t,{id:"title",value:o,onChange:N=>i(N.target.value),disabled:y})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"description",children:"Description"}),l.jsx(Mm,{id:"description",value:a,onChange:N=>c(N.target.value),rows:3,disabled:y})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"Event Date"}),l.jsxs(wo,{children:[l.jsx(bo,{asChild:!0,children:l.jsx(le,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:y,children:u?Ht(u,"PPP"):l.jsx("span",{children:"Pick a date"})})}),l.jsx(xs,{className:"w-auto p-0",children:l.jsx(ys,{mode:"single",selected:u,onSelect:d,initialFocus:!0})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"Bidding Opens Date"}),l.jsxs(wo,{children:[l.jsx(bo,{asChild:!0,children:l.jsx(le,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:y,children:f?Ht(f,"PPP"):l.jsx("span",{children:"Pick a date"})})}),l.jsx(xs,{className:"w-auto p-0",children:l.jsx(ys,{mode:"single",selected:f,onSelect:h,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This is the date when students can start bidding for this opportunity"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"Bidding Closes Date"}),l.jsxs(wo,{children:[l.jsx(bo,{asChild:!0,children:l.jsx(le,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:y,children:g?Ht(g,"PPP"):l.jsx("span",{children:"Pick a date"})})}),l.jsx(xs,{className:"w-auto p-0",children:l.jsx(ys,{mode:"single",selected:g,onSelect:w,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Students cannot bid after this date and time"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"capacity",children:"Capacity for this Opportunity"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_t,{id:"capacity",type:"number",value:p,onChange:S,onKeyDown:_,disabled:y,required:!0}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"students"})]})]})]})}),l.jsxs(nu,{children:[l.jsx(le,{variant:"outline",onClick:t,disabled:y,children:"Cancel"}),l.jsx(le,{onClick:C,disabled:y,children:y?l.jsxs(l.Fragment,{children:[l.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})};async function hc(e){try{console.log("=== GETTING CLASS BID STATISTICS ==="),console.log("Class ID:",e),console.log("=== CHECKING ALL BIDS IN DATABASE ===");const{data:t,error:n}=await Q.from("bids").select("id, user_id, opportunity_id, bid_status, created_at").limit(20);n?console.error("Error fetching all bids:",n):(console.log("Sample of all bids in database:",t),console.log("Total bids found in sample:",(t==null?void 0:t.length)||0));const{data:r,error:s}=await Q.from("student_enrollments").select("user_id, tokens_remaining").eq("class_id",e);if(s)throw s;const o=(r==null?void 0:r.length)||0,i=(r==null?void 0:r.filter(b=>b.tokens_remaining>0).length)||0;console.log("Enrollment stats:",{totalStudents:o,studentsWithTokens:i});const{data:a,error:c}=await Q.from("opportunities").select("id, description, event_date, capacity").eq("class_id",e);if(c)throw c;console.log("Opportunities found:",(a==null?void 0:a.length)||0),console.log("Opportunity IDs:",(a==null?void 0:a.map(b=>b.id))||[]);const u=(a==null?void 0:a.map(b=>b.id))||[];let d=0,f=0;const h=[];if(u.length>0){console.log("Fetching bids for opportunities:",u);const{data:b,error:y}=await Q.from("bids").select("id, opportunity_id, user_id, bid_status").in("opportunity_id",u);if(y)throw y;console.log("Raw bids data from database:",b),d=(b==null?void 0:b.length)||0,console.log("Total bids found:",d);const v=new Set((b==null?void 0:b.map(S=>S.user_id))||[]);f=v.size,console.log("Unique students who bid:",f),b&&b.length>0&&(console.log("=== INDIVIDUAL BID DETAILS ==="),b.forEach((S,_)=>{console.log(`Bid ${_+1}:`,{id:S.id,user_id:S.user_id,opportunity_id:S.opportunity_id,bid_status:S.bid_status,created_at:S.created_at})})),console.log("Unique student IDs who bid:",Array.from(v));const x={};b==null||b.forEach(S=>{x[S.opportunity_id]=(x[S.opportunity_id]||0)+1}),console.log("Bid counts by opportunity:",x),a==null||a.forEach(S=>{const _=x[S.id]||0;console.log(`Opportunity ${S.id}: ${_} bids`),h.push({opportunityId:S.id,description:S.description,eventDate:S.event_date,capacity:S.capacity||7,bidCount:_})})}else a==null||a.forEach(b=>{h.push({opportunityId:b.id,description:b.description,eventDate:b.event_date,capacity:b.capacity||7,bidCount:0})});console.log("=== CHECKING BIDS FOR THIS CLASS SPECIFICALLY ===");const{data:g,error:w}=await Q.from("bids").select(`
        id, 
        user_id, 
        opportunity_id, 
        bid_status,
        opportunities!inner(class_id)
      `).eq("opportunities.class_id",e);w?console.error("Error fetching class bids:",w):(console.log("Bids found for this class via join:",g),console.log("Number of class bids via join:",(g==null?void 0:g.length)||0));const p={totalStudents:o,studentsWithTokens:i,studentsWhoBid:f,totalBids:d,opportunities:h};return console.log("=== FINAL STATISTICS ==="),console.log("Final stats:",p),p}catch(t){return console.error("Error getting class bid statistics:",t),{totalStudents:0,studentsWithTokens:0,studentsWhoBid:0,totalBids:0,opportunities:[]}}}function ZM(e,t){console.log("=== CREATING REAL-TIME SUBSCRIPTION ==="),console.log("Class ID:",e);const n=Q.channel(`class-bids-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"bids"},async()=>{console.log("=== BID TABLE CHANGE DETECTED ==="),console.log("Refreshing statistics for class:",e);const r=await hc(e);console.log("Updated stats after bid change:",r),t(r)}).on("postgres_changes",{event:"*",schema:"public",table:"student_enrollments",filter:`class_id=eq.${e}`},async()=>{console.log("=== STUDENT ENROLLMENT CHANGE DETECTED ==="),console.log("Refreshing statistics for class:",e);const r=await hc(e);console.log("Updated stats after enrollment change:",r),t(r)}).subscribe();return console.log("Real-time channel subscribed:",`class-bids-${e}`),()=>{console.log("=== UNSUBSCRIBING FROM REAL-TIME UPDATES ==="),console.log("Class ID:",e),Q.removeChannel(n)}}const eL=e=>{const[t,n]=m.useState({totalStudents:0,studentsWithTokens:0,studentsWhoBid:0,totalBids:0,opportunities:[]}),[r,s]=m.useState(!0),[o,i]=m.useState(null),a=m.useCallback(async()=>{if(e)try{s(!0),i(null),console.log("=== FETCHING BID STATISTICS ==="),console.log("Class ID:",e);const u=await hc(e);console.log("Fetched statistics:",u),n(u)}catch(u){console.error("Error fetching bid statistics:",u),i(u instanceof Error?u.message:"Failed to fetch statistics")}finally{s(!1)}},[e]);m.useEffect(()=>{if(!e)return;console.log("=== SETTING UP REAL-TIME SUBSCRIPTION ==="),console.log("Class ID:",e),a();const u=ZM(e,f=>{console.log("=== REAL-TIME STATISTICS UPDATE RECEIVED ==="),console.log("Updated statistics:",f),console.log("Previous statistics:",t),n(f)}),d=Q.channel(`class-enrollments-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"student_enrollments",filter:`class_id=eq.${e}`},async f=>{if(console.log("=== STUDENT ENROLLMENT UPDATE RECEIVED ==="),console.log("Payload:",f),f.new&&f.old&&f.new.bidding_result!==f.old.bidding_result){console.log("Bidding result changed, refreshing statistics");const h=await hc(e);n(h)}}).subscribe();return console.log("Real-time subscription established for class:",e),()=>{u(),Q.removeChannel(d)}},[e,a]);const c=m.useCallback(()=>{console.log("=== MANUAL REFRESH TRIGGERED ==="),a()},[a]);return{statistics:t,isLoading:r,error:o,refresh:c}},tL=({classes:e,archivedClasses:t,currentClass:n,isViewingArchived:r=!1,onSelectClass:s,onCreateClass:o,onUpdateOpportunity:i,onRemoveClass:a,onChangePassword:c,onArchiveClass:u,onOpportunityCreated:d,onOpportunityDeleted:f})=>{var ve;const{toast:h}=Mt(),[g,w]=m.useState(null),[p,b]=m.useState(null),[y,v]=m.useState(!1),[x,S]=m.useState(null),[_,C]=m.useState(Date.now()),[N,j]=m.useState({}),[D,O]=m.useState(!1),[Y,W]=m.useState(""),[I,k]=m.useState(""),[R,T]=m.useState(void 0),[P,E]=m.useState(void 0),[A,F]=m.useState(void 0),[L,B]=m.useState(""),{statistics:z,isLoading:te,refresh:ge}=eL((n==null?void 0:n.id)||null),ne=async U=>{try{const{data:se,error:pe}=await Q.from("bids").select("id, user_id, submission_timestamp").eq("opportunity_id",U).order("submission_timestamp",{ascending:!0});if(pe)return console.error(`Error fetching bidders for opportunity ${U}:`,pe),[];if(!se||se.length===0)return[];const be=[...new Set(se.map(Nn=>Nn.user_id))],{data:Ye,error:Ra}=await Q.from("users").select("id, name, email, student_number").in("id",be);if(Ra)return console.error(`Error fetching user details for opportunity ${U}:`,Ra),[];const ts=new Map;return(Ye||[]).forEach(Nn=>{ts.set(Nn.id,Nn)}),se.map(Nn=>{const pt=ts.get(Nn.user_id);return{id:(pt==null?void 0:pt.id)||Nn.user_id,name:(pt==null?void 0:pt.name)||"Unknown User",email:(pt==null?void 0:pt.email)||"",studentNumber:(pt==null?void 0:pt.student_number)||"",bidTimestamp:Nn.submission_timestamp}})}catch(se){return console.error("Error fetching opportunity bidders:",se),[]}};m.useEffect(()=>{(async()=>{if(g&&(n!=null&&n.bidOpportunities)){const se=await ne(g);j(pe=>({...pe,[g]:se}))}})()},[g,n==null?void 0:n.bidOpportunities,_]),m.useEffect(()=>{n!=null&&n.id&&(console.log("=== DASHBOARD STATISTICS UPDATE ==="),console.log("Class ID:",n.id),console.log("Statistics:",z),console.log("Is Loading:",te),C(Date.now()))},[z,te,n==null?void 0:n.id]),m.useEffect(()=>{const U=()=>{console.log("=== BID SUBMITTED EVENT RECEIVED IN DASHBOARD ==="),ge()};return window.addEventListener("bidSubmitted",U),()=>{window.removeEventListener("bidSubmitted",U)}},[ge]),(ve=n==null?void 0:n.bidOpportunities)==null||ve.find(U=>U.id===g);const M=g?N[g]||[]:[],H=()=>{W(""),k(""),T(void 0),E(void 0),F(void 0),B("")},K=U=>{const se=U.target.value;if(se===""){B("");return}const pe=parseInt(se,10);!isNaN(pe)&&pe>=0&&B(se)},q=U=>{[8,9,27,13,37,38,39,40,46].indexOf(U.keyCode)!==-1||U.keyCode===65&&U.ctrlKey===!0||U.keyCode===67&&U.ctrlKey===!0||U.keyCode===86&&U.ctrlKey===!0||U.keyCode===88&&U.ctrlKey===!0||(U.shiftKey||U.keyCode<48||U.keyCode>57)&&(U.keyCode<96||U.keyCode>105)&&U.preventDefault()},J=async()=>{const U=parseInt(L,10);if(!n||!Y||!I||!R||!P||!A||isNaN(U)||U<0){h({title:"Missing information",description:"Please fill in all required fields with valid values",variant:"destructive"});return}O(!0);try{const se=await VM(n.id,{title:Y,description:I,event_date:R.toISOString(),opens_at:P.toISOString(),closes_at:A.toISOString(),capacity:U});d==null||d(se),h({title:"Opportunity created",description:"The bidding opportunity has been created successfully"}),H(),v(!1),ge()}catch(se){console.error("Error creating opportunity:",se),h({title:"Failed to create opportunity",description:se instanceof Error?se.message:"An unexpected error occurred",variant:"destructive"})}finally{O(!1)}},X=async U=>{var be;const se=(be=n==null?void 0:n.bidOpportunities)==null?void 0:be.find(Ye=>Ye.id===U),pe=(se==null?void 0:se.title)||"this opportunity";console.log("=== DASHBOARD DELETE HANDLER STARTED ==="),console.log("Opportunity ID:",U),console.log("Opportunity title:",pe),console.log("Current class ID:",n==null?void 0:n.id),S(U);try{console.log("=== CALLING deleteBidOpportunity FUNCTION ==="),await JM(U),console.log("=== deleteBidOpportunity COMPLETED SUCCESSFULLY ==="),f==null||f(U),console.log("=== LOCAL STATE UPDATED ==="),h({title:"Opportunity deleted",description:`"${pe}" has been permanently deleted`}),ge(),console.log("=== STATISTICS REFRESHED ===")}catch(Ye){console.error("=== DASHBOARD DELETE ERROR ==="),console.error("Error type:",typeof Ye),console.error("Error message:",Ye instanceof Error?Ye.message:Ye),console.error("Full error object:",Ye),console.error("Stack trace:",Ye instanceof Error?Ye.stack:"No stack trace"),h({title:"Failed to delete opportunity",description:Ye instanceof Error?Ye.message:"An unexpected error occurred",variant:"destructive"})}finally{S(null),console.log("=== DASHBOARD DELETE HANDLER COMPLETED ===")}},je=U=>{b(U)},_e=U=>{n&&(i(U.id,U),ge(),h({title:"Changes saved",description:"The bidding opportunity has been updated"}))},Qe=U=>{if(console.log("=== GETTING OPPORTUNITY BID COUNT ==="),console.log("Opportunity ID:",U),console.log("Current statistics:",z),!z||!z.opportunities)return console.log("No statistics or opportunities available"),0;const se=z.opportunities.find(pe=>pe.opportunityId===U);return console.log("Found opportunity stats for",U,":",se),console.log("Bid count:",(se==null?void 0:se.bidCount)||0),(se==null?void 0:se.bidCount)||0};return n?l.jsxs("div",{className:"container mx-auto p-4 md:p-6 space-y-8",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-heading font-bold",children:"Class Management"}),l.jsxs("p",{className:"text-muted-foreground text-lg",children:[r?"Viewing (Read-only)":"Managing",": ",n.className,r&&l.jsx(oe,{variant:"secondary",className:"ml-2 text-xs",children:"Archived"})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs(le,{variant:"outline",onClick:ge,disabled:te||r,className:"flex items-center gap-2",children:[l.jsx(Ac,{className:`w-4 h-4 ${te?"animate-spin":""}`}),"Refresh Data"]}),!r&&l.jsxs(l.Fragment,{children:[l.jsxs(le,{variant:"secondary",onClick:()=>u==null?void 0:u(n.id,!0),className:"flex items-center gap-2",children:[l.jsx(wg,{className:"w-4 h-4"}),"Archive Class"]}),l.jsxs(le,{variant:"destructive",onClick:()=>a==null?void 0:a(n.id),className:"flex items-center gap-2",children:[l.jsx(Sg,{size:16})," Remove Class"]})]}),r&&l.jsxs(le,{variant:"outline",onClick:()=>u==null?void 0:u(n.id,!1),className:"flex items-center gap-2",children:[l.jsx(wg,{className:"w-4 h-4"}),"Unarchive Class"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(Se,{children:[l.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Be,{className:"text-sm font-medium",children:"Students"}),l.jsx(Ns,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold",children:te?l.jsx(Je,{className:"w-6 h-6 animate-spin"}):(z==null?void 0:z.totalStudents)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total enrolled"})]})]}),l.jsxs(Se,{children:[l.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Be,{className:"text-sm font-medium",children:"Available Tokens"}),l.jsx(wa,{className:"h-4 w-4 text-green-500"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:te?l.jsx(Je,{className:"w-6 h-6 animate-spin"}):(z==null?void 0:z.studentsWithTokens)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to bid"})]})]}),l.jsxs(Se,{children:[l.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Be,{className:"text-sm font-medium",children:"Active Bidders"}),l.jsx(Ns,{className:"h-4 w-4 text-blue-500"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:te?l.jsx(Je,{className:"w-6 h-6 animate-spin"}):(z==null?void 0:z.studentsWhoBid)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Have placed bids"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-heading font-bold",children:"Bidding Opportunities"}),l.jsxs("p",{className:"text-muted-foreground",children:["Manage bidding opportunities for Class: ",n.className]})]}),l.jsxs(le,{onClick:()=>v(!0),className:"flex items-center gap-2",disabled:r,children:[l.jsx(Sf,{className:"w-4 h-4"}),"Add Opportunity"]})]}),n.bidOpportunities&&n.bidOpportunities.length>0?l.jsx("div",{className:"space-y-4",children:l.jsx(Se,{children:l.jsx(Ce,{className:"p-0",children:l.jsxs(Dm,{children:[l.jsx(Am,{children:l.jsxs(xo,{children:[l.jsx(jt,{children:"Title"}),l.jsx(jt,{children:"Capacity"}),l.jsx(jt,{children:"Event Date"}),l.jsx(jt,{children:"Status"}),l.jsx(jt,{children:"Current Bids"}),l.jsx(jt,{children:"Selected"}),l.jsx(jt,{children:"Actions"})]})}),l.jsx(Im,{children:n.bidOpportunities.map(U=>{var pe;const se=Qe(U.id);return l.jsxs(l.Fragment,{children:[l.jsxs(xo,{className:g===U.id?"bg-academy-lightBlue/10":"",children:[l.jsx(xt,{className:"font-medium",children:U.title}),l.jsx(xt,{children:l.jsxs(oe,{variant:"outline",children:[U.capacity||n.capacity," students"]})}),l.jsx(xt,{children:vn(U.date)}),l.jsx(xt,{children:l.jsx(oe,{variant:er(U)==="Open for Bidding"?"default":"secondary",children:er(U)})}),l.jsx(xt,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oe,{variant:"default",className:"bg-blue-500",children:te?l.jsx(Je,{className:"w-3 h-3 animate-spin"}):l.jsx("span",{children:se},`count-${U.id}-${se}-${_}`)},`bid-count-${U.id}-${_}`),se>(U.capacity||n.capacity)&&l.jsx(oe,{variant:"destructive",className:"text-xs",children:"Over capacity"})]})}),l.jsx(xt,{children:((pe=U.selectedStudents)==null?void 0:pe.length)||0}),l.jsx(xt,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(le,{variant:"ghost",size:"sm",onClick:()=>w(g===U.id?null:U.id),className:"flex items-center gap-1",children:g===U.id?l.jsxs(l.Fragment,{children:[l.jsx(SN,{className:"w-4 h-4"}),"Hide Details"]}):l.jsxs(l.Fragment,{children:[l.jsx(_N,{className:"w-4 h-4"}),"View Details"]})}),l.jsx(le,{variant:"outline",size:"sm",onClick:be=>{be.stopPropagation(),je(U)},disabled:r,children:l.jsx(CN,{className:"w-4 h-4"})}),l.jsx(le,{variant:"destructive",size:"sm",onClick:()=>{window.confirm(`Are you sure you want to delete "${U.title}"? This action cannot be undone and will remove all associated bids.`)&&X(U.id)},disabled:x===U.id||r,children:x===U.id?l.jsx(Je,{className:"w-4 h-4 animate-spin"}):l.jsx(Sg,{className:"w-4 h-4"})})]})})]},U.id),g===U.id&&l.jsx(xo,{children:l.jsx(xt,{colSpan:8,className:"p-0",children:l.jsxs("div",{className:"bg-blue-50/50 border-l-4 border-l-academy-blue p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-academy-blue",children:["Details of ",U.title]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx(Te,{className:"text-sm font-medium text-gray-600",children:"Description"}),l.jsx("div",{className:"mt-2 p-3 bg-white rounded-md border",children:l.jsx("p",{className:"text-gray-800",children:U.description})}),l.jsxs("div",{className:"mt-4",children:[l.jsx(Te,{className:"text-sm font-medium text-gray-600",children:"Bidding Opens"}),l.jsx("div",{className:"mt-2 p-3 bg-white rounded-md border",children:l.jsx("p",{className:"text-gray-800",children:U.bidOpenDate?vn(U.bidOpenDate):"1 week before event"})})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx(Te,{className:"text-sm font-medium text-gray-600",children:"Bidding Closes"}),l.jsx("div",{className:"mt-2 p-3 bg-white rounded-md border",children:l.jsx("p",{className:"text-gray-800",children:U.bidCloseDate?vn(U.bidCloseDate):vn(U.date)})})]})]}),l.jsxs("div",{children:[l.jsx(Te,{className:"text-sm font-medium text-gray-600",children:"Live Statistics"}),l.jsxs("div",{className:"mt-2 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Current Bids:"}),l.jsx("span",{className:"font-medium text-blue-600",children:te?l.jsx(Je,{className:"w-4 h-4 animate-spin"}):se},`detail-bid-count-${U.id}-${_}`)]}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Capacity:"}),l.jsxs("span",{className:"font-medium text-purple-600",children:[U.capacity||n.capacity," students"]})]})]})]})]}),l.jsxs("div",{className:"mt-4",children:[M.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsxs(Te,{className:"text-sm font-medium text-gray-600 mb-3 block",children:["Student Bidders (",M.length,")"]}),l.jsxs("div",{className:"p-4 bg-white rounded-md border",children:[l.jsx("div",{className:"space-y-3",children:M.map((be,Ye)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm font-medium text-blue-600",children:Ye+1}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:be.name}),l.jsx("div",{className:"text-sm text-gray-500",children:be.email}),be.studentNumber&&l.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",be.studentNumber]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-700",children:["Submitted: ",new Date(be.bidTimestamp).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date(be.bidTimestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]},be.id))}),l.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:"Bidding Summary:"}),l.jsx("div",{className:"mt-1 text-gray-700",children:M.map((be,Ye)=>l.jsxs("span",{children:[be.name," (submitted: ",new Date(be.bidTimestamp).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})," ",new Date(be.bidTimestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),")",Ye<M.length-1?", ":""]},be.id))})]})})]})]}),M.length===0&&se===0&&l.jsxs("div",{className:"mt-6",children:[l.jsx(Te,{className:"text-sm font-medium text-gray-600 mb-3 block",children:"Student Bidders"}),l.jsx("div",{className:"p-4 bg-white rounded-md border text-center",children:l.jsx("div",{className:"text-gray-500 text-sm",children:"No students have placed bids for this opportunity yet."})})]})]})]})})})]})})})]})})})}):l.jsx(Se,{children:l.jsxs(Ce,{className:"p-8 text-center",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Bidding Opportunities"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first bidding opportunity to get started."}),l.jsxs(le,{onClick:()=>v(!0),children:[l.jsx(Sf,{className:"w-4 h-4 mr-2"}),"Create First Opportunity"]})]})})]}),l.jsx(Sm,{open:y,onOpenChange:v,children:l.jsxs(eu,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(tu,{children:[l.jsx(ru,{children:"Create New Bidding Opportunity"}),l.jsx(su,{children:"Add a new bidding opportunity for students to participate in"})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"title",children:"Title"}),l.jsx(_t,{id:"title",value:Y,onChange:U=>W(U.target.value),placeholder:"e.g., Dinner with Professor - Week 1",disabled:D})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"description",children:"Description"}),l.jsx(Mm,{id:"description",value:I,onChange:U=>k(U.target.value),placeholder:"Describe the opportunity in detail",rows:3,disabled:D})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"Event Date"}),l.jsxs(wo,{children:[l.jsx(bo,{asChild:!0,children:l.jsx(le,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:D,children:R?Ht(R,"PPP"):l.jsx("span",{children:"Pick the event date"})})}),l.jsx(xs,{className:"w-auto p-0",children:l.jsx(ys,{mode:"single",selected:R,onSelect:T,initialFocus:!0})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"Bidding Opens Date"}),l.jsxs(wo,{children:[l.jsx(bo,{asChild:!0,children:l.jsx(le,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:D,children:P?Ht(P,"PPP"):l.jsx("span",{children:"Pick when bidding opens"})})}),l.jsx(xs,{className:"w-auto p-0",children:l.jsx(ys,{mode:"single",selected:P,onSelect:E,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This is when students can start bidding for this opportunity"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{children:"Bidding Closes Date"}),l.jsxs(wo,{children:[l.jsx(bo,{asChild:!0,children:l.jsx(le,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:D,children:A?Ht(A,"PPP"):l.jsx("span",{children:"Pick when bidding closes"})})}),l.jsx(xs,{className:"w-auto p-0",children:l.jsx(ys,{mode:"single",selected:A,onSelect:F,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This is when bidding closes for this opportunity"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"capacity",children:"Capacity"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_t,{id:"capacity",type:"text",value:L,onChange:K,onKeyDown:q,placeholder:"0",disabled:D,required:!0}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"students"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Any positive number of students for this opportunity"})]})]}),l.jsxs(nu,{children:[l.jsx(le,{variant:"outline",onClick:()=>v(!1),disabled:D,children:"Cancel"}),l.jsx(le,{onClick:J,disabled:D,children:D?l.jsxs(l.Fragment,{children:[l.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Opportunity"})]})]})}),p&&l.jsx(XM,{isOpen:!!p,onClose:()=>b(null),opportunity:p,currentClass:n,onSave:_e})]}):l.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold",children:"Admin Dashboard"}),l.jsx(le,{onClick:o,children:"Create New Class"})]}),l.jsx(Se,{className:"mb-6",children:l.jsxs(Ce,{className:"p-6 flex flex-col items-center justify-center",children:[l.jsx("p",{className:"text-lg mb-4",children:"No class selected."}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Select a class from the sidebar to view its details and manage it."}),e.length===0&&l.jsx(le,{onClick:o,children:"Create Your First Class"})]})})]})},nL=xa("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Fn=m.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:re(nL({variant:t}),e),...n}));Fn.displayName="Alert";const rL=m.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:re("mb-1 font-medium leading-none tracking-tight",e),...t}));rL.displayName="AlertTitle";const Un=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:re("text-sm [&_p]:leading-relaxed",e),...t}));Un.displayName="AlertDescription";function sL(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),c=n.length;n=[...n,i];function u(f){const{scope:h,children:g,...w}=f,p=(h==null?void 0:h[e][c])||a,b=m.useMemo(()=>w,Object.values(w));return l.jsx(p.Provider,{value:b,children:g})}function d(f,h){const g=(h==null?void 0:h[e][c])||a,w=m.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,oL(s,...t)]}function oL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Jm="Progress",Xm=100,[iL,O4]=sL(Jm),[aL,lL]=iL(Jm),QS=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=cL,...i}=e;(s||s===0)&&!Iv(s)&&console.error(uL(`${s}`,"Progress"));const a=Iv(s)?s:Xm;r!==null&&!Mv(r,a)&&console.error(dL(`${r}`,"Progress"));const c=Mv(r,a)?r:null,u=mc(c)?o(c,a):void 0;return l.jsx(aL,{scope:n,value:c,max:a,children:l.jsx(ae.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":mc(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":ZS(c,a),"data-value":c??void 0,"data-max":a,...i,ref:t})})});QS.displayName=Jm;var JS="ProgressIndicator",XS=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=lL(JS,n);return l.jsx(ae.div,{"data-state":ZS(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});XS.displayName=JS;function cL(e,t){return`${Math.round(e/t*100)}%`}function ZS(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function mc(e){return typeof e=="number"}function Iv(e){return mc(e)&&!isNaN(e)&&e>0}function Mv(e,t){return mc(e)&&!isNaN(e)&&e<=t&&e>=0}function uL(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Xm}\`.`}function dL(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Xm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var e1=QS,fL=XS;const t1=m.forwardRef(({className:e,value:t,...n},r)=>l.jsx(e1,{ref:r,className:re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(fL,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));t1.displayName=e1.displayName;const hL=e=>e.name.toLowerCase().endsWith(".csv")?e.size>5*1024*1024?"File size must be less than 5MB":null:"File must be a CSV file (.csv extension)",mL=e=>{var u,d,f;const t=[],n=e.trim().split(`
`);if(n.length<2)return t.push("CSV file must contain at least a header row and one data row"),{data:[],errors:t};const r=n[0].split(",").map(h=>h.trim().toLowerCase()),s=r.findIndex(h=>h==="name"||h==="student name"),o=r.findIndex(h=>h==="email"||h==="email address"),i=r.findIndex(h=>h==="student number"||h==="student_number"||h==="id"||h==="student id"),a=[];if(s===-1&&a.push("Name"),o===-1&&a.push("Email"),i===-1&&a.push("Student Number"),a.length>0)return t.push(`Missing required columns: ${a.join(", ")}. All three fields (Name, Email, Student Number) are required for login.`),{data:[],errors:t};const c=[];for(let h=1;h<n.length;h++){const g=n[h].trim();if(!g)continue;const w=g.split(",").map(x=>x.trim());if(w.length<=Math.max(s,o,i)){t.push(`Row ${h+1}: Insufficient columns`);continue}const p=(u=w[s])==null?void 0:u.trim(),b=(d=w[o])==null?void 0:d.trim(),y=(f=w[i])==null?void 0:f.trim();if(!p){t.push(`Row ${h+1}: Name is required`);continue}if(!b){t.push(`Row ${h+1}: Email is required`);continue}if(!y){t.push(`Row ${h+1}: Student Number is required for login`);continue}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)){t.push(`Row ${h+1}: Invalid email format: ${b}`);continue}c.push({name:p,email:b.toLowerCase(),student_number:y,row:h+1})}return{data:c,errors:t}},pL=async e=>{try{console.log(`Removing existing enrollments for class ID: ${e}`);const{data:t,error:n}=await Q.from("student_enrollments").select("user_id").eq("class_id",e);if(n)throw new Error(`Failed to count existing enrollments: ${n.message}`);const r=(t==null?void 0:t.length)||0;console.log(`Found ${r} existing enrollments in class ${e}`);const{error:s}=await Q.from("student_enrollments").delete().eq("class_id",e);if(s)throw new Error(`Failed to remove existing enrollments: ${s.message}`);return console.log(`Successfully removed ${r} enrollments from class ${e}`),{removedCount:r,errors:[]}}catch(t){return console.error("Error removing existing enrollments:",t),{removedCount:0,errors:[t instanceof Error?t.message:"Unknown error removing existing enrollments"]}}},gL=e=>{const t=new Set,n=new Set,r=[],s=[];return e.forEach(o=>{const i=o.email.toLowerCase(),a=o.student_number.toLowerCase(),c=t.has(i),u=n.has(a);c||u?s.push(`Row ${o.row}: ${o.name} (Email: ${o.email}, Student #: ${o.student_number})`):(t.add(i),n.add(a),r.push(o))}),{cleanStudents:r,duplicates:s}},vL=async(e,t)=>{const n=[];let r=0;console.log(`Uploading ${e.length} students to class ${t}`);try{for(const s of e)try{const o=await xA({name:s.name,email:s.email,studentNumber:s.student_number});await wA({userId:o.id,classId:t,tokensRemaining:1,tokenStatus:"unused",biddingResult:"pending"}),r++}catch(o){console.error(`Error processing student ${s.name}:`,o),n.push(`Failed to process ${s.name}: ${o instanceof Error?o.message:"Unknown error"}`)}console.log(`Successfully processed ${r} students`)}catch(s){console.error("Unexpected error during upload:",s),n.push(`Unexpected error during upload: ${s instanceof Error?s.message:"Unknown error"}`)}return{success:r,errors:n}},yL=async(e,t)=>{const n={success:!1,recordsProcessed:0,errors:[],duplicatesSkipped:0,message:"",replacedCount:0};try{console.log(`Starting CSV upload for class: ${t}`);const r=hL(e);if(r)return n.errors.push(r),n.message="File validation failed",n;const s=await e.text(),{data:o,errors:i}=mL(s);if(i.length>0&&n.errors.push(...i),o.length===0)return n.message="No valid student data found in CSV file. Remember: Name, Email, and Student Number are all required.",n;console.log(`Parsed ${o.length} students from CSV`);const{cleanStudents:a,duplicates:c}=gL(o);if(n.duplicatesSkipped=c.length,c.length>0&&(n.errors.push(`Found ${c.length} duplicate entries within the CSV file:`),n.errors.push(...c)),a.length===0)return n.message="No valid unique students found in the CSV file after removing duplicates",n;console.log(`${a.length} unique students after duplicate removal`),console.log(`Removing existing enrollments from class: ${t}`);const{removedCount:u,errors:d}=await pL(t);if(n.replacedCount=u,d.length>0)return n.errors.push(...d),n.message="Failed to remove existing enrollments",n;console.log(`Removed ${u} existing enrollments from class ${t}`),console.log(`Uploading ${a.length} new students to class ${t}`);const{success:f,errors:h}=await vL(a,t);h.length>0&&n.errors.push(...h),n.recordsProcessed=f,n.success=f>0,n.success?(n.replacedCount>0?n.message=`Successfully uploaded ${f} students for this class`:n.message=`Successfully uploaded ${f} students to this class`,n.duplicatesSkipped>0&&(n.message+=` (${n.duplicatesSkipped} duplicates within CSV were skipped)`)):n.message="Failed to upload any students",console.log(`Upload completed for class ${t}. Success: ${n.success}, Records: ${n.recordsProcessed}`)}catch(r){console.error("CSV upload error:",r),n.errors.push(`Unexpected error: ${r instanceof Error?r.message:"Unknown error"}`),n.message="CSV upload failed due to unexpected error"}return n},xL=({classId:e,onUpload:t})=>{const[n,r]=m.useState(null),[s,o]=m.useState(!1),[i,a]=m.useState(null),[c,u]=m.useState(0),{toast:d}=Mt(),f=w=>{w.target.files&&w.target.files[0]&&(r(w.target.files[0]),a(null))},h=()=>{u(0);const w=setInterval(()=>{u(p=>p>=90?(clearInterval(w),90):p+10)},200);return w},g=async()=>{if(!n){d({title:"No file selected",description:"Please select a CSV file to upload",variant:"destructive"});return}o(!0);const w=h();try{const p=await yL(n,e);clearInterval(w),u(100),a(p),p.success?(d({title:"Upload successful",description:p.message}),t([])):d({title:"Upload failed",description:p.message,variant:"destructive"})}catch(p){clearInterval(w),u(0);const b=p instanceof Error?p.message:"An unexpected error occurred";a({success:!1,recordsProcessed:0,errors:[b],duplicatesSkipped:0,message:"Upload failed due to an error"}),d({title:"Upload failed",description:b,variant:"destructive"})}finally{o(!1),r(null);const p=document.getElementById("csvFile");p&&(p.value="")}};return l.jsx(Se,{children:l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"csvFile",children:"Upload CSV File"}),l.jsx(_t,{id:"csvFile",type:"file",accept:".csv",onChange:f,disabled:s}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("p",{children:l.jsx("strong",{children:"REQUIRED COLUMNS:"})}),l.jsxs("p",{children:["• ",l.jsx("strong",{children:"Name"})," - Student's full name"]}),l.jsxs("p",{children:["• ",l.jsx("strong",{children:"Email"})," - Student's email address"]}),l.jsxs("p",{children:["• ",l.jsx("strong",{children:"Student Number"})," - Student's ID number (required for login)"]}),l.jsx("p",{className:"text-amber-600 font-medium",children:"⚠️ All three fields are required for student login"}),l.jsx("p",{children:"• Supported format: CSV (.csv)"})]})]}),n&&!s&&l.jsxs(Fn,{children:[l.jsx(EN,{className:"h-4 w-4"}),l.jsxs(Un,{children:[l.jsx("strong",{children:"Selected file:"})," ",n.name," (",(n.size/1024).toFixed(1)," KB)"]})]}),s&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Je,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{className:"text-sm",children:"Replacing students in database..."})]}),l.jsx(t1,{value:c,className:"w-full"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Removing existing students and uploading new data..."})]}),i&&l.jsx("div",{className:"space-y-3",children:l.jsxs(Fn,{variant:i.success?"default":"destructive",children:[i.success?l.jsx(Lx,{className:"h-4 w-4"}):l.jsx(bN,{className:"h-4 w-4"}),l.jsxs(Un,{children:[l.jsx("strong",{children:i.success?"Success!":"Upload Failed"}),l.jsx("br",{}),i.message]})]})}),l.jsx(le,{onClick:g,disabled:!n||s,className:"w-full bg-red-600 hover:bg-red-700",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}),"Replacing Students..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ac,{className:"w-4 h-4 mr-2"}),"Upload or Replace Students CSV Data"]})}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Template:"}),l.jsx(le,{variant:"outline",size:"sm",onClick:()=>{const w=`Name,Email,Student Number
John Doe,john.doe@example.com,ST2024001
Jane Smith,jane.smith@example.com,A123456
Bob Wilson,bob.wilson@example.com,B789012`,p=new Blob([w],{type:"text/csv"}),b=window.URL.createObjectURL(p),y=document.createElement("a");y.href=b,y.download="student_template.csv",y.click(),window.URL.revokeObjectURL(b)},children:"Download CSV Template"})]})]})})},wL=({currentClass:e,onStudentUpdate:t})=>{const[n,r]=m.useState(e.students),[s,o]=m.useState(""),[i,a]=m.useState(!1),[c,u]=m.useState({total:0,available:0,used:0}),{toast:d}=Mt();m.useEffect(()=>{r(e.students)},[e]),m.useEffect(()=>{const p=Q.channel(`class-students-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"student_enrollments",filter:`class_id=eq.${e.id}`},b=>{console.log("Student enrollment update received:",b),f(b)}).on("postgres_changes",{event:"*",schema:"public",table:"users"},b=>{console.log("User update received:",b),h()}).subscribe();return()=>{Q.removeChannel(p)}},[e.id]);const f=async p=>{const{eventType:b,new:y,old:v}=p;if(await g(),b==="UPDATE"&&y){const{data:x}=await Q.from("users").select("name").eq("id",y.user_id).single(),S=(v==null?void 0:v.tokens_remaining)>0,_=y.tokens_remaining<=0;S&&_&&x&&d({title:"Token Status Updated",description:`${x.name} has used their token`})}},h=async p=>{await g()};m.useEffect(()=>{const p=n.length,b=n.filter(v=>v.hasUsedToken===!0).length,y=p-b;u({total:p,available:y,used:b})},[n]);const g=async()=>{a(!0);try{const p=await oS(e.id);r(p),t(p),d({title:"Data Refreshed",description:"Student data has been updated from the database"})}catch(p){console.error("Error refreshing student data:",p),d({title:"Refresh Failed",description:"Failed to refresh student data",variant:"destructive"})}finally{a(!1)}},w=n.filter(p=>p.name.toLowerCase().includes(s.toLowerCase())||p.email.toLowerCase().includes(s.toLowerCase()));return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(Se,{children:[l.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Be,{className:"text-sm font-medium",children:"Total Students"}),l.jsx(Ns,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold",children:c.total}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Enrolled in class"})]})]}),l.jsxs(Se,{children:[l.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Be,{className:"text-sm font-medium",children:"Tokens Available"}),l.jsx(wa,{className:"h-4 w-4 text-green-500"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.available}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to bid"})]})]}),l.jsxs(Se,{children:[l.jsxs(Ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Be,{className:"text-sm font-medium",children:"Tokens Used"}),l.jsx(bf,{className:"h-4 w-4 text-red-500"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.used}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Bids submitted"})]})]})]}),c.used>0&&l.jsxs(Fn,{children:[l.jsx(bf,{className:"h-4 w-4"}),l.jsxs(Un,{children:[l.jsxs("strong",{children:[c.used," student",c.used>1?"s have":" has"]})," used their token for bidding"]})]}),l.jsxs(Se,{children:[l.jsxs(Ue,{className:"flex flex-row items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(Be,{className:"text-lg font-heading flex items-center gap-2",children:[l.jsx(Ns,{className:"w-5 h-5"}),"Student List - Real-time Updates"]}),l.jsx(Is,{children:"Live view of student token status and bidding activity"})]}),l.jsx(le,{onClick:g,disabled:i,variant:"outline",size:"sm",children:i?l.jsx(Je,{className:"w-4 h-4 animate-spin"}):l.jsx(Ac,{className:"w-4 h-4"})})]}),l.jsxs(Ce,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx(Te,{htmlFor:"search",className:"sr-only",children:"Search"}),l.jsx(_t,{id:"search",placeholder:"Search by name or email...",value:s,onChange:p=>o(p.target.value)})]}),w.length===0?l.jsx("p",{className:"text-center text-muted-foreground py-4",children:n.length===0?"No students in this class yet.":"No students match your search"}):l.jsxs(Dm,{children:[l.jsx(Am,{children:l.jsxs(xo,{children:[l.jsx(jt,{children:"Name"}),l.jsx(jt,{children:"Email"}),l.jsx(jt,{children:"Student Number"}),l.jsx(jt,{children:"Token Status"}),l.jsx(jt,{children:"Bid Status"}),l.jsx(jt,{children:"Tokens Remaining"})]})}),l.jsx(Im,{children:w.map(p=>l.jsxs(xo,{className:p.hasUsedToken===!0?"bg-red-50":"bg-green-50",children:[l.jsx(xt,{className:"font-medium",children:p.name}),l.jsx(xt,{children:p.email}),l.jsx(xt,{children:p.studentNumber||"N/A"}),l.jsx(xt,{children:p.hasUsedToken===!0?l.jsx(oe,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Token Unavailable"}):l.jsx(oe,{className:"bg-green-100 text-green-800",children:"Token Available"})}),l.jsx(xt,{children:p.hasBid===!0?l.jsx(oe,{variant:"default",children:"Bid Submitted"}):l.jsx(oe,{variant:"outline",children:"No Bid"})}),l.jsx(xt,{children:l.jsx(oe,{variant:"outline",children:p.tokensRemaining??(p.hasUsedToken===!0?0:1)})})]},p.id))})]})]})]})]})},bL=({currentClass:e,isViewingArchived:t=!1,onUpdateStudents:n})=>{const[r,s]=m.useState(!1),{toast:o}=Mt();if(!e)return l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold mb-6",children:"Manage Students"}),l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Please select a class to manage students"})]});const i=async()=>{s(!0);try{const u=(await br()).find(d=>d.id===e.id);u&&n(u.students)}catch(c){console.error("Error refreshing students:",c),o({title:"Error refreshing data",description:"Failed to refresh student list from database",variant:"destructive"})}finally{s(!1)}},a=async()=>{s(!0);try{const u=(await br()).find(d=>d.id===e.id);u&&(n(u.students),o({title:"Students refreshed",description:"Student list has been updated from the database"}))}catch(c){console.error("Error refreshing students:",c),o({title:"Error refreshing data",description:"Failed to refresh student list from database",variant:"destructive"})}finally{s(!1)}};return l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h1",{className:"text-2xl font-heading font-bold",children:[t?"View Students":"Manage Students"," - ",e.className,t&&l.jsx(oe,{variant:"secondary",className:"ml-2",children:"Archived (Read-only)"})]}),l.jsx(le,{onClick:a,disabled:r||t,variant:"outline",children:r?"Refreshing...":"Refresh from Database"})]}),l.jsxs(aa,{defaultValue:"manage",className:"space-y-6",children:[l.jsxs(Uo,{children:[l.jsx(Zt,{value:"manage",children:"Manage Students"}),l.jsx(Zt,{value:"upload",disabled:t,children:"Upload Students"})]}),l.jsx(en,{value:"manage",children:l.jsx(wL,{currentClass:e,onStudentUpdate:n})}),l.jsx(en,{value:"upload",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(xL,{classId:e.id,onUpload:i}),l.jsxs(Se,{children:[l.jsx(Ue,{children:l.jsx(Be,{className:"text-lg font-heading",children:"Upload Instructions"})}),l.jsx(Ce,{children:l.jsxs("div",{className:"space-y-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Required CSV Format:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Name"})," - Student's full name"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Email"})," - Student's email address"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Student Number"})," - Required for login"]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Token Management:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[l.jsx("li",{children:"Each student starts with 1 available token"}),l.jsx("li",{children:"Tokens are used when students submit bids"}),l.jsx("li",{children:"Token status updates in real-time"}),l.jsx("li",{children:"Admin can monitor token usage live"})]})]})]})})]})]})})]})]})};function SL(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var _L=[" ","Enter","ArrowUp","ArrowDown"],EL=[" ","Enter"],Pa="Select",[gu,vu,CL]=Gh(Pa),[ri,D4]=As(Pa,[CL,Xo]),yu=Xo(),[NL,Zr]=ri(Pa),[jL,kL]=ri(Pa),n1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:w}=e,p=yu(t),[b,y]=m.useState(null),[v,x]=m.useState(null),[S,_]=m.useState(!1),C=Kc(u),[N=!1,j]=Cs({prop:r,defaultProp:s,onChange:o}),[D,O]=Cs({prop:i,defaultProp:a,onChange:c}),Y=m.useRef(null),W=b?w||!!b.closest("form"):!0,[I,k]=m.useState(new Set),R=Array.from(I).map(T=>T.props.value).join(";");return l.jsx(hw,{...p,children:l.jsxs(NL,{required:g,scope:t,trigger:b,onTriggerChange:y,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:nr(),value:D,onValueChange:O,open:N,onOpenChange:j,dir:C,triggerPointerDownPosRef:Y,disabled:h,children:[l.jsx(gu.Provider,{scope:t,children:l.jsx(jL,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(T=>{k(P=>new Set(P).add(T))},[]),onNativeOptionRemove:m.useCallback(T=>{k(P=>{const E=new Set(P);return E.delete(T),E})},[]),children:n})}),W?l.jsxs(j1,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:D,onChange:T=>O(T.target.value),disabled:h,form:w,children:[D===void 0?l.jsx("option",{value:""}):null,Array.from(I)]},R):null]})})};n1.displayName=Pa;var r1="SelectTrigger",s1=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=yu(n),i=Zr(r1,n),a=i.disabled||r,c=ye(t,i.onTriggerChange),u=vu(n),d=m.useRef("touch"),[f,h,g]=k1(p=>{const b=u().filter(x=>!x.disabled),y=b.find(x=>x.value===i.value),v=T1(b,p,y);v!==void 0&&i.onValueChange(v.value)}),w=p=>{a||(i.onOpenChange(!0),g()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return l.jsx(Fc,{asChild:!0,...o,children:l.jsx(ae.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":N1(i.value)?"":void 0,...s,ref:c,onClick:ee(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&w(p)}),onPointerDown:ee(s.onPointerDown,p=>{d.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(w(p),p.preventDefault())}),onKeyDown:ee(s.onKeyDown,p=>{const b=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(b&&p.key===" ")&&_L.includes(p.key)&&(w(),p.preventDefault())})})})});s1.displayName=r1;var o1="SelectValue",i1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,c=Zr(o1,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=ye(t,c.onValueNodeChange);return lt(()=>{u(d)},[u,d]),l.jsx(ae.span,{...a,ref:f,style:{pointerEvents:"none"},children:N1(c.value)?l.jsx(l.Fragment,{children:i}):o})});i1.displayName=o1;var TL="SelectIcon",a1=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(ae.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});a1.displayName=TL;var PL="SelectPortal",l1=e=>l.jsx(va,{asChild:!0,...e});l1.displayName=PL;var Ps="SelectContent",c1=m.forwardRef((e,t)=>{const n=Zr(Ps,e.__scopeSelect),[r,s]=m.useState();if(lt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Ds.createPortal(l.jsx(u1,{scope:e.__scopeSelect,children:l.jsx(gu.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(d1,{...e,ref:t})});c1.displayName=Ps;var un=10,[u1,es]=ri(Ps),RL="SelectContentImpl",d1=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:w,hideWhenDetached:p,avoidCollisions:b,...y}=e,v=Zr(Ps,n),[x,S]=m.useState(null),[_,C]=m.useState(null),N=ye(t,M=>S(M)),[j,D]=m.useState(null),[O,Y]=m.useState(null),W=vu(n),[I,k]=m.useState(!1),R=m.useRef(!1);m.useEffect(()=>{if(x)return vm(x)},[x]),gm();const T=m.useCallback(M=>{const[H,...K]=W().map(X=>X.ref.current),[q]=K.slice(-1),J=document.activeElement;for(const X of M)if(X===J||(X==null||X.scrollIntoView({block:"nearest"}),X===H&&_&&(_.scrollTop=0),X===q&&_&&(_.scrollTop=_.scrollHeight),X==null||X.focus(),document.activeElement!==J))return},[W,_]),P=m.useCallback(()=>T([j,x]),[T,j,x]);m.useEffect(()=>{I&&P()},[I,P]);const{onOpenChange:E,triggerPointerDownPosRef:A}=v;m.useEffect(()=>{if(x){let M={x:0,y:0};const H=q=>{var J,X;M={x:Math.abs(Math.round(q.pageX)-(((J=A.current)==null?void 0:J.x)??0)),y:Math.abs(Math.round(q.pageY)-(((X=A.current)==null?void 0:X.y)??0))}},K=q=>{M.x<=10&&M.y<=10?q.preventDefault():x.contains(q.target)||E(!1),document.removeEventListener("pointermove",H),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",K,{capture:!0})}}},[x,E,A]),m.useEffect(()=>{const M=()=>E(!1);return window.addEventListener("blur",M),window.addEventListener("resize",M),()=>{window.removeEventListener("blur",M),window.removeEventListener("resize",M)}},[E]);const[F,L]=k1(M=>{const H=W().filter(J=>!J.disabled),K=H.find(J=>J.ref.current===document.activeElement),q=T1(H,M,K);q&&setTimeout(()=>q.ref.current.focus())}),B=m.useCallback((M,H,K)=>{const q=!R.current&&!K;(v.value!==void 0&&v.value===H||q)&&(D(M),q&&(R.current=!0))},[v.value]),z=m.useCallback(()=>x==null?void 0:x.focus(),[x]),te=m.useCallback((M,H,K)=>{const q=!R.current&&!K;(v.value!==void 0&&v.value===H||q)&&Y(M)},[v.value]),ge=r==="popper"?Kf:f1,ne=ge===Kf?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:w,hideWhenDetached:p,avoidCollisions:b}:{};return l.jsx(u1,{scope:n,content:x,viewport:_,onViewportChange:C,itemRefCallback:B,selectedItem:j,onItemLeave:z,itemTextRefCallback:te,focusSelectedItem:P,selectedItemText:O,position:r,isPositioned:I,searchRef:F,children:l.jsx(Zc,{as:Wr,allowPinchZoom:!0,children:l.jsx(Jc,{asChild:!0,trapped:v.open,onMountAutoFocus:M=>{M.preventDefault()},onUnmountAutoFocus:ee(s,M=>{var H;(H=v.trigger)==null||H.focus({preventScroll:!0}),M.preventDefault()}),children:l.jsx(Go,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:M=>M.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(ge,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:M=>M.preventDefault(),...y,...ne,onPlaced:()=>k(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ee(y.onKeyDown,M=>{const H=M.ctrlKey||M.altKey||M.metaKey;if(M.key==="Tab"&&M.preventDefault(),!H&&M.key.length===1&&L(M.key),["ArrowUp","ArrowDown","Home","End"].includes(M.key)){let q=W().filter(J=>!J.disabled).map(J=>J.ref.current);if(["ArrowUp","End"].includes(M.key)&&(q=q.slice().reverse()),["ArrowUp","ArrowDown"].includes(M.key)){const J=M.target,X=q.indexOf(J);q=q.slice(X+1)}setTimeout(()=>T(q)),M.preventDefault()}})})})})})})});d1.displayName=RL;var OL="SelectItemAlignedPosition",f1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Zr(Ps,n),i=es(Ps,n),[a,c]=m.useState(null),[u,d]=m.useState(null),f=ye(t,N=>d(N)),h=vu(n),g=m.useRef(!1),w=m.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:y,focusSelectedItem:v}=i,x=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&p&&b&&y){const N=o.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),D=o.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(o.dir!=="rtl"){const J=O.left-j.left,X=D.left-J,je=N.left-X,_e=N.width+je,Qe=Math.max(_e,j.width),ve=window.innerWidth-un,U=qf(X,[un,Math.max(un,ve-Qe)]);a.style.minWidth=_e+"px",a.style.left=U+"px"}else{const J=j.right-O.right,X=window.innerWidth-D.right-J,je=window.innerWidth-N.right-X,_e=N.width+je,Qe=Math.max(_e,j.width),ve=window.innerWidth-un,U=qf(X,[un,Math.max(un,ve-Qe)]);a.style.minWidth=_e+"px",a.style.right=U+"px"}const Y=h(),W=window.innerHeight-un*2,I=p.scrollHeight,k=window.getComputedStyle(u),R=parseInt(k.borderTopWidth,10),T=parseInt(k.paddingTop,10),P=parseInt(k.borderBottomWidth,10),E=parseInt(k.paddingBottom,10),A=R+T+I+E+P,F=Math.min(b.offsetHeight*5,A),L=window.getComputedStyle(p),B=parseInt(L.paddingTop,10),z=parseInt(L.paddingBottom,10),te=N.top+N.height/2-un,ge=W-te,ne=b.offsetHeight/2,M=b.offsetTop+ne,H=R+T+M,K=A-H;if(H<=te){const J=Y.length>0&&b===Y[Y.length-1].ref.current;a.style.bottom="0px";const X=u.clientHeight-p.offsetTop-p.offsetHeight,je=Math.max(ge,ne+(J?z:0)+X+P),_e=H+je;a.style.height=_e+"px"}else{const J=Y.length>0&&b===Y[0].ref.current;a.style.top="0px";const je=Math.max(te,R+p.offsetTop+(J?B:0)+ne)+K;a.style.height=je+"px",p.scrollTop=H-te+p.offsetTop}a.style.margin=`${un}px 0`,a.style.minHeight=F+"px",a.style.maxHeight=W+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,a,u,p,b,y,o.dir,r]);lt(()=>x(),[x]);const[S,_]=m.useState();lt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const C=m.useCallback(N=>{N&&w.current===!0&&(x(),v==null||v(),w.current=!1)},[x,v]);return l.jsx(AL,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(ae.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});f1.displayName=OL;var DL="SelectPopperPosition",Kf=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=un,...o}=e,i=yu(n);return l.jsx(lm,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kf.displayName=DL;var[AL,Zm]=ri(Ps,{}),Qf="SelectViewport",h1=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=es(Qf,n),i=Zm(Qf,n),a=ye(t,o.onViewportChange),c=m.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(gu.Slot,{scope:n,children:l.jsx(ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const w=window.innerHeight-un*2,p=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),y=Math.max(p,b);if(y<w){const v=y+g,x=Math.min(w,v),S=v-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});h1.displayName=Qf;var m1="SelectGroup",[IL,ML]=ri(m1),LL=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=nr();return l.jsx(IL,{scope:n,id:s,children:l.jsx(ae.div,{role:"group","aria-labelledby":s,...r,ref:t})})});LL.displayName=m1;var p1="SelectLabel",g1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ML(p1,n);return l.jsx(ae.div,{id:s.id,...r,ref:t})});g1.displayName=p1;var pc="SelectItem",[$L,v1]=ri(pc),y1=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=Zr(pc,n),c=es(pc,n),u=a.value===r,[d,f]=m.useState(o??""),[h,g]=m.useState(!1),w=ye(t,v=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,v,r,s)}),p=nr(),b=m.useRef("touch"),y=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx($L,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:m.useCallback(v=>{f(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(gu.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(ae.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:ee(i.onFocus,()=>g(!0)),onBlur:ee(i.onBlur,()=>g(!1)),onClick:ee(i.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:ee(i.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:ee(i.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:ee(i.onPointerMove,v=>{var x;b.current=v.pointerType,s?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(i.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:ee(i.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(EL.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});y1.displayName=pc;var _i="SelectItemText",x1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Zr(_i,n),a=es(_i,n),c=v1(_i,n),u=kL(_i,n),[d,f]=m.useState(null),h=ye(t,y=>f(y),c.onItemTextChange,y=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,y,c.value,c.disabled)}),g=d==null?void 0:d.textContent,w=m.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=u;return lt(()=>(p(w),()=>b(w)),[p,b,w]),l.jsxs(l.Fragment,{children:[l.jsx(ae.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ds.createPortal(o.children,i.valueNode):null]})});x1.displayName=_i;var w1="SelectItemIndicator",b1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return v1(w1,n).isSelected?l.jsx(ae.span,{"aria-hidden":!0,...r,ref:t}):null});b1.displayName=w1;var Jf="SelectScrollUpButton",S1=m.forwardRef((e,t)=>{const n=es(Jf,e.__scopeSelect),r=Zm(Jf,e.__scopeSelect),[s,o]=m.useState(!1),i=ye(t,r.onScrollButtonChange);return lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(E1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});S1.displayName=Jf;var Xf="SelectScrollDownButton",_1=m.forwardRef((e,t)=>{const n=es(Xf,e.__scopeSelect),r=Zm(Xf,e.__scopeSelect),[s,o]=m.useState(!1),i=ye(t,r.onScrollButtonChange);return lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(E1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});_1.displayName=Xf;var E1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=es("SelectScrollButton",n),i=m.useRef(null),a=vu(n),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),lt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(ae.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{c()})})}),FL="SelectSeparator",C1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(ae.div,{"aria-hidden":!0,...r,ref:t})});C1.displayName=FL;var Zf="SelectArrow",UL=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=yu(n),o=Zr(Zf,n),i=es(Zf,n);return o.open&&i.position==="popper"?l.jsx(cm,{...s,...r,ref:t}):null});UL.displayName=Zf;function N1(e){return e===""||e===void 0}var j1=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=m.useRef(null),o=ye(t,s),i=SL(n);return m.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[i,n]),l.jsx(ya,{asChild:!0,children:l.jsx("select",{...r,ref:o,defaultValue:n})})});j1.displayName="BubbleSelect";function k1(e){const t=Ke(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const a=n.current+i;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function T1(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=BL(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function BL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var zL=n1,P1=s1,WL=i1,HL=a1,VL=l1,R1=c1,qL=h1,O1=g1,D1=y1,YL=x1,GL=b1,A1=S1,I1=_1,M1=C1;const KL=zL,QL=WL,L1=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(P1,{ref:r,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(HL,{asChild:!0,children:l.jsx(Mx,{className:"h-4 w-4 opacity-50"})})]}));L1.displayName=P1.displayName;const $1=m.forwardRef(({className:e,...t},n)=>l.jsx(A1,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(wN,{className:"h-4 w-4"})}));$1.displayName=A1.displayName;const F1=m.forwardRef(({className:e,...t},n)=>l.jsx(I1,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Mx,{className:"h-4 w-4"})}));F1.displayName=I1.displayName;const U1=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(VL,{children:l.jsxs(R1,{ref:s,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx($1,{}),l.jsx(qL,{className:re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(F1,{})]})}));U1.displayName=R1.displayName;const JL=m.forwardRef(({className:e,...t},n)=>l.jsx(O1,{ref:n,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));JL.displayName=O1.displayName;const B1=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(D1,{ref:r,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(GL,{children:l.jsx(yN,{className:"h-4 w-4"})})}),l.jsx(YL,{children:t})]}));B1.displayName=D1.displayName;const XL=m.forwardRef(({className:e,...t},n)=>l.jsx(M1,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));XL.displayName=M1.displayName;const ZL=({currentClass:e,isViewingArchived:t=!1,onSelectionComplete:n})=>{var Y,W;const[r,s]=m.useState(null),[o,i]=m.useState({}),[a,c]=m.useState({}),[u,d]=m.useState(!0),[f,h]=m.useState(!1),[g,w]=m.useState([]),[p,b]=m.useState(!1),{toast:y}=Mt(),v=e.bidOpportunities||[];m.useEffect(()=>{v.length>0&&!r&&s(v[0].id)},[v,r]),m.useEffect(()=>{if(r&&e.bidOpportunities){const I=e.bidOpportunities.find(k=>k.id===r);I&&I.selectedStudents?(console.log("Loading selected students from database:",I.selectedStudents),w(I.selectedStudents)):w([])}},[r,e.bidOpportunities]);const x=async I=>{try{const{data:k,error:R}=await Q.from("bids").select(`
          id,
          user_id,
          bid_status,
          submission_timestamp
        `).eq("opportunity_id",I).order("submission_timestamp",{ascending:!1});if(R)return console.error(`Error fetching bids for opportunity ${I}:`,R),[];if(!k||k.length===0)return[];const T=[...new Set(k.map(F=>F.user_id))],{data:P,error:E}=await Q.from("users").select("id, name, email, student_number").in("id",T);if(E)return console.error(`Error fetching users for opportunity ${I}:`,E),[];const A=new Map((P==null?void 0:P.map(F=>[F.id,F]))||[]);return k.map(F=>{const L=A.get(F.user_id);return{id:(L==null?void 0:L.id)||F.user_id,name:(L==null?void 0:L.name)||"Unknown User",email:(L==null?void 0:L.email)||"",studentNumber:L==null?void 0:L.student_number,bidTimestamp:F.submission_timestamp,bidStatus:F.bid_status}}).filter(F=>F.name!=="Unknown User")}catch(k){return console.error("Error fetching bidders:",k),[]}},S=async()=>{if(v.length===0){d(!1);return}try{const I={},k={};for(const R of v){const{data:T,error:P}=await Q.from("bids").select(`
            id, 
            submission_timestamp,
            bid_status,
            user_id
          `).eq("opportunity_id",R.id);if(P){console.error(`Error fetching bids for opportunity ${R.id}:`,P);continue}const E=(T==null?void 0:T.length)||0;if(I[R.id]={opportunityId:R.id,bidCount:E,lastUpdated:new Date().toISOString()},E>0){const A=[...new Set(T.map(z=>z.user_id))],{data:F,error:L}=await Q.from("users").select("id, name, email, student_number").in("id",A);if(L){console.error(`Error fetching users for opportunity ${R.id}:`,L),k[R.id]=[];continue}const B=new Map((F==null?void 0:F.map(z=>[z.id,z]))||[]);k[R.id]=T.map(z=>{const te=B.get(z.user_id);return{id:(te==null?void 0:te.id)||z.user_id,name:(te==null?void 0:te.name)||"Unknown User",email:(te==null?void 0:te.email)||"",studentNumber:te==null?void 0:te.student_number,bidTimestamp:z.submission_timestamp,bidStatus:z.bid_status}}).filter(z=>z.name!=="Unknown User")}else k[R.id]=[]}i(I),c(k)}catch(I){console.error("Error fetching bid counts:",I),y({title:"Error Loading Data",description:"Failed to fetch bid counts from database",variant:"destructive"})}finally{d(!1)}};m.useEffect(()=>{if(v.length===0)return;const I=v.map(k=>Q.channel(`bids-${k.id}`).on("postgres_changes",{event:"*",schema:"public",table:"bids",filter:`opportunity_id=eq.${k.id}`},async T=>{console.log("Real-time bid update:",T),i(P=>{let A=(P[k.id]||{opportunityId:k.id,bidCount:0,lastUpdated:""}).bidCount;return T.eventType==="INSERT"?(A+=1,y({title:"New Bid Placed",description:`A student has placed a bid for ${k.title}`})):T.eventType==="DELETE"&&(A=Math.max(0,A-1),y({title:"Bid Removed",description:`A bid was removed from ${k.title}`})),{...P,[k.id]:{opportunityId:k.id,bidCount:A,lastUpdated:new Date().toISOString()}}});try{const P=await x(k.id);c(E=>({...E,[k.id]:P}))}catch(P){console.error("Error refreshing bidders after real-time update:",P)}}).subscribe());return S(),()=>{I.forEach(k=>Q.removeChannel(k))}},[v,y]);const _=async()=>{b(!0),await S(),b(!1),y({title:"Data Refreshed",description:"Bid counts have been updated from the database"})},C=async()=>{var k;if(!r){y({title:"No Opportunity Selected",description:"Please select a bidding opportunity first",variant:"destructive"});return}const I=((k=o[r])==null?void 0:k.bidCount)||0;if(I===0){y({title:"No Bids Available",description:"No students have placed bids for this opportunity yet",variant:"destructive"});return}h(!0);try{const T=(a[r]||[]).map(z=>({id:z.id,name:z.name,email:z.email,studentNumber:z.studentNumber,hasUsedToken:!0,hasBid:!0}));await new Promise(z=>setTimeout(z,1e3));const P=v.find(z=>z.id===r),E=(P==null?void 0:P.capacity)||e.capacity,A=new Date,F=P!=null&&P.bidCloseDate?new Date(P.bidCloseDate):null,L=F?A>=F:!1;let B;if(L&&I<=E)console.log("=== AUTOMATIC SELECTION TRIGGERED ==="),console.log("Bid count:",I,"Capacity:",E),await qM(r),B=T.map(z=>({...z,bidStatus:"auto_selected"})),y({title:"Automatic Selection Complete",description:`All ${B.length} bidders have been automatically selected and their tokens have been refunded.`});else{console.log("=== RANDOM SELECTION TRIGGERED ==="),console.log("Bid count:",I,"Capacity:",E);const z=Math.min(E,T.length);B=[...T].sort(()=>Math.random()-.5).slice(0,z);try{const ge=B.map(M=>M.id),ne=T.map(M=>M.id);await HM(r,e.id,ge,ne),console.log("Selection results successfully updated in database")}catch(ge){console.error("Error updating selection results in database:",ge),y({title:"Database Update Warning",description:"Selection completed but failed to update database records. Please check the console for details.",variant:"destructive"})}y({title:"Random Selection Complete",description:`${B.length} student${B.length!==1?"s":""} randomly selected.`})}w(B),n(B,r),console.log("=== REFRESHING BIDDER DATA AFTER SELECTION ==="),await S(),console.log("Bidder data refreshed successfully")}catch(R){console.error("Selection error:",R),y({title:"Selection Failed",description:"An error occurred during the selection process",variant:"destructive"})}finally{h(!1)}},N=async()=>{if(r){h(!0);try{console.log("=== STARTING SELECTION RESET ==="),console.log("Opportunity ID:",r),await QM(r),console.log("=== DATABASE RESET COMPLETED ==="),w([]),await S(),n([],r),y({title:"Selection Reset",description:"Selection has been cleared and all student results reset to pending."})}catch(I){console.error("Error resetting selection:",I),y({title:"Reset Failed",description:I instanceof Error?I.message:"An unexpected error occurred during reset",variant:"destructive"})}finally{h(!1)}}},j=v.find(I=>I.id===r),D=r&&((Y=o[r])==null?void 0:Y.bidCount)||0,O=r?a[r]||[]:[];return v.length===0?l.jsx("div",{className:"container mx-auto p-4",children:l.jsx(Se,{children:l.jsxs(Ce,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-xl mb-4",children:"No Bidding Opportunities"}),l.jsx("p",{className:"text-muted-foreground",children:"Create some bidding opportunities first to run the selection process."})]})})}):l.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[l.jsxs(Se,{children:[l.jsxs(Ue,{className:"flex flex-row items-center justify-between",children:[l.jsx("div",{children:l.jsxs(Be,{className:"text-xl font-heading flex items-center gap-2",children:[l.jsx(_f,{className:"w-5 h-5"}),"Selection Process - Real-time Monitoring"]})}),l.jsx(le,{onClick:_,disabled:p||u||t,variant:"outline",size:"sm",children:p?l.jsx(Je,{className:"w-4 h-4 animate-spin"}):l.jsx(Ac,{className:"w-4 h-4"})})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Bidding Opportunity:"}),l.jsxs(KL,{value:r||"",onValueChange:s,disabled:u,children:[l.jsx(L1,{className:"w-full",children:l.jsx(QL,{placeholder:"Choose a bidding opportunity"})}),l.jsx(U1,{children:v.map(I=>{var R;const k=((R=o[I.id])==null?void 0:R.bidCount)||0;return l.jsx(B1,{value:I.id,children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsxs("span",{children:[I.title," - ",vn(I.date)]}),l.jsx(oe,{variant:"outline",className:"ml-2",children:u?"...":`${k} bids`})]})},I.id)})})]})]}),j&&l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium text-lg",children:j.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bf,{className:"w-4 h-4 text-blue-500"}),l.jsx(oe,{variant:"default",className:"animate-pulse",children:u?l.jsx(Je,{className:"w-3 h-3 animate-spin"}):`${D} Live Bids`})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Event Date:"}),l.jsx("div",{className:"font-medium",children:vn(j.date)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Capacity:"}),l.jsxs("div",{className:"font-medium",children:[j.capacity||e.capacity," students"]})]})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Description:"}),l.jsx("div",{className:"mt-1",children:j.description})]}),l.jsxs(Fn,{children:[l.jsx(Ns,{className:"h-4 w-4"}),l.jsxs(Un,{children:[l.jsxs("strong",{children:[D," student",D!==1?"s":""]})," ",D===1?"has":"have"," placed bids for this opportunity.",t&&l.jsx("span",{className:"text-blue-600 font-medium",children:" This is historical data from an archived class."}),(()=>{if(t)return null;const I=new Date,k=j!=null&&j.bidCloseDate?new Date(j.bidCloseDate):null,R=k?I>=k:!1,T=(j==null?void 0:j.capacity)||e.capacity;return D===0?l.jsx("span",{className:"text-gray-600",children:" Waiting for bids..."}):R&&D<=T?l.jsx("span",{className:"text-green-600 font-medium",children:" All bidders will be automatically selected and tokens refunded."}):D>T?l.jsx("span",{className:"text-blue-600 font-medium",children:" Random selection will be required."}):l.jsx("span",{className:"text-yellow-600 font-medium",children:" Bidding still open. Selection type will be determined when bidding closes."})})()]})]}),O.length>0&&l.jsxs("div",{className:"mt-4 p-4 bg-white rounded-md border",children:[l.jsxs("h4",{className:"font-medium text-sm mb-3 flex items-center gap-2",children:[l.jsx(jN,{className:"w-4 h-4"}),"Students Who Have Placed Bids (",O.length,")"]}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:O.map((I,k)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600",children:k+1}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:I.name}),l.jsx("div",{className:"text-xs text-gray-500",children:I.email}),I.studentNumber&&l.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",I.studentNumber]})]})]}),l.jsx("div",{className:"text-right",children:l.jsx(oe,{variant:"outline",className:`text-xs mt-1 ${g.length===0||!g.some(R=>R.id===I.id)?g.length===0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:g.length===0||!g.some(R=>R.id===I.id)?g.length===0?"pending":"rejected":"selected"})})]},I.id))})]}),((W=o[j.id])==null?void 0:W.lastUpdated)&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(o[j.id].lastUpdated).toLocaleTimeString()]})]})]})]}),l.jsx("div",{className:"text-center space-y-6",children:!t&&g.length===0?l.jsx(le,{onClick:C,disabled:f||D===0||!r,size:"lg",className:"px-12 py-6 text-xl font-semibold bg-blue-600 hover:bg-blue-700 shadow-lg",children:f?l.jsxs(l.Fragment,{children:[l.jsx(Je,{className:"w-6 h-6 mr-3 animate-spin"}),"Selecting Students..."]}):l.jsxs(l.Fragment,{children:[l.jsx(_f,{className:"w-6 h-6 mr-3"}),"Start Random Selection"]})}):!t&&g.length>0?l.jsx(le,{onClick:N,variant:"outline",size:"lg",className:"px-12 py-6 text-xl font-semibold",children:"Reset Selection"}):t?l.jsx("div",{className:"text-center py-4",children:l.jsx(oe,{variant:"outline",className:"text-lg px-4 py-2",children:"Archived Class - View Only Mode"})}):null}),l.jsxs(Se,{children:[l.jsx(Ue,{className:"text-center",children:l.jsxs(Be,{className:"text-2xl font-bold flex items-center justify-center gap-2",children:[l.jsx(Ns,{className:"w-6 h-6"}),"Selected Students"]})}),l.jsx(Ce,{children:g.length>0?l.jsxs("div",{className:"space-y-4",children:[g.map(I=>l.jsxs("div",{className:"p-6 bg-green-50 border-2 border-green-200 rounded-lg text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-800 mb-2",children:["🎉 ",I.name]}),l.jsx("div",{className:"text-lg text-green-600 mb-1",children:I.email}),I.studentNumber&&l.jsxs("div",{className:"text-sm text-green-500",children:["Student #: ",I.studentNumber]})]},I.id)),l.jsx("div",{className:"text-center pt-4",children:l.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["🎊 Congratulations! ",g.length," student",g.length!==1?"s have":" has"," been selected!"]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),l.jsx("p",{className:"text-xl text-gray-500 mb-2",children:"No students selected yet"}),l.jsx("p",{className:"text-gray-400",children:'Select an opportunity and click "Start Random Selection" to begin'})]})})]})]})},e4=({currentClass:e,isViewingArchived:t=!1,onSelectionComplete:n})=>{const{toast:r}=Mt(),s=(o,i)=>{const a=localStorage.getItem("classData");if(a)try{const u=JSON.parse(a).map(d=>{if(d.id===(e==null?void 0:e.id)){const f={...d,selectedStudents:o};return i&&d.bidOpportunities&&(f.bidOpportunities=d.bidOpportunities.map(h=>h.id===i?{...h,selectedStudents:o}:h)),f}return d});localStorage.setItem("classData",JSON.stringify(u)),console.log("Selection results saved to localStorage:",{selectedStudents:o,opportunityId:i})}catch(c){console.error("Error updating class data:",c)}n(o,i),r({title:"Selection saved",description:"The selection results have been saved and are now visible to students."})};return e?(!e.bidOpportunities||e.bidOpportunities.length===0)&&e.bidders.length===0?l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsxs("h1",{className:"text-2xl font-heading font-bold mb-6",children:["Selection Process - ",e.className]}),l.jsx(Se,{children:l.jsxs(Ce,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-xl mb-4",children:"No bids available"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"No students have placed a bid for the current reward yet."})]})})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6 text-center",children:[l.jsxs("h1",{className:"text-2xl font-heading font-bold",children:[t?"View Selection Results":"Selection Process"," - ",e.className,t&&l.jsx(oe,{variant:"secondary",className:"ml-2",children:"Archived (Read-only)"})]}),l.jsx("p",{className:"text-muted-foreground",children:t?"View historical bid data and selection results":"Monitor real-time bids and conduct random selection"})]}),l.jsx(ZL,{currentClass:e,isViewingArchived:t,onSelectionComplete:s})]}):l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold mb-6",children:"Selection Process"}),l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Please select a class to run the selection process"})]})};async function t4(e){const{userId:t,opportunityId:n}=e;try{console.log("=== STARTING BID SUBMISSION DEBUG ==="),console.log("User ID:",t),console.log("Opportunity ID:",n),console.log("Supabase client status:",!!Q),console.log("=== STEP 0: FETCH CURRENT STUDENT STATUS ==="),console.log("=== STEP 1: VERIFY OPPORTUNITY EXISTS ===");const{data:r,error:s}=await Q.from("opportunities").select("id, class_id, title, description").eq("id",n).single();if(s)return console.error("Error fetching opportunity:",s),{success:!1,errorMessage:`Opportunity not found: ${s.message}`};console.log("Opportunity found:",r);const{data:o,error:i}=await Q.from("student_enrollments").select("*").eq("user_id",t).eq("class_id",r.class_id).single();i?console.error("Error fetching current enrollment:",i):console.log("Current enrollment before bid:",o),console.log("=== STEP 2: VERIFY STUDENT ENROLLMENT ===");const{data:a,error:c}=await Q.from("student_enrollments").select("*").eq("user_id",t).eq("class_id",r.class_id).single();if(c)return console.error("Error checking enrollment:",c),{success:!1,errorMessage:`Student not enrolled in this class: ${c.message}`};if(console.log("Student enrollment found:",a),a.tokens_remaining<=0)return console.log("No tokens remaining for student"),{success:!1,errorMessage:"No tokens remaining"};console.log("=== STEP 3: CHECK FOR EXISTING BID ===");const{data:u,error:d}=await Q.from("bids").select("id").eq("user_id",t).eq("opportunity_id",n).maybeSingle();if(d)return console.error("Error checking existing bid:",d),{success:!1,errorMessage:`Error checking existing bid: ${d.message}`};if(u)return console.log("Student has already bid on this opportunity"),{success:!1,errorMessage:"You have already placed a bid for this opportunity"};console.log("=== STEP 4: CALLING RPC FUNCTION ===");const{data:f,error:h}=await Q.rpc("submit_student_bid_secure",{p_bid_amount:1,p_user_id:t,p_opportunity_id:n});if(console.log("RPC function result:",f),console.log("RPC function error:",h),h)return console.error("RPC function failed:",h),{success:!1,errorMessage:`Bid submission failed: ${h.message}`};if(!f||!f.success)return console.error("RPC function returned failure:",f),{success:!1,errorMessage:(f==null?void 0:f.error_message)||"Bid submission failed"};console.log("=== STEP 5: FETCH UPDATED DATA ===");const{data:g,error:w}=await Q.from("users").select("*").eq("id",t).single(),{data:p,error:b}=await Q.from("student_enrollments").select("*").eq("user_id",t).eq("class_id",r.class_id).single();if(w||b||!g||!p)return console.error("Error fetching updated data:",w||b),{success:!0,bidId:f.bid_id,timestamp:new Date().toISOString()};console.log("Updated user data:",g),console.log("Updated enrollment data:",p);const y={id:g.id,name:g.name,email:g.email,studentNumber:g.student_number||"",hasUsedToken:p.tokens_remaining<=0,hasBid:p.token_status==="used",tokensRemaining:p.tokens_remaining,tokenStatus:p.token_status,biddingResult:p.bidding_result};return console.log("=== BID SUBMISSION SUCCESSFUL ==="),console.log("Updated student:",y),console.log("Token status changed from",o==null?void 0:o.token_status,"to",p.token_status),console.log("Tokens remaining changed from",o==null?void 0:o.tokens_remaining,"to",p.tokens_remaining),{success:!0,bidId:f.bid_id,updatedStudent:y,timestamp:new Date().toISOString()}}catch(r){return console.error("=== UNEXPECTED ERROR DURING BID SUBMISSION ==="),console.error("Error type:",typeof r),console.error("Error message:",r instanceof Error?r.message:r),console.error("Full error object:",r),{success:!1,errorMessage:r instanceof Error?r.message:"Unexpected error occurred"}}}async function n4(e){const{userId:t,opportunityId:n}=e;try{console.log("=== STARTING BID WITHDRAWAL DEBUG ==="),console.log("User ID:",t),console.log("Opportunity ID:",n),console.log("Supabase client status:",!!Q),console.log("=== STEP 1: VERIFY OPPORTUNITY EXISTS ===");const{data:r,error:s}=await Q.from("opportunities").select("id, class_id, title, description").eq("id",n).single();if(s)return console.error("Error fetching opportunity:",s),{success:!1,errorMessage:`Opportunity not found: ${s.message}`};console.log("Opportunity found:",r),console.log("=== STEP 2: VERIFY BID EXISTS ===");const{data:o,error:i}=await Q.from("bids").select("id").eq("user_id",t).eq("opportunity_id",n).maybeSingle();if(i)return console.error("Error checking existing bid:",i),{success:!1,errorMessage:`Error checking existing bid: ${i.message}`};if(!o)return console.log("No bid found for this user and opportunity"),{success:!1,errorMessage:"No bid found to withdraw"};console.log("=== STEP 3: CALLING WITHDRAW RPC FUNCTION ===");const{data:a,error:c}=await Q.rpc("withdraw_bid_secure",{p_user_id:t,p_opportunity_id:n});if(console.log("RPC function result:",a),console.log("RPC function error:",c),c)return console.error("RPC function failed:",c),{success:!1,errorMessage:`Bid withdrawal failed: ${c.message}`};if(!a||!a.success)return console.error("RPC function returned failure:",a),{success:!1,errorMessage:(a==null?void 0:a.error)||"Bid withdrawal failed"};console.log("=== STEP 4: FETCH UPDATED DATA ===");const{data:u,error:d}=await Q.from("users").select("*").eq("id",t).single(),{data:f,error:h}=await Q.from("student_enrollments").select("*").eq("user_id",t).eq("class_id",r.class_id).single();if(d||h||!u||!f)return console.error("Error fetching updated data:",d||h),{success:!0,timestamp:new Date().toISOString()};console.log("Updated user data:",u),console.log("Updated enrollment data:",f);const g={id:u.id,name:u.name,email:u.email,studentNumber:u.student_number||"",hasUsedToken:f.tokens_remaining<=0,hasBid:f.token_status==="used",tokensRemaining:f.tokens_remaining,tokenStatus:f.token_status,biddingResult:f.bidding_result};return console.log("=== BID WITHDRAWAL SUCCESSFUL ==="),console.log("Updated student:",g),{success:!0,updatedStudent:g,timestamp:new Date().toISOString()}}catch(r){return console.error("=== UNEXPECTED ERROR DURING BID WITHDRAWAL ==="),console.error("Error type:",typeof r),console.error("Error message:",r instanceof Error?r.message:r),console.error("Full error object:",r),{success:!1,errorMessage:r instanceof Error?r.message:"Unexpected error occurred"}}}function r4(e,t,n){console.log("=== SETTING UP REAL-TIME SUBSCRIPTION ==="),console.log("User ID:",e,"Class ID:",t);const r=Q.channel(`user-enrollment-${e}-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"student_enrollments",filter:`user_id=eq.${e}.and.class_id=eq.${t}`},async s=>{var c,u;console.log("=== REAL-TIME ENROLLMENT UPDATE ==="),console.log("Payload:",s),console.log("Previous data:",s.old),console.log("New data:",s.new);const o=s.new,{data:i}=await Q.from("users").select("*").eq("id",e).single(),{data:a}=await Q.from("bids").select(`
            id,
            opportunity_id,
            is_winner,
            bid_status,
            opportunities!inner(class_id)
          `).eq("user_id",e).eq("opportunities.class_id",t);if(i){const d=o.bidding_result,f={id:i.id,name:i.name,email:i.email,studentNumber:i.student_number||"",hasUsedToken:o.tokens_remaining<=0,hasBid:a&&a.length>0||o.token_status==="used",tokensRemaining:o.tokens_remaining,tokenStatus:o.token_status,biddingResult:d};console.log("=== CALLING onUpdate CALLBACK ==="),console.log("Updated student object:",f),console.log("Token status changed:",(c=s.old)==null?void 0:c.token_status,"->",o.token_status),console.log("Bidding result changed:",(u=s.old)==null?void 0:u.bidding_result,"->",overallBiddingResult),n(f)}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"users",filter:`id=eq.${e}`},async s=>{console.log("=== REAL-TIME USER UPDATE ==="),console.log("User payload:",s);const o=s.new,{data:i}=await Q.from("student_enrollments").select("*").eq("user_id",e).eq("class_id",t).single();if(await Q.from("bids").select(`
            id,
            opportunity_id,
            is_winner,
            bid_status,
            opportunities!inner(class_id)
          `).eq("user_id",e).eq("opportunities.class_id",t),i){const a=i.token_status==="used",c={id:o.id,name:o.name,email:o.email,studentNumber:o.student_number||"",hasUsedToken:i.tokens_remaining<=0,hasBid:a,tokensRemaining:i.tokens_remaining,tokenStatus:i.token_status,biddingResult:i.bidding_result};console.log("=== USER UPDATE - CALLING onUpdate ==="),console.log("Updated student from user change:",c),n(c)}}).subscribe();return console.log("=== REAL-TIME SUBSCRIPTION ESTABLISHED ==="),()=>{console.log("=== UNSUBSCRIBING FROM REAL-TIME UPDATES ==="),Q.removeChannel(r)}}const s4=()=>{const[e,t]=m.useState({isSubmitting:!1,isWithdrawing:!1,lastBidResponse:null,lastWithdrawResponse:null,error:null}),{toast:n}=Mt(),r=m.useCallback(async o=>{t(i=>({...i,isSubmitting:!0,error:null}));try{const i=await t4(o);return t(a=>({...a,isSubmitting:!1,lastBidResponse:i,error:i.success?null:i.errorMessage||"Bid submission failed"})),i.success?n({title:"Bid Submitted Successfully",description:"Your token has been used and your bid is recorded"}):n({title:"Bid Submission Failed",description:i.errorMessage||"You may not have permission to bid on this opportunity",variant:"destructive"}),i}catch(i){const a=i instanceof Error?i.message:"Unexpected error";return t(c=>({...c,isSubmitting:!1,error:a})),n({title:"Bid Submission Error",description:a,variant:"destructive"}),{success:!1,errorMessage:a}}},[n]),s=m.useCallback(async o=>{t(i=>({...i,isWithdrawing:!0,error:null}));try{const i=await n4(o);return t(a=>({...a,isWithdrawing:!1,lastWithdrawResponse:i,error:i.success?null:i.errorMessage||"Bid withdrawal failed"})),i.success?n({title:"Bid Withdrawn Successfully",description:"Your bid has been withdrawn and your token has been restored"}):n({title:"Bid Withdrawal Failed",description:i.errorMessage||"Failed to withdraw your bid",variant:"destructive"}),i}catch(i){const a=i instanceof Error?i.message:"Unexpected error";return t(c=>({...c,isWithdrawing:!1,error:a})),n({title:"Bid Withdrawal Error",description:a,variant:"destructive"}),{success:!1,errorMessage:a}}},[n]);return{...e,submitBid:r,withdrawBid:s}},o4=({student:e,classConfig:t,onBidSubmitted:n,onBidWithdrawal:r})=>{const[s,o]=m.useState("opportunity-0"),[i,a]=m.useState(e),[c,u]=m.useState(!1),{isSubmitting:d,isWithdrawing:f,lastBidResponse:h,error:g,submitBid:w,withdrawBid:p}=s4(),b=t.bidOpportunities||[];m.useEffect(()=>{(async()=>{if(!(!(e!=null&&e.id)||!(t!=null&&t.id))){u(!0);try{const{data:_,error:C}=await Q.from("users").select("*").eq("id",e.id).single(),{data:N,error:j}=await Q.from("student_enrollments").select("*").eq("user_id",e.id).eq("class_id",t.id).single();if(N&&_&&!j&&!C){const D=N.token_status==="used",O={id:_.id,name:_.name,email:_.email,studentNumber:_.student_number,hasUsedToken:N.tokens_remaining<=0,hasBid:D,tokensRemaining:N.tokens_remaining,tokenStatus:N.token_status,biddingResult:N.bidding_result};console.log("=== ENHANCED BID CARD STATUS UPDATE ==="),console.log("Database enrollment:",N),console.log("Bidding result from enrollment:",N.bidding_result),console.log("Updated student for bid card:",O),a(O)}}catch(_){console.error("Error fetching student status in bid card:",_)}finally{u(!1)}}})();const S=Q.channel(`student-enrollment-${e.id}-${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"student_enrollments",filter:`user_id=eq.${e.id}.and.class_id=eq.${t.id}`},_=>{console.log("=== BID CARD REAL-TIME UPDATE ==="),console.log("Payload:",_);const C=_.new,N={...e,hasUsedToken:C.tokens_remaining<=0,hasBid:C.token_status==="used",tokensRemaining:C.tokens_remaining,tokenStatus:C.token_status,biddingResult:C.bidding_result};a(N)}).subscribe();return()=>{Q.removeChannel(S)}},[e.id,t.id]),m.useEffect(()=>{a(e)},[e]);const y=async x=>{var N;if(console.log("=== FRONTEND BID SUBMISSION STARTED ==="),console.log("Current student:",i),console.log("Opportunity ID:",x),console.log("Student has used token:",(i==null?void 0:i.hasUsedToken)===!0),!i||i.hasUsedToken===!0)return;const S=b.find(j=>j.id===x);if(!S){Us.error("Opportunity not found");return}if(!Li(S)){Us.error("This opportunity is not currently open for bidding");return}if((N=S.bidders)==null?void 0:N.some(j=>j.id===i.id)){Us.error("You have already placed a bid on this opportunity");return}const C=await w({userId:i.id,opportunityId:x});console.log("=== BID SUBMISSION RESPONSE ==="),console.log("Response:",C),C.success&&C.bidId&&C.updatedStudent?(console.log("=== BID SUBMISSION SUCCESSFUL ==="),console.log("Calling onBidSubmitted callback"),C.updatedStudent&&a(C.updatedStudent),setTimeout(()=>{console.log("=== TRIGGERING ADMIN DASHBOARD REFRESH ==="),window.dispatchEvent(new CustomEvent("bidSubmitted",{detail:{opportunityId:x,studentId:i.id}}))},500),n==null||n(C.bidId,C.updatedStudent||i,x)):(console.log("=== BID SUBMISSION FAILED ==="),console.log("Error:",C.errorMessage))},v=async x=>{var N;if(console.log("=== FRONTEND BID WITHDRAWAL STARTED ==="),console.log("Current student:",i),console.log("Opportunity ID:",x),!i)return;const S=b.find(j=>j.id===x);if(!S){Us.error("Opportunity not found");return}if(!Li(S)){Us.error("Bid withdrawal is only allowed while bidding is still open");return}if(!((N=S.bidders)==null?void 0:N.some(j=>j.id===i.id))){Us.error("No bid found to withdraw");return}const C=await p({userId:i.id,opportunityId:x});console.log("=== BID WITHDRAWAL RESPONSE ==="),console.log("Response:",C),C.success&&C.updatedStudent?(console.log("=== BID WITHDRAWAL SUCCESSFUL ==="),console.log("Calling onBidWithdrawal callback"),a(C.updatedStudent),setTimeout(()=>{console.log("=== TRIGGERING ADMIN DASHBOARD REFRESH ==="),window.dispatchEvent(new CustomEvent("bidWithdrawn",{detail:{opportunityId:x,studentId:i.id}}))},500),r==null||r(C.updatedStudent,x)):(console.log("=== BID WITHDRAWAL FAILED ==="),console.log("Error:",C.errorMessage))};return b.length===0?l.jsxs(Se,{className:"w-full max-w-md",children:[l.jsxs(Ue,{children:[l.jsx(Be,{className:"text-xl font-heading",children:t.rewardTitle}),l.jsx(Is,{children:t.rewardDescription})]}),l.jsx(Ce,{children:l.jsx("p",{className:"text-center py-4",children:"No bid opportunities available at this time."})})]}):l.jsxs(Se,{className:"w-full max-w-md",children:[l.jsx(Ue,{children:l.jsxs(Be,{className:"text-xl font-heading flex items-center gap-2",children:[l.jsx(wa,{className:"w-5 h-5"}),t.rewardTitle]})}),l.jsxs(Ce,{children:[t.isArchived&&l.jsxs(Fn,{className:"mb-4",children:[l.jsx(_g,{className:"h-4 w-4"}),l.jsx(Un,{children:"This class has been archived. You can view your bid history and results, but cannot place new bids or make changes."})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"text-sm font-medium",children:"Your Token Status:"}),c?l.jsx(oe,{variant:"outline",className:"animate-pulse",children:"Loading..."}):(i==null?void 0:i.hasUsedToken)===!0||(i==null?void 0:i.tokenStatus)==="used"?l.jsx(oe,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Token Unavailable"}):l.jsx(oe,{className:"bg-green-100 text-green-800",children:"Token Available"})]}),l.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:(i==null?void 0:i.tokenStatus)==="used"||(i==null?void 0:i.hasUsedToken)===!0?l.jsx(oe,{variant:"secondary",className:"bg-red-100 text-red-800 animate-pulse",children:"Token Used"}):l.jsx(oe,{className:"bg-green-100 text-green-800",children:"Token Available"})}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["User: ",i==null?void 0:i.name," | Status: ",(i==null?void 0:i.tokenStatus)==="used"||(i==null?void 0:i.hasUsedToken)===!0?"Token Used":"Ready to Bid",(i==null?void 0:i.tokensRemaining)!==void 0&&l.jsxs("span",{children:[" | Tokens: ",i.tokensRemaining]}),(i==null?void 0:i.biddingResult)&&i.biddingResult!=="pending"&&l.jsxs("span",{children:[" | Result: ",i.biddingResult==="won"?"Selected":"Not Selected"]})]})]})]}),l.jsxs(aa,{value:s,onValueChange:o,className:"w-full",children:[l.jsx(Uo,{className:"grid grid-cols-5 mb-4",children:b.map((x,S)=>l.jsxs(Zt,{value:`opportunity-${S}`,children:["#",S+1]},x.id))}),b.map((x,S)=>{var j,D,O,Y;const _=(j=x.bidders)==null?void 0:j.some(W=>W.id===(i==null?void 0:i.id));(D=x.selectedStudents)==null||D.some(W=>W.id===(i==null?void 0:i.id));const C=(O=x.bidders)==null?void 0:O.find(W=>W.id===(i==null?void 0:i.id)),N=(i==null?void 0:i.hasUsedToken)!==!0&&er(x)==="Open for Bidding"&&!_;return l.jsx(en,{value:`opportunity-${S}`,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg",children:x.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:x.description})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Event Date:"}),l.jsx("span",{className:"font-medium",children:vn(x.date)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Bidding Opens:"}),l.jsx("span",{className:"font-medium text-green-600",children:x.bidOpenDate?vn(x.bidOpenDate):"Not specified"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Bidding Closes:"}),l.jsx("span",{className:"font-medium text-red-600",children:x.bidCloseDate?vn(x.bidCloseDate):"Not specified"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Status:"}),_?l.jsx("div",{className:"flex items-center gap-2",children:(C==null?void 0:C.bidStatus)==="auto_selected"?l.jsx(oe,{className:"bg-green-500 text-white",children:"🎉 Selected Automatically"}):i.biddingResult==="won"?l.jsx(oe,{className:"bg-green-500 text-white",children:"🎉 Selected"}):i.biddingResult==="lost"?l.jsx(oe,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Not Selected"}):l.jsx(oe,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"Pending Selection"})}):l.jsx(oe,{variant:"outline",className:"text-gray-400",children:"No Bid"})]}),l.jsx("div",{children:(()=>{const W=er(x),I=W==="Open for Bidding"?"default":"secondary";return l.jsx(oe,{variant:I,children:W})})()}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Capacity:"}),l.jsxs(oe,{variant:"outline",children:[x.capacity||t.capacity," students"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Current Bids:"}),l.jsxs(oe,{variant:"outline",children:[((Y=x.bidders)==null?void 0:Y.length)||0," students"]})]}),((C==null?void 0:C.bidStatus)==="auto_selected"||(i==null?void 0:i.biddingResult)==="won")&&_&&l.jsxs(Fn,{children:[l.jsx(Lx,{className:"h-4 w-4"}),l.jsx(Un,{children:(C==null?void 0:C.bidStatus)==="auto_selected"?"🎉 Congratulations! You have been automatically selected for this opportunity and your token has been refunded!":"🎉 Congratulations! You have been selected for this opportunity!"})]}),g&&l.jsxs(Fn,{variant:"destructive",children:[l.jsx(_g,{className:"h-4 w-4"}),l.jsx(Un,{children:g})]}),l.jsx(le,{className:"w-full mt-4",onClick:()=>y(x.id),disabled:!N||d||f||(e==null?void 0:e.tokenStatus)==="used"||t.isArchived,children:d?l.jsxs(l.Fragment,{children:[l.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting Bid..."]}):_?"Bid Already Submitted":t.isArchived?"Class Archived - View Only":(i==null?void 0:i.tokenStatus)==="used"||(i==null?void 0:i.hasUsedToken)===!0?"Token Unavailable":er(x)!=="Open for Bidding"?"Bidding Not Open":"Use Token to Bid"}),_&&Li(x)&&!t.isArchived&&l.jsx(le,{variant:"outline",className:"w-full mt-2",onClick:()=>v(x.id),disabled:d||f,children:f?l.jsxs(l.Fragment,{children:[l.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}),"Withdrawing Bid..."]}):l.jsxs(l.Fragment,{children:[l.jsx(NN,{className:"w-4 h-4 mr-2"}),"Withdraw Bid Submission"]})})]})},x.id)})]})]})]})},i4=({classes:e,currentClass:t,onSelectClass:n,isCollapsed:r=!1,currentStudent:s})=>{const[o,i]=m.useState(null);return l.jsx("div",{className:re("fixed left-0 top-16 h-[calc(100vh-64px)] bg-white border-r border-gray-200 shadow-sm transition-all duration-300 z-40",r?"w-16":"w-80"),children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsx("div",{className:"flex items-center justify-between",children:!r&&l.jsx("h2",{className:"text-lg font-heading font-semibold text-gray-900",children:"My Classes"})})}),l.jsx(Om,{className:"flex-1 p-2",children:l.jsx("div",{className:"space-y-2",children:e.length===0?l.jsx("div",{className:re("text-center py-8",r&&"px-2"),children:r?l.jsx(Zl,{className:"w-6 h-6 mx-auto text-gray-400"}):l.jsxs(l.Fragment,{children:[l.jsx(Zl,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No classes enrolled"}),l.jsx("p",{className:"text-xs text-gray-400",children:"Contact your instructor to get enrolled"})]})}):e.map(a=>{var h,g,w;const c=((h=a.bidOpportunities)==null?void 0:h.length)||0,u=((g=a.bidOpportunities)==null?void 0:g.filter(p=>Li(p)).length)||0,d=a.students.find(p=>p.id===(s==null?void 0:s.id)),f=(d==null?void 0:d.hasUsedToken)===!0||(d==null?void 0:d.tokenStatus)==="used";return l.jsx(Se,{className:re("cursor-pointer transition-all duration-200 hover:shadow-md",(t==null?void 0:t.id)===a.id?"border-academy-blue bg-academy-blue/5 shadow-sm":"border-gray-200 hover:border-gray-300",r&&"p-2"),onClick:()=>n(a.id),onMouseEnter:()=>i(a.id),onMouseLeave:()=>i(null),children:r?l.jsx("div",{className:"flex items-center justify-center p-2",children:l.jsx("div",{className:"w-8 h-8 rounded-full bg-academy-blue/10 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-semibold text-academy-blue",children:a.className.charAt(0).toUpperCase()})})}):l.jsxs(l.Fragment,{children:[l.jsxs(Ue,{className:"pb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Be,{className:"text-base font-semibold text-gray-900 truncate",children:[a.className,a.isArchived&&l.jsx(oe,{variant:"secondary",className:"ml-2 text-xs",children:"Archived"})]}),(t==null?void 0:t.id)===a.id&&l.jsx(Xh,{className:"w-4 h-4 text-academy-blue"})]}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:a.rewardTitle})]}),l.jsx(Ce,{className:"pt-0",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ix,{className:"w-3 h-3 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Opportunities"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(oe,{variant:"outline",className:"text-xs px-1 py-0",children:c}),u>0&&l.jsxs(oe,{className:"text-xs px-1 py-0 bg-green-500",children:[u," open"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(wa,{className:"w-3 h-3 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Token"})]}),l.jsx(oe,{variant:f?"secondary":"default",className:`text-xs px-1 py-0 ${f?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:f?"Used":"Available"})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ns,{className:"w-3 h-3 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Students"})]}),l.jsx(oe,{variant:"outline",className:"text-xs px-1 py-0",children:((w=a.students)==null?void 0:w.length)||0})]})]})})]})},a.id)})})}),!r&&l.jsx("div",{className:"p-4 border-t border-gray-100",children:l.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[e.length," ",e.length===1?"class":"classes"," enrolled"]})})]})})},z1=({onBidSubmitted:e,onBidWithdrawal:t}={})=>{var C,N,j,D,O,Y,W,I;const{toast:n}=Mt(),r=Gc(),s=Yc(),o=((C=s.state)==null?void 0:C.student)||null,i=((N=s.state)==null?void 0:N.classes)||[],[a,c]=m.useState(o),[u,d]=m.useState(i),[f,h]=m.useState(i.length>0?i[0]:null),[g,w]=m.useState(!1),[p,b]=m.useState(!1);m.useEffect(()=>{if(!(a!=null&&a.id)||!(f!=null&&f.id)){console.log("Skipping real-time subscription setup: student or currentClass not ready.");return}return console.log("=== SETTING UP REAL-TIME SUBSCRIPTION ==="),console.log("Student ID:",a.id,"Class ID:",f.id),(async()=>{b(!0);try{const{data:T,error:P}=await Q.from("users").select("*").eq("id",a.id).single(),{data:E,error:A}=await Q.from("student_enrollments").select("*").eq("user_id",a.id).eq("class_id",f.id).single();if(E&&T&&!A&&!P){const F=E.token_status==="used",L={id:T.id,name:T.name,email:T.email,studentNumber:T.student_number,hasUsedToken:E.tokens_remaining<=0,hasBid:F,tokensRemaining:E.tokens_remaining,tokenStatus:E.token_status,biddingResult:E.bidding_result};console.log("=== INITIAL STATUS FETCH ==="),console.log("Database enrollment:",E),console.log("Bidding result from enrollment table:",E.bidding_result),console.log("Updated student:",L),c(L),h(B=>B&&{...B,students:B.students.map(z=>z.id===L.id?L:z)})}}catch(T){console.error("Error fetching initial status:",T)}finally{b(!1)}})(),r4(a.id,f.id,async T=>{console.log("=== REAL-TIME UPDATE RECEIVED ==="),console.log("Updated student data:",T),console.log("Bidding result from real-time update:",T.biddingResult),console.log("Token status:",T.tokenStatus),console.log("Tokens remaining:",T.tokensRemaining),T.hasBid=T.tokenStatus==="used";const P=a,E=(P==null?void 0:P.tokenStatus)!==T.tokenStatus,A=(P==null?void 0:P.biddingResult)!==T.biddingResult;if(console.log("=== BIDDING RESULT COMPARISON ==="),console.log("Previous bidding result:",P==null?void 0:P.biddingResult),console.log("New bidding result:",T.biddingResult),console.log("Bidding result changed:",A),console.log("=== UPDATING STUDENT STATE ==="),c(T),h(F=>{if(!F)return F;const L=F.bidOpportunities.map(B=>{let z=[...B.selectedStudents];B.bidders.some(ne=>ne.id===T.id)&&(T.biddingResult==="won"?z.some(ne=>ne.id===T.id)||z.push(T):(T.biddingResult==="lost"||T.biddingResult==="pending")&&(z=z.filter(ne=>ne.id!==T.id)));const ge=B.bidders.map(ne=>ne.id===T.id?T:ne);return{...B,selectedStudents:z,bidders:ge}});return{...F,students:F.students.map(B=>B.id===T.id?T:B),bidders:F.bidders.map(B=>B.id===T.id?T:B),selectedStudents:F.selectedStudents.map(B=>B.id===T.id?T:B),bidOpportunities:L}}),d(F=>F.map(L=>L.id===f.id?{...L,students:L.students.map(B=>B.id===T.id?T:B),bidders:L.bidders.map(B=>B.id===T.id?T:B),selectedStudents:L.selectedStudents.map(B=>B.id===T.id?T:B),bidOpportunities:L.bidOpportunities.map(B=>{let z=[...B.selectedStudents];B.bidders.some(ne=>ne.id===T.id)&&(T.biddingResult==="won"?z.some(ne=>ne.id===T.id)||z.push(T):(T.biddingResult==="lost"||T.biddingResult==="pending")&&(z=z.filter(ne=>ne.id!==T.id)));const ge=B.bidders.map(ne=>ne.id===T.id?T:ne);return{...B,selectedStudents:z,bidders:ge}})}:L)),E&&T.tokenStatus==="used"&&n({title:"Token Status Updated",description:"Your token has been used for bidding. You can now see your bid status."}),A&&T.biddingResult!=="pending"){console.log("=== BIDDING RESULT CHANGED ==="),console.log("Previous result:",P==null?void 0:P.biddingResult),console.log("New result:",T.biddingResult);const F=T.biddingResult==="won"?"🎉 Congratulations! You have been selected for the opportunity!":"Unfortunately, you were not selected this time. Better luck next time!";n({title:"Bidding Result Updated",description:F,duration:T.biddingResult==="won"?1e4:5e3})}})},[a==null?void 0:a.id,f==null?void 0:f.id,n]);const y=k=>{const R=u.find(T=>T.id===k);R&&h(R)};if(!a||u.length===0)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold mb-6",children:"Student Dashboard"}),l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Please log in to view your dashboard"}),l.jsx("div",{className:"flex justify-center",children:l.jsx(le,{onClick:()=>r("/"),children:"Back to Login"})})]})});const v=(k,R,T)=>{if(c(R),f){const P={...f,students:f.students.map(E=>E.id===R.id?R:E),bidders:f.bidders.some(E=>E.id===R.id)?f.bidders.map(E=>E.id===R.id?R:E):[...f.bidders,R],bidOpportunities:f.bidOpportunities.map(E=>{if(E.id===T){const A=E.bidders.some(F=>F.id===R.id)?E.bidders.map(F=>F.id===R.id?R:F):[...E.bidders,R];return{...E,bidders:A}}return E})};h(P),d(E=>E.map(A=>A.id===f.id?P:A))}e&&e(k,R,T),n({title:"Bid placed successfully",description:"You have placed a bid for the opportunity."})},x=(k,R)=>{if(c(k),f){const T={...f,students:f.students.map(P=>P.id===k.id?k:P),bidders:f.bidders.filter(P=>P.id!==k.id),bidOpportunities:f.bidOpportunities.map(P=>P.id===R?{...P,bidders:P.bidders.filter(E=>E.id!==k.id),selectedStudents:P.selectedStudents.filter(E=>E.id!==k.id)}:P)};h(T),d(P=>P.map(E=>E.id===f.id?T:E))}t&&t(k,R),n({title:"Bid withdrawn successfully",description:"Your bid has been withdrawn and your token has been restored."})},S=()=>{r("/")},_=(j=f==null?void 0:f.bidOpportunities)==null?void 0:j.find(k=>k.bidders&&k.bidders.some(R=>R.id===a.id));return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white border-b relative z-50",children:l.jsxs("div",{className:"container mx-auto p-4 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(le,{variant:"ghost",size:"icon",onClick:()=>w(!g),className:"md:hidden",children:g?l.jsx($x,{className:"w-5 h-5"}):l.jsx(Ic,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-2xl font-heading font-bold text-academy-blue mb-4 md:mb-0",children:"Student Dashboard"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",a.name]}),l.jsx(le,{variant:"outline",onClick:S,children:"Logout"})]})]})}),l.jsx(i4,{classes:u,currentClass:f,onSelectClass:y,isCollapsed:g,currentStudent:a}),l.jsx("main",{className:`min-h-[calc(100vh-64px)] transition-all duration-300 ${g?"ml-16":"ml-80"}`,children:l.jsx("div",{className:"container mx-auto p-4 max-w-6xl",children:f?l.jsxs(aa,{defaultValue:"overview",className:"space-y-6",children:[l.jsxs(Uo,{className:"grid grid-cols-3 mb-6",children:[l.jsx(Zt,{value:"overview",children:"Overview"}),l.jsx(Zt,{value:"opportunities",children:"Opportunities"}),l.jsx(Zt,{value:"profile",children:"Profile"})]}),l.jsx(en,{value:"overview",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Se,{children:[l.jsxs(Ue,{children:[l.jsx(Be,{className:"text-xl font-heading",children:f.className}),f.isArchived&&l.jsx(oe,{variant:"secondary",className:"w-fit mt-2",children:"Archived (View-only)"})]}),l.jsx(Ce,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-700",children:((D=f.students)==null?void 0:D.length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Students"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-academy-blue",children:((O=f.bidOpportunities)==null?void 0:O.length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Opportunities"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:((Y=f.bidOpportunities)==null?void 0:Y.filter(k=>Li(k)).length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Open for Bidding"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.tokenStatus)==="used"||(a==null?void 0:a.hasUsedToken)===!0?l.jsx("span",{className:"text-red-600",children:"0"}):l.jsx("span",{className:"text-green-600",children:"1"})}),l.jsx("div",{className:"text-sm text-gray-600",children:"Tokens Available"})]})]})})]}),l.jsxs(Se,{children:[l.jsx(Ue,{children:l.jsxs(Be,{className:"text-lg font-heading flex items-center gap-2",children:[l.jsx(wa,{className:"w-5 h-5"}),"Token Status"]})}),l.jsxs(Ce,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Your bidding token:"}),(a==null?void 0:a.tokenStatus)==="used"||(a==null?void 0:a.hasUsedToken)===!0?l.jsx(oe,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Token Used"}):l.jsx(oe,{className:"bg-academy-blue animate-pulse",children:"Token Available"})]}),_&&(a==null?void 0:a.biddingResult)&&l.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[l.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[l.jsx(_f,{className:"w-4 h-4"}),"Your Bid Status"]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[l.jsx("div",{className:"font-medium",children:"Event"}),l.jsx("div",{className:"font-medium",children:"Status"}),l.jsx("div",{className:"font-medium",children:"Result"}),l.jsx("div",{children:_.title}),l.jsx("div",{children:l.jsx(oe,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800",children:"Bid Submitted"})}),l.jsx("div",{children:(()=>{var R;const k=(R=_==null?void 0:_.bidders)==null?void 0:R.find(T=>T.id===a.id);return(k==null?void 0:k.bidStatus)==="auto_selected"?l.jsx(oe,{variant:"default",className:"bg-green-500 text-white text-xs animate-bounce",children:"🎉 Selected Automatically"}):a.biddingResult==="won"?l.jsx(oe,{variant:"default",className:"bg-green-500 text-white text-xs animate-bounce",children:"🎉 Selected"}):a.biddingResult==="lost"?l.jsx(oe,{variant:"secondary",className:"bg-red-100 text-red-800 text-xs",children:"Not Selected"}):l.jsx(oe,{variant:"outline",className:"bg-yellow-100 text-yellow-800 text-xs animate-pulse",children:"Pending Selection"})})()})]}),l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:l.jsxs("div",{className:"text-xs text-gray-600",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Token Status:"}),l.jsx("span",{className:a.tokenStatus==="used"?"text-red-600 font-medium":"text-green-600 font-medium",children:a.tokenStatus==="used"?"Used":"Available"})]}),a.tokensRemaining!==void 0&&l.jsxs("div",{className:"flex justify-between mt-1",children:[l.jsx("span",{children:"Tokens Remaining:"}),l.jsx("span",{className:"font-medium",children:a.tokensRemaining})]}),(()=>{var R;const k=(R=_==null?void 0:_.bidders)==null?void 0:R.find(T=>T.id===a.id);return(k==null?void 0:k.bidStatus)==="selected automatically"?l.jsxs("div",{className:"flex justify-between mt-1",children:[l.jsx("span",{children:"Selection Type:"}),l.jsx("span",{className:"font-medium text-green-600",children:"Automatic (Token Refunded)"})]}):null})()]})})]})]})]}),l.jsxs(Se,{children:[l.jsx(Ue,{children:l.jsxs(Be,{className:"text-lg font-heading flex items-center gap-2",children:[l.jsx(Ix,{className:"w-5 h-5"}),"Recent Opportunities"]})}),l.jsx(Ce,{children:l.jsx("div",{className:"space-y-3 max-h-72 overflow-y-auto",children:((W=f.bidOpportunities)==null?void 0:W.slice(0,5).map(k=>l.jsxs("div",{className:"p-3 border rounded-md flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:k.title}),l.jsx("div",{className:"text-sm text-muted-foreground",children:vn(k.date)})]}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx(oe,{variant:er(k)==="Open for Bidding"?"default":"secondary",className:"mb-1",children:er(k)}),k.bidders&&k.bidders.some(R=>R.id===a.id)&&l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("span",{className:"text-xs text-academy-blue font-medium",children:"✓ Bid Submitted"}),(()=>{var T;const R=(T=k.bidders)==null?void 0:T.find(P=>P.id===a.id);return(R==null?void 0:R.bidStatus)==="auto_selected"?l.jsx(oe,{className:"text-xs bg-green-500 text-white",children:"🎉 Selected Automatically"}):a.biddingResult&&a.biddingResult!=="pending"?l.jsx(oe,{variant:a.biddingResult==="won"?"default":"secondary",className:`text-xs ${a.biddingResult==="won"?"bg-green-500 text-white":"bg-red-100 text-red-800"}`,children:a.biddingResult==="won"?"🎉 Selected":"Not Selected"}):null})()]})]})]},k.id)))||l.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No opportunities available yet"})})})]})]})}),l.jsx(en,{value:"opportunities",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(o4,{student:a,classConfig:f,onBidSubmitted:v,onBidWithdrawal:x}),l.jsxs(Se,{children:[l.jsxs(Ue,{children:[l.jsx(Be,{className:"text-lg font-heading",children:"All Opportunities"}),l.jsx(Is,{children:"Complete list of bidding opportunities for this class"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:((I=f.bidOpportunities)==null?void 0:I.map(k=>l.jsxs("div",{className:"p-4 border rounded-md",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"font-medium",children:k.title}),l.jsx(oe,{variant:er(k)==="Open for Bidding"?"default":"secondary",children:er(k)})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:k.description}),l.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[l.jsxs("span",{children:["Event: ",vn(k.date)]}),l.jsxs("span",{children:["Capacity: ",k.capacity||f.capacity," students"]})]}),k.bidders&&k.bidders.some(R=>R.id===a.id)&&l.jsx("div",{className:"mt-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oe,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800",children:"Bid Submitted"}),(()=>{var T;const R=(T=k.bidders)==null?void 0:T.find(P=>P.id===a.id);return(R==null?void 0:R.bidStatus)==="auto_selected"?l.jsx(oe,{className:"text-xs bg-green-500 text-white",children:"🎉 Selected Automatically"}):a.biddingResult&&a.biddingResult!=="pending"?l.jsx(oe,{variant:a.biddingResult==="won"?"default":"secondary",className:`text-xs ${a.biddingResult==="won"?"bg-green-500 text-white":"bg-red-100 text-red-800"}`,children:a.biddingResult==="won"?"🎉 Selected":"Not Selected"}):null})()]})})]},k.id)))||l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No opportunities available yet"})})})]})]})}),l.jsx(en,{value:"profile",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(Se,{children:[l.jsx(Ue,{children:l.jsx(Be,{className:"text-lg font-heading",children:"Your Information"})}),l.jsx(Ce,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Name:"}),l.jsx("div",{className:"col-span-2 font-medium",children:a.name})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Email:"}),l.jsx("div",{className:"col-span-2",children:a.email})]}),a.studentNumber&&l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Student Number:"}),l.jsx("div",{className:"col-span-2",children:a.studentNumber})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Classes Enrolled:"}),l.jsx("div",{className:"col-span-2",children:u.length})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Token Status:"}),l.jsx("div",{className:"col-span-2",children:l.jsx(oe,{variant:(a==null?void 0:a.tokenStatus)==="used"?"secondary":"default",className:`text-xs ${(a==null?void 0:a.tokenStatus)==="used"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:(a==null?void 0:a.tokenStatus)==="used"?"Token Used":"Token Available"})})]})]})})]}),l.jsxs(Se,{children:[l.jsx(Ue,{children:l.jsx(Be,{className:"text-lg font-heading",children:"Class Summary"})}),l.jsx(Ce,{children:l.jsx("div",{className:"space-y-4",children:u.map(k=>{var T,P;const R=k.students.find(E=>E.id===a.id);return l.jsxs("div",{className:"p-3 border rounded-md",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"font-medium",children:k.className}),l.jsx(oe,{variant:(R==null?void 0:R.tokenStatus)==="used"||(R==null?void 0:R.hasUsedToken)===!0?"secondary":"default",children:(R==null?void 0:R.tokenStatus)==="used"||(R==null?void 0:R.hasUsedToken)===!0?"Token Used":"Token Available"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[((T=k.bidOpportunities)==null?void 0:T.length)||0," opportunities •",((P=k.bidders)==null?void 0:P.filter(E=>E.id===a.id).length)||0," bids placed",void 0]})]},k.id)})})})]})]})})]}):l.jsx(Se,{children:l.jsxs(Ce,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-xl mb-4",children:"No Class Selected"}),l.jsx("p",{className:"text-muted-foreground",children:"Select a class from the sidebar to view its details and opportunities."})]})})})})]})};function a4(){const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[s,o]=m.useState(null),[i,a]=m.useState(null),[c,u]=m.useState([]),[d,f]=m.useState([]),[h,g]=m.useState(!1),[w,p]=m.useState("dashboard"),[b,y]=m.useState(!0),[v,x]=m.useState(!1),[S,_]=m.useState(!1),[C,N]=m.useState(""),[j,D]=m.useState(!1),{toast:O}=Mt();m.useEffect(()=>{localStorage.getItem("adminSession")==="true"&&t(!0)},[]),m.useEffect(()=>{(async()=>{try{y(!0);const H=await br(!1),K=await br(!0);u(H),f(K);const q=localStorage.getItem("currentClassId");if(q){const J=H.find(X=>X.id===q)||K.find(X=>X.id===q);J?a(J):localStorage.removeItem("currentClassId")}else H.length>0&&a(H[0])}catch(H){console.error("Error loading classes:",H);try{console.log("Attempting to load from localStorage as fallback");const K=localStorage.getItem("classData");if(K){const q=JSON.parse(K),J=q.filter(_e=>!_e.isArchived),X=q.filter(_e=>_e.isArchived);u(J),f(X);const je=localStorage.getItem("currentClassId");if(je){const _e=q.find(Qe=>Qe.id===je);_e&&a(_e)}else J.length>0&&a(J[0]);O({title:"Working offline",description:"Using locally stored data. Some features may be limited.",variant:"default"})}else O({title:"No data available",description:"Please ensure Supabase is configured or create a new class to get started.",variant:"destructive"})}catch(K){console.error("Error loading from localStorage:",K),O({title:"Error loading data",description:"Failed to load classes from database and local storage. Please check your connection.",variant:"destructive"})}}finally{y(!1)}})()},[O]),m.useEffect(()=>{i?localStorage.setItem("currentClassId",i.id):localStorage.removeItem("currentClassId")},[i]);const Y=M=>{M&&(t(!0),localStorage.setItem("adminSession","true"))},W=()=>{t(!1),r(!1),o(null),a(null),localStorage.removeItem("adminSession")},I=M=>{const H=c.find(K=>K.id===M)||d.find(K=>K.id===M);H&&a(H)},k=M=>{g(M),M?d.length>0?a(d[0]):a(null):c.length>0?a(c[0]):a(null)},R=()=>{_(!0)},T=async()=>{if(!C){O({title:"Missing information",description:"Please provide a class name",variant:"destructive"});return}D(!0);try{const M=await zM({name:C,rewardTitle:"Bidding Opportunities",capacity:7}),H=[...c,M];u(H),a(M),_(!1),N("");const K=[...H,...d];localStorage.setItem("classData",JSON.stringify(K)),O({title:"Class created successfully",description:`Class "${C}" has been created and saved to the database`})}catch(M){console.error("Error creating class:",M),O({title:"Failed to create class",description:M instanceof Error?M.message:"An unexpected error occurred",variant:"destructive"})}finally{D(!1)}},P=M=>{if(!i)return;const H={...i,students:M},K=c.map(q=>q.id===i.id?H:q);u(K),a(H),localStorage.setItem("classData",JSON.stringify(K))},E=async(M,H)=>{if(i){console.log("=== HANDLING SELECTION COMPLETE ==="),console.log("Selected students:",M),console.log("Opportunity ID:",H);try{const K=await br();u(K);const q=K.find(J=>J.id===i.id);q&&a(q),localStorage.setItem("classData",JSON.stringify(K)),M.length>0?O({title:"Selection saved",description:`${M.length} student${M.length!==1?"s have":" has"} been selected and results are now visible to students.`}):O({title:"Selection reset",description:"All selections have been cleared and student results reset."})}catch(K){console.error("Error refreshing classes after selection:",K),O({title:"Error updating display",description:"Selection was processed but failed to refresh display. Please refresh the page.",variant:"destructive"})}}},A=async(M,H)=>{if(!i)return;const K=i.bidOpportunities.map(X=>X.id===M?H:X),q={...i,bidOpportunities:K},J=c.map(X=>X.id===i.id?q:X);u(J),a(q),localStorage.setItem("classData",JSON.stringify(J))},F=M=>{if(!i)return;const H={...i,bidOpportunities:[...i.bidOpportunities,M]},K=c.map(q=>q.id===i.id?H:q);u(K),a(H),localStorage.setItem("classData",JSON.stringify(K))},L=M=>{if(!i)return;const H=i.bidOpportunities.filter(J=>J.id!==M),K={...i,bidOpportunities:H},q=c.map(J=>J.id===i.id?K:J);u(q),a(K),localStorage.setItem("classData",JSON.stringify(q))},B=async(M,H,K)=>{if(!(!i||!s))try{const q=await br(),J=q.find(X=>X.id===i.id);if(J){const X=J.students.map(se=>se.id===H.id?H:se),je=J.bidOpportunities.map(se=>{if(se.id===K){const be=se.bidders.some(Ye=>Ye.id===H.id)?se.bidders:[...se.bidders,H];return{...se,bidders:be}}return se}),Qe=J.bidders.some(se=>se.id===H.id)?J.bidders:[...J.bidders,H],ve={...J,students:X,bidders:Qe,bidOpportunities:je},U=q.map(se=>se.id===i.id?ve:se);u(U),a(ve),o(H),localStorage.setItem("classData",JSON.stringify(U))}}catch(q){console.error("Error refreshing class data after bid:",q);const J=i.students.map(U=>U.id===H.id?H:U),X=i.bidOpportunities.map(U=>{if(U.id===K){const pe=U.bidders.some(be=>be.id===H.id)?U.bidders:[...U.bidders,H];return{...U,bidders:pe}}return U}),_e=i.bidders.some(U=>U.id===H.id)?i.bidders:[...i.bidders,H],Qe={...i,students:J,bidders:_e,bidOpportunities:X},ve=c.map(U=>U.id===i.id?Qe:U);u(ve),a(Qe),localStorage.setItem("classData",JSON.stringify(ve))}},z=(M,H,K)=>{if(!i||!s)return;const q=i.students.map(ve=>ve.id===H.id?H:ve),J=i.bidOpportunities.map(ve=>{if(ve.id===K){const U=ve.bidders.filter(se=>se.id!==H.id);return{...ve,bidders:U}}return ve}),je=H.bids.length>0?i.bidders:i.bidders.filter(ve=>ve.id!==H.id),_e={...i,students:q,bidders:je,bidOpportunities:J},Qe=c.map(ve=>ve.id===i.id?_e:ve);u(Qe),a(_e),o(H),localStorage.setItem("classData",JSON.stringify(Qe))},te=async(M,H)=>{try{await GM(M,H);const K=await br(!1),q=await br(!0);u(K),f(q);const J=[...K,...q];if(localStorage.setItem("classData",JSON.stringify(J)),i&&i.id===M)if(H)a(K.length>0?K[0]:null);else{const X=K.find(je=>je.id===M);X&&(a(X),g(!1))}O({title:H?"Class archived":"Class unarchived",description:`The class has been ${H?"archived":"unarchived"} successfully`})}catch(K){console.error("Error updating class archive status:",K),O({title:"Error",description:K instanceof Error?K.message:"Failed to update class archive status",variant:"destructive"})}},ge=async M=>{const H=c.find(q=>q.id===M);if(!H){console.log("=== CLASS NOT FOUND IN LOCAL STATE ==="),console.log("Class ID:",M),console.log("Available classes:",c.map(q=>({id:q.id,name:q.className}))),O({title:"Class not found",description:"The class to delete could not be found",variant:"destructive"});return}if(console.log("=== SHOWING CONFIRMATION DIALOG ==="),console.log("Class to delete:",{id:H.id,name:H.className}),!window.confirm(`Are you sure you want to delete "${H.className}"? This action cannot be undone and will remove all associated data including students, bids, and opportunities.`)){console.log("=== USER CANCELLED DELETION ===");return}console.log("=== USER CONFIRMED DELETION ==="),console.log("Starting deletion process for class:",M);try{console.log("=== CALLING deleteClassAtomic FUNCTION ===");const q=await WM(M);if(console.log("=== deleteClassAtomic RESULT ==="),console.log("Result:",q),q.success){console.log("=== DELETION SUCCESSFUL - UPDATING UI ===");const J=c.filter(X=>X.id!==M);console.log("Updated classes count:",J.length),u(J),i&&i.id===M&&(console.log("=== DELETED CURRENT CLASS - SELECTING NEW ONE ==="),a(J.length>0?J[0]:null)),localStorage.setItem("classData",JSON.stringify(J)),console.log("=== STARTING ORPHANED USER CLEANUP ===");try{const X=await _A();X.success?X.deletedCount>0?O({title:"Class and users cleaned up",description:`${q.className} deleted and ${X.deletedCount} orphaned user${X.deletedCount!==1?"s":""} removed`}):O({title:"Class deleted successfully",description:`${q.className} and ${Object.values(q.deletedRecords).reduce((je,_e)=>je+_e,0)} related records have been removed`}):O({title:"Class deleted, cleanup warning",description:`${q.className} deleted but orphaned user cleanup failed: ${X.message}`,variant:"destructive"})}catch(X){console.error("Error during orphaned user cleanup:",X),O({title:"Class deleted, cleanup error",description:`${q.className} deleted but orphaned user cleanup encountered an error`,variant:"destructive"})}}else console.log("=== DELETION FAILED ==="),console.log("Error:",q.error),O({title:"Class deletion failed",description:q.error||"Failed to delete the class and its associated data.",variant:"destructive"})}catch(q){console.error("=== UNEXPECTED ERROR DURING CLASS DELETION ==="),console.error("Error type:",typeof q),console.error("Error message:",q instanceof Error?q.message:q),console.error("Full error object:",q),O({title:"Class deletion failed",description:q instanceof Error?q.message:"An unexpected error occurred",variant:"destructive"})}finally{console.log("=== CLASS DELETION PROCESS COMPLETED ===")}},ne=async(M,H)=>{try{await YM(M,{password:H});const K=c.map(J=>J.id===M?{...J,password:H}:J);u(K),i&&i.id===M&&a({...i,password:H});const q=[...K,...d];localStorage.setItem("classData",JSON.stringify(q)),O({title:"Password updated successfully",description:"The class password has been updated in the database"})}catch(K){console.error("Error updating password:",K),O({title:"Failed to update password",description:K instanceof Error?K.message:"An unexpected error occurred",variant:"destructive"})}};return b?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Je,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-heading font-semibold mb-2",children:"Loading..."}),l.jsx("p",{className:"text-muted-foreground",children:"Fetching data from database"})]})}):e?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white border-b relative z-50",children:l.jsxs("div",{className:"container mx-auto p-4 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(le,{variant:"ghost",size:"icon",onClick:()=>x(!v),className:"md:hidden",children:v?l.jsx($x,{className:"w-5 h-5"}):l.jsx(Ic,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-2xl font-heading font-bold text-academy-blue mb-4 md:mb-0",children:"Token Bidding Platform - Admin"})]}),l.jsx(le,{variant:"outline",onClick:W,children:"Logout"})]})}),l.jsx(BA,{classes:c,archivedClasses:d,currentClass:i,onSelectClass:I,onCreateClass:R,isCollapsed:v,viewArchivedClasses:h,onToggleArchiveView:k,onUnarchiveClass:te}),l.jsx("main",{className:`min-h-[calc(100vh-64px)] transition-all duration-300 ${v?"ml-16":"ml-80"}`,children:l.jsx("div",{className:"container mx-auto p-4",children:l.jsxs(aa,{value:w,onValueChange:p,children:[l.jsxs(Uo,{className:"grid grid-cols-4 mb-6",children:[l.jsx(Zt,{value:"dashboard",children:"Dashboard"}),l.jsx(Zt,{value:"students",children:"Students"}),l.jsx(Zt,{value:"selection",children:"Selection"})]}),l.jsx(en,{value:"dashboard",children:l.jsx(tL,{classes:c,archivedClasses:d,currentClass:i,isViewingArchived:h,onSelectClass:I,onCreateClass:R,onUpdateOpportunity:A,onRemoveClass:ge,onChangePassword:ne,onArchiveClass:te,onOpportunityCreated:F,onOpportunityDeleted:L})}),l.jsx(en,{value:"students",children:l.jsx(bL,{currentClass:i,isViewingArchived:h,onUpdateStudents:P})}),l.jsx(en,{value:"selection",children:l.jsx(e4,{currentClass:i,isViewingArchived:h,onSelectionComplete:E})})]})})}),l.jsx(Sm,{open:S,onOpenChange:_,children:l.jsxs(eu,{children:[l.jsxs(tu,{children:[l.jsx(ru,{children:"Create New Class"}),l.jsx(su,{children:"Enter the class name to create a new class."})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"className",children:"Class Name"}),l.jsx(_t,{id:"className",value:C,onChange:M=>N(M.target.value),placeholder:"e.g., Economics 101",disabled:j})]})}),l.jsxs(nu,{children:[l.jsx(le,{variant:"outline",onClick:()=>_(!1),disabled:j,children:"Cancel"}),l.jsx(le,{onClick:T,disabled:j,children:j?l.jsxs(l.Fragment,{children:[l.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Class"})]})]})})]}):n&&s&&i?l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsx(z1,{student:s,classConfig:i,onBidSubmitted:B,onBidWithdrawal:z,onLogout:W})}):l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-4xl",children:[l.jsx("div",{className:"text-center mb-8",children:l.jsx("h1",{className:"text-3xl md:text-4xl font-heading font-bold text-academy-blue mb-3",children:"Token Bidding Platform"})}),l.jsxs(aa,{defaultValue:"student",className:"w-full",children:[l.jsxs(Uo,{className:"grid grid-cols-2 mb-8",children:[l.jsx(Zt,{value:"student",children:"Student Login"}),l.jsx(Zt,{value:"admin",children:"Admin Login"})]}),l.jsx(en,{value:"student",className:"flex justify-center",children:l.jsx(CA,{classes:[...c,...d],onLogin:()=>{}})}),l.jsx(en,{value:"admin",className:"flex justify-center",children:l.jsx(eO,{onLogin:Y})})]})]})}),l.jsx("footer",{className:"border-t bg-white py-4 text-center text-sm text-muted-foreground",children:l.jsx("div",{className:"container mx-auto",children:"Token Bidding Platform"})})]})}const l4=()=>{const e=Yc();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},c4=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(""),[s,o]=m.useState(""),[i,a]=m.useState(!1),{toast:c}=Mt(),u=Gc(),d=async f=>{if(f.preventDefault(),!e||!n||!s){c({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}if(n!==s){c({title:"Password mismatch",description:"Passwords do not match",variant:"destructive"});return}if(n.length<8){c({title:"Password too short",description:"Password must be at least 8 characters long",variant:"destructive"});return}if(!/^[a-zA-Z0-9_]{3,50}$/.test(e)){c({title:"Invalid username",description:"Username must be 3-50 characters and contain only letters, numbers, and underscores",variant:"destructive"});return}a(!0);try{const g=await(await fetch("https://ttdbvnmuwwzayzzbosyi.supabase.co/functions/v1/register-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0ZGJ2bm11d3d6YXl6emJvc3lpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5ODc2NTYsImV4cCI6MjA2NTU2MzY1Nn0.JGNJn1iu0wwhLiu34gTEjuK-aK5aAMzJWlbrkB5VQ2Y"},body:JSON.stringify({username:e,password:n})})).json();g.success?(c({title:"Registration successful",description:`Admin account "${e}" has been created successfully`}),setTimeout(()=>{u("/")},2e3)):c({title:"Registration failed",description:g.error||"Failed to create admin account",variant:"destructive"})}catch(h){console.error("Registration error:",h),c({title:"Registration failed",description:"An error occurred during registration. Please try again.",variant:"destructive"})}finally{a(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx("div",{className:"w-12 h-12 bg-academy-blue rounded-full flex items-center justify-center",children:l.jsx(bg,{className:"w-6 h-6 text-white"})})}),l.jsx("h1",{className:"text-3xl font-heading font-bold text-academy-blue mb-2",children:"Admin Registration"}),l.jsx("p",{className:"text-muted-foreground",children:"Create a new admin account for the Token Bidding Platform"})]}),l.jsxs(Se,{children:[l.jsxs(Ue,{children:[l.jsxs(Be,{className:"text-2xl font-heading flex items-center gap-2",children:[l.jsx(Eg,{className:"w-5 h-5"}),"Create Admin Account"]}),l.jsx(Is,{children:"Choose a username and secure password for your admin account"})]}),l.jsxs("form",{onSubmit:d,children:[l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs(Fn,{children:[l.jsx(bg,{className:"h-4 w-4"}),l.jsxs(Un,{children:[l.jsx("strong",{children:"Security Notice:"})," Admin accounts have full access to all classes and student data."]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"username",children:"Username"}),l.jsx(_t,{id:"username",type:"text",value:e,onChange:f=>t(f.target.value),placeholder:"Enter admin username",required:!0,disabled:i,pattern:"[a-zA-Z0-9_]{3,50}",title:"Username must be 3-50 characters and contain only letters, numbers, and underscores"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"3-50 characters, letters, numbers, and underscores only"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"password",children:"Password"}),l.jsx(_t,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"Enter secure password",required:!0,disabled:i,minLength:8}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 8 characters required"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Te,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsx(_t,{id:"confirmPassword",type:"password",value:s,onChange:f=>o(f.target.value),placeholder:"Confirm your password",required:!0,disabled:i,minLength:8})]}),n&&s&&n!==s&&l.jsx(Fn,{variant:"destructive",children:l.jsx(Un,{children:"Passwords do not match"})})]}),l.jsxs(ou,{className:"flex flex-col space-y-3",children:[l.jsx(le,{type:"submit",className:"w-full",disabled:i||n!==s,children:i?l.jsxs(l.Fragment,{children:[l.jsx(Je,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Eg,{className:"w-4 h-4 mr-2"}),"Create Admin Account"]})}),l.jsxs(le,{type:"button",variant:"outline",onClick:()=>u("/"),disabled:i,className:"w-full",children:[l.jsx(vN,{className:"w-4 h-4 mr-2"}),"Back to Login"]})]})]})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an admin account?"," ",l.jsx("button",{onClick:()=>u("/"),className:"text-academy-blue hover:underline font-medium",disabled:i,children:"Sign in here"})]})})]})}),l.jsx("footer",{className:"border-t bg-white py-4 text-center text-sm text-muted-foreground",children:l.jsx("div",{className:"container mx-auto",children:"Token Bidding Platform - Admin Registration"})})]})},u4=new AT,d4=()=>l.jsx(MT,{client:u4,children:l.jsxs(dT,{children:[l.jsx(cj,{}),l.jsx($j,{}),l.jsx(kP,{children:l.jsxs(CP,{children:[l.jsx(bi,{path:"/",element:l.jsx(a4,{})}),l.jsx(bi,{path:"/student",element:l.jsx(z1,{})}),l.jsx(bi,{path:"/admin-register",element:l.jsx(c4,{})}),l.jsx(bi,{path:"*",element:l.jsx(l4,{})})]})})]})});ix(document.getElementById("root")).render(l.jsx(d4,{}));
