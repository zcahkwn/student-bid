var op=e=>{throw TypeError(e)};var Eu=(e,t,n)=>t.has(e)||op("Cannot "+n);var B=(e,t,n)=>(Eu(e,t,"read from private field"),n?n.call(e):t.get(e)),ke=(e,t,n)=>t.has(e)?op("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),me=(e,t,n,r)=>(Eu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ut=(e,t,n)=>(Eu(e,t,"access private method"),n);var Ba=(e,t,n,r)=>({set _(s){me(e,t,s,n)},get _(){return B(e,t,r)}});function e_(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var on=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Kv={exports:{}},Ec={},Gv={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=Symbol.for("react.element"),n_=Symbol.for("react.portal"),r_=Symbol.for("react.fragment"),s_=Symbol.for("react.strict_mode"),i_=Symbol.for("react.profiler"),o_=Symbol.for("react.provider"),a_=Symbol.for("react.context"),l_=Symbol.for("react.forward_ref"),c_=Symbol.for("react.suspense"),u_=Symbol.for("react.memo"),d_=Symbol.for("react.lazy"),ap=Symbol.iterator;function f_(e){return e===null||typeof e!="object"?null:(e=ap&&e[ap]||e["@@iterator"],typeof e=="function"?e:null)}var Qv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jv=Object.assign,Xv={};function Qi(e,t,n){this.props=e,this.context=t,this.refs=Xv,this.updater=n||Qv}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zv(){}Zv.prototype=Qi.prototype;function rh(e,t,n){this.props=e,this.context=t,this.refs=Xv,this.updater=n||Qv}var sh=rh.prototype=new Zv;sh.constructor=rh;Jv(sh,Qi.prototype);sh.isPureReactComponent=!0;var lp=Array.isArray,ey=Object.prototype.hasOwnProperty,ih={current:null},ty={key:!0,ref:!0,__self:!0,__source:!0};function ny(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ey.call(t,r)&&!ty.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:wa,type:e,key:i,ref:o,props:s,_owner:ih.current}}function h_(e,t){return{$$typeof:wa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function oh(e){return typeof e=="object"&&e!==null&&e.$$typeof===wa}function m_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var cp=/\/+/g;function Nu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m_(""+e.key):t.toString(36)}function yl(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case wa:case n_:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Nu(o,0):r,lp(s)?(n="",e!=null&&(n=e.replace(cp,"$&/")+"/"),yl(s,t,n,"",function(u){return u})):s!=null&&(oh(s)&&(s=h_(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cp,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",lp(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+Nu(i,a);o+=yl(i,t,n,c,s)}else if(c=f_(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+Nu(i,a++),o+=yl(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ua(e,t,n){if(e==null)return e;var r=[],s=0;return yl(e,r,"","",function(i){return t.call(n,i,s++)}),r}function p_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nt={current:null},xl={transition:null},g_={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:xl,ReactCurrentOwner:ih};function ry(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Ua,forEach:function(e,t,n){Ua(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ua(e,function(){t++}),t},toArray:function(e){return Ua(e,function(t){return t})||[]},only:function(e){if(!oh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Qi;ge.Fragment=r_;ge.Profiler=i_;ge.PureComponent=rh;ge.StrictMode=s_;ge.Suspense=c_;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g_;ge.act=ry;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jv({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ih.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)ey.call(t,c)&&!ty.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wa,type:e.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(e){return e={$$typeof:a_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:o_,_context:e},e.Consumer=e};ge.createElement=ny;ge.createFactory=function(e){var t=ny.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:l_,render:e}};ge.isValidElement=oh;ge.lazy=function(e){return{$$typeof:d_,_payload:{_status:-1,_result:e},_init:p_}};ge.memo=function(e,t){return{$$typeof:u_,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=xl.transition;xl.transition={};try{e()}finally{xl.transition=t}};ge.unstable_act=ry;ge.useCallback=function(e,t){return Nt.current.useCallback(e,t)};ge.useContext=function(e){return Nt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Nt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Nt.current.useEffect(e,t)};ge.useId=function(){return Nt.current.useId()};ge.useImperativeHandle=function(e,t,n){return Nt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Nt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Nt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Nt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return Nt.current.useReducer(e,t,n)};ge.useRef=function(e){return Nt.current.useRef(e)};ge.useState=function(e){return Nt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Nt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Nt.current.useTransition()};ge.version="18.3.1";Gv.exports=ge;var m=Gv.exports;const J=Yv(m),sy=e_({__proto__:null,default:J},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_=m,y_=Symbol.for("react.element"),x_=Symbol.for("react.fragment"),w_=Object.prototype.hasOwnProperty,b_=v_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S_={key:!0,ref:!0,__self:!0,__source:!0};function iy(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)w_.call(t,r)&&!S_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:y_,type:e,key:i,ref:o,props:s,_owner:b_.current}}Ec.Fragment=x_;Ec.jsx=iy;Ec.jsxs=iy;Kv.exports=Ec;var l=Kv.exports,oy={exports:{}},Yt={},ay={exports:{}},ly={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,D){var L=j.length;j.push(D);e:for(;0<L;){var W=L-1>>>1,X=j[W];if(0<s(X,D))j[W]=D,j[L]=X,L=W;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var D=j[0],L=j.pop();if(L!==D){j[0]=L;e:for(var W=0,X=j.length,G=X>>>1;W<G;){var P=2*(W+1)-1,ee=j[P],Z=P+1,A=j[Z];if(0>s(ee,L))Z<X&&0>s(A,ee)?(j[W]=A,j[Z]=L,W=Z):(j[W]=ee,j[P]=L,W=P);else if(Z<X&&0>s(A,L))j[W]=A,j[Z]=L,W=Z;else break e}}return D}function s(j,D){var L=j.sortIndex-D.sortIndex;return L!==0?L:j.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=j)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function S(j){if(g=!1,x(j),!y)if(n(c)!==null)y=!0,T(_);else{var D=n(u);D!==null&&k(S,D.startTime-j)}}function _(j,D){y=!1,g&&(g=!1,w(C),C=-1),p=!0;var L=h;try{for(x(D),f=n(c);f!==null&&(!(f.expirationTime>D)||j&&!H());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var X=W(f.expirationTime<=D);D=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),x(D)}else r(c);f=n(c)}if(f!==null)var G=!0;else{var P=n(u);P!==null&&k(S,P.startTime-D),G=!1}return G}finally{f=null,h=L,p=!1}}var N=!1,E=null,C=-1,O=5,R=-1;function H(){return!(e.unstable_now()-R<O)}function z(){if(E!==null){var j=e.unstable_now();R=j;var D=!0;try{D=E(!0,j)}finally{D?M():(N=!1,E=null)}}else N=!1}var M;if(typeof v=="function")M=function(){v(z)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,K=I.port2;I.port1.onmessage=z,M=function(){K.postMessage(null)}}else M=function(){b(z,0)};function T(j){E=j,N||(N=!0,M())}function k(j,D){C=b(function(){j(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){y||p||(y=!0,T(_))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var L=h;h=D;try{return j()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,D){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var L=h;h=j;try{return D()}finally{h=L}},e.unstable_scheduleCallback=function(j,D,L){var W=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=L+X,j={id:d++,callback:D,priorityLevel:j,startTime:L,expirationTime:X,sortIndex:-1},L>W?(j.sortIndex=L,t(u,j),n(c)===null&&j===n(u)&&(g?(w(C),C=-1):g=!0,k(S,L-W))):(j.sortIndex=X,t(c,j),y||p||(y=!0,T(_))),j},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(j){var D=h;return function(){var L=h;h=D;try{return j.apply(this,arguments)}finally{h=L}}}})(ly);ay.exports=ly;var __=ay.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_=m,Vt=__;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cy=new Set,Vo={};function Ds(e,t){Ai(e,t),Ai(e+"Capture",t)}function Ai(e,t){for(Vo[e]=t,e=0;e<t.length;e++)cy.add(t[e])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cd=Object.prototype.hasOwnProperty,E_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,up={},dp={};function N_(e){return Cd.call(dp,e)?!0:Cd.call(up,e)?!1:E_.test(e)?dp[e]=!0:(up[e]=!0,!1)}function C_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k_(e,t,n,r){if(t===null||typeof t>"u"||C_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ct(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new Ct(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new Ct(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new Ct(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new Ct(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new Ct(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new Ct(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new Ct(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new Ct(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new Ct(e,5,!1,e.toLowerCase(),null,!1,!1)});var ah=/[\-:]([a-z])/g;function lh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ah,lh);lt[t]=new Ct(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ah,lh);lt[t]=new Ct(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ah,lh);lt[t]=new Ct(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new Ct(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new Ct(e,1,!1,e.toLowerCase(),null,!0,!0)});function ch(e,t,n,r){var s=lt.hasOwnProperty(t)?lt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k_(t,n,s,r)&&(n=null),r||s===null?N_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ur=j_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,za=Symbol.for("react.element"),ei=Symbol.for("react.portal"),ti=Symbol.for("react.fragment"),uh=Symbol.for("react.strict_mode"),kd=Symbol.for("react.profiler"),uy=Symbol.for("react.provider"),dy=Symbol.for("react.context"),dh=Symbol.for("react.forward_ref"),Td=Symbol.for("react.suspense"),Pd=Symbol.for("react.suspense_list"),fh=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),fy=Symbol.for("react.offscreen"),fp=Symbol.iterator;function uo(e){return e===null||typeof e!="object"?null:(e=fp&&e[fp]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,Cu;function jo(e){if(Cu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cu=t&&t[1]||""}return`
`+Cu+e}var ku=!1;function Tu(e,t){if(!e||ku)return"";ku=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{ku=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jo(e):""}function T_(e){switch(e.tag){case 5:return jo(e.type);case 16:return jo("Lazy");case 13:return jo("Suspense");case 19:return jo("SuspenseList");case 0:case 2:case 15:return e=Tu(e.type,!1),e;case 11:return e=Tu(e.type.render,!1),e;case 1:return e=Tu(e.type,!0),e;default:return""}}function Rd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ti:return"Fragment";case ei:return"Portal";case kd:return"Profiler";case uh:return"StrictMode";case Td:return"Suspense";case Pd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dy:return(e.displayName||"Context")+".Consumer";case uy:return(e._context.displayName||"Context")+".Provider";case dh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fh:return t=e.displayName||null,t!==null?t:Rd(e.type)||"Memo";case xr:t=e._payload,e=e._init;try{return Rd(e(t))}catch{}}return null}function P_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rd(t);case 8:return t===uh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R_(e){var t=hy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wa(e){e._valueTracker||(e._valueTracker=R_(e))}function my(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Od(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function py(e,t){t=t.checked,t!=null&&ch(e,"checked",t,!1)}function Dd(e,t){py(e,t);var n=Ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ad(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ad(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ad(e,t,n){(t!=="number"||Ml(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Eo=Array.isArray;function fi(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Id(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Y(92));if(Eo(n)){if(1<n.length)throw Error(Y(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function gy(e,t){var n=Ur(t.value),r=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function gp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vy(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Md(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vy(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ha,yy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ha=Ha||document.createElement("div"),Ha.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ha.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ro={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O_=["Webkit","ms","Moz","O"];Object.keys(Ro).forEach(function(e){O_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ro[t]=Ro[e]})});function xy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ro.hasOwnProperty(e)&&Ro[e]?(""+t).trim():t+"px"}function wy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var D_=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ld(e,t){if(t){if(D_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function $d(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fd=null;function hh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bd=null,hi=null,mi=null;function vp(e){if(e=_a(e)){if(typeof Bd!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=Pc(t),Bd(e.stateNode,e.type,t))}}function by(e){hi?mi?mi.push(e):mi=[e]:hi=e}function Sy(){if(hi){var e=hi,t=mi;if(mi=hi=null,vp(e),t)for(e=0;e<t.length;e++)vp(t[e])}}function _y(e,t){return e(t)}function jy(){}var Pu=!1;function Ey(e,t,n){if(Pu)return e(t,n);Pu=!0;try{return _y(e,t,n)}finally{Pu=!1,(hi!==null||mi!==null)&&(jy(),Sy())}}function Yo(e,t){var n=e.stateNode;if(n===null)return null;var r=Pc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Y(231,t,typeof n));return n}var Ud=!1;if(sr)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){Ud=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{Ud=!1}function A_(e,t,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Oo=!1,Ll=null,$l=!1,zd=null,I_={onError:function(e){Oo=!0,Ll=e}};function M_(e,t,n,r,s,i,o,a,c){Oo=!1,Ll=null,A_.apply(I_,arguments)}function L_(e,t,n,r,s,i,o,a,c){if(M_.apply(this,arguments),Oo){if(Oo){var u=Ll;Oo=!1,Ll=null}else throw Error(Y(198));$l||($l=!0,zd=u)}}function As(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ny(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yp(e){if(As(e)!==e)throw Error(Y(188))}function $_(e){var t=e.alternate;if(!t){if(t=As(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return yp(s),e;if(i===r)return yp(s),t;i=i.sibling}throw Error(Y(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?e:t}function Cy(e){return e=$_(e),e!==null?ky(e):null}function ky(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ky(e);if(t!==null)return t;e=e.sibling}return null}var Ty=Vt.unstable_scheduleCallback,xp=Vt.unstable_cancelCallback,F_=Vt.unstable_shouldYield,B_=Vt.unstable_requestPaint,Ge=Vt.unstable_now,U_=Vt.unstable_getCurrentPriorityLevel,mh=Vt.unstable_ImmediatePriority,Py=Vt.unstable_UserBlockingPriority,Fl=Vt.unstable_NormalPriority,z_=Vt.unstable_LowPriority,Ry=Vt.unstable_IdlePriority,Nc=null,Fn=null;function W_(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Nc,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:q_,H_=Math.log,V_=Math.LN2;function q_(e){return e>>>=0,e===0?32:31-(H_(e)/V_|0)|0}var Va=64,qa=4194304;function No(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Bl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=No(a):(i&=o,i!==0&&(r=No(i)))}else o=n&~s,o!==0?r=No(o):i!==0&&(r=No(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wn(t),s=1<<n,r|=e[n],t&=~s;return r}function Y_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=Y_(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Wd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oy(){var e=Va;return Va<<=1,!(Va&4194240)&&(Va=64),e}function Ru(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ba(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=n}function G_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wn(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ph(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Pe=0;function Dy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ay,gh,Iy,My,Ly,Hd=!1,Ya=[],Dr=null,Ar=null,Ir=null,Ko=new Map,Go=new Map,Sr=[],Q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wp(e,t){switch(e){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(t.pointerId)}}function ho(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=_a(t),t!==null&&gh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function J_(e,t,n,r,s){switch(t){case"focusin":return Dr=ho(Dr,e,t,n,r,s),!0;case"dragenter":return Ar=ho(Ar,e,t,n,r,s),!0;case"mouseover":return Ir=ho(Ir,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ko.set(i,ho(Ko.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Go.set(i,ho(Go.get(i)||null,e,t,n,r,s)),!0}return!1}function $y(e){var t=ds(e.target);if(t!==null){var n=As(t);if(n!==null){if(t=n.tag,t===13){if(t=Ny(n),t!==null){e.blockedOn=t,Ly(e.priority,function(){Iy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fd=r,n.target.dispatchEvent(r),Fd=null}else return t=_a(n),t!==null&&gh(t),e.blockedOn=n,!1;t.shift()}return!0}function bp(e,t,n){wl(e)&&n.delete(t)}function X_(){Hd=!1,Dr!==null&&wl(Dr)&&(Dr=null),Ar!==null&&wl(Ar)&&(Ar=null),Ir!==null&&wl(Ir)&&(Ir=null),Ko.forEach(bp),Go.forEach(bp)}function mo(e,t){e.blockedOn===t&&(e.blockedOn=null,Hd||(Hd=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,X_)))}function Qo(e){function t(s){return mo(s,e)}if(0<Ya.length){mo(Ya[0],e);for(var n=1;n<Ya.length;n++){var r=Ya[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dr!==null&&mo(Dr,e),Ar!==null&&mo(Ar,e),Ir!==null&&mo(Ir,e),Ko.forEach(t),Go.forEach(t),n=0;n<Sr.length;n++)r=Sr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Sr.length&&(n=Sr[0],n.blockedOn===null);)$y(n),n.blockedOn===null&&Sr.shift()}var pi=ur.ReactCurrentBatchConfig,Ul=!0;function Z_(e,t,n,r){var s=Pe,i=pi.transition;pi.transition=null;try{Pe=1,vh(e,t,n,r)}finally{Pe=s,pi.transition=i}}function ej(e,t,n,r){var s=Pe,i=pi.transition;pi.transition=null;try{Pe=4,vh(e,t,n,r)}finally{Pe=s,pi.transition=i}}function vh(e,t,n,r){if(Ul){var s=Vd(e,t,n,r);if(s===null)Uu(e,t,r,zl,n),wp(e,r);else if(J_(s,e,t,n,r))r.stopPropagation();else if(wp(e,r),t&4&&-1<Q_.indexOf(e)){for(;s!==null;){var i=_a(s);if(i!==null&&Ay(i),i=Vd(e,t,n,r),i===null&&Uu(e,t,r,zl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Uu(e,t,r,null,n)}}var zl=null;function Vd(e,t,n,r){if(zl=null,e=hh(r),e=ds(e),e!==null)if(t=As(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ny(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zl=e,null}function Fy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U_()){case mh:return 1;case Py:return 4;case Fl:case z_:return 16;case Ry:return 536870912;default:return 16}default:return 16}}var Pr=null,yh=null,bl=null;function By(){if(bl)return bl;var e,t=yh,n=t.length,r,s="value"in Pr?Pr.value:Pr.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return bl=s.slice(e,1<r?1-r:void 0)}function Sl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ka(){return!0}function Sp(){return!1}function Kt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ka:Sp,this.isPropagationStopped=Sp,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),t}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xh=Kt(Ji),Sa=He({},Ji,{view:0,detail:0}),tj=Kt(Sa),Ou,Du,po,Cc=He({},Sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==po&&(po&&e.type==="mousemove"?(Ou=e.screenX-po.screenX,Du=e.screenY-po.screenY):Du=Ou=0,po=e),Ou)},movementY:function(e){return"movementY"in e?e.movementY:Du}}),_p=Kt(Cc),nj=He({},Cc,{dataTransfer:0}),rj=Kt(nj),sj=He({},Sa,{relatedTarget:0}),Au=Kt(sj),ij=He({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),oj=Kt(ij),aj=He({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lj=Kt(aj),cj=He({},Ji,{data:0}),jp=Kt(cj),uj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fj[e])?!!t[e]:!1}function wh(){return hj}var mj=He({},Sa,{key:function(e){if(e.key){var t=uj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wh,charCode:function(e){return e.type==="keypress"?Sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pj=Kt(mj),gj=He({},Cc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ep=Kt(gj),vj=He({},Sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wh}),yj=Kt(vj),xj=He({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),wj=Kt(xj),bj=He({},Cc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sj=Kt(bj),_j=[9,13,27,32],bh=sr&&"CompositionEvent"in window,Do=null;sr&&"documentMode"in document&&(Do=document.documentMode);var jj=sr&&"TextEvent"in window&&!Do,Uy=sr&&(!bh||Do&&8<Do&&11>=Do),Np=" ",Cp=!1;function zy(e,t){switch(e){case"keyup":return _j.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ni=!1;function Ej(e,t){switch(e){case"compositionend":return Wy(t);case"keypress":return t.which!==32?null:(Cp=!0,Np);case"textInput":return e=t.data,e===Np&&Cp?null:e;default:return null}}function Nj(e,t){if(ni)return e==="compositionend"||!bh&&zy(e,t)?(e=By(),bl=yh=Pr=null,ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uy&&t.locale!=="ko"?null:t.data;default:return null}}var Cj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cj[e.type]:t==="textarea"}function Hy(e,t,n,r){by(r),t=Wl(t,"onChange"),0<t.length&&(n=new xh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ao=null,Jo=null;function kj(e){t0(e,0)}function kc(e){var t=ii(e);if(my(t))return e}function Tj(e,t){if(e==="change")return t}var Vy=!1;if(sr){var Iu;if(sr){var Mu="oninput"in document;if(!Mu){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),Mu=typeof Tp.oninput=="function"}Iu=Mu}else Iu=!1;Vy=Iu&&(!document.documentMode||9<document.documentMode)}function Pp(){Ao&&(Ao.detachEvent("onpropertychange",qy),Jo=Ao=null)}function qy(e){if(e.propertyName==="value"&&kc(Jo)){var t=[];Hy(t,Jo,e,hh(e)),Ey(kj,t)}}function Pj(e,t,n){e==="focusin"?(Pp(),Ao=t,Jo=n,Ao.attachEvent("onpropertychange",qy)):e==="focusout"&&Pp()}function Rj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kc(Jo)}function Oj(e,t){if(e==="click")return kc(t)}function Dj(e,t){if(e==="input"||e==="change")return kc(t)}function Aj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:Aj;function Xo(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Cd.call(t,s)||!Sn(e[s],t[s]))return!1}return!0}function Rp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Op(e,t){var n=Rp(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rp(n)}}function Yy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ky(){for(var e=window,t=Ml();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ml(e.document)}return t}function Sh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ij(e){var t=Ky(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yy(n.ownerDocument.documentElement,n)){if(r!==null&&Sh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Op(n,i);var o=Op(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mj=sr&&"documentMode"in document&&11>=document.documentMode,ri=null,qd=null,Io=null,Yd=!1;function Dp(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yd||ri==null||ri!==Ml(r)||(r=ri,"selectionStart"in r&&Sh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Io&&Xo(Io,r)||(Io=r,r=Wl(qd,"onSelect"),0<r.length&&(t=new xh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ri)))}function Ga(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var si={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},Lu={},Gy={};sr&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function Tc(e){if(Lu[e])return Lu[e];if(!si[e])return e;var t=si[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gy)return Lu[e]=t[n];return e}var Qy=Tc("animationend"),Jy=Tc("animationiteration"),Xy=Tc("animationstart"),Zy=Tc("transitionend"),e0=new Map,Ap="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kr(e,t){e0.set(e,t),Ds(t,[e])}for(var $u=0;$u<Ap.length;$u++){var Fu=Ap[$u],Lj=Fu.toLowerCase(),$j=Fu[0].toUpperCase()+Fu.slice(1);Kr(Lj,"on"+$j)}Kr(Qy,"onAnimationEnd");Kr(Jy,"onAnimationIteration");Kr(Xy,"onAnimationStart");Kr("dblclick","onDoubleClick");Kr("focusin","onFocus");Kr("focusout","onBlur");Kr(Zy,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function Ip(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,L_(r,t,void 0,e),e.currentTarget=null}function t0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Ip(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Ip(s,a,u),i=c}}}if($l)throw e=zd,$l=!1,zd=null,e}function Le(e,t){var n=t[Xd];n===void 0&&(n=t[Xd]=new Set);var r=e+"__bubble";n.has(r)||(n0(t,e,2,!1),n.add(r))}function Bu(e,t,n){var r=0;t&&(r|=4),n0(n,e,r,t)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function Zo(e){if(!e[Qa]){e[Qa]=!0,cy.forEach(function(n){n!=="selectionchange"&&(Fj.has(n)||Bu(n,!1,e),Bu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qa]||(t[Qa]=!0,Bu("selectionchange",!1,t))}}function n0(e,t,n,r){switch(Fy(t)){case 1:var s=Z_;break;case 4:s=ej;break;default:s=vh}n=s.bind(null,t,n,e),s=void 0,!Ud||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Uu(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ds(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ey(function(){var u=i,d=hh(n),f=[];e:{var h=e0.get(e);if(h!==void 0){var p=xh,y=e;switch(e){case"keypress":if(Sl(n)===0)break e;case"keydown":case"keyup":p=pj;break;case"focusin":y="focus",p=Au;break;case"focusout":y="blur",p=Au;break;case"beforeblur":case"afterblur":p=Au;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_p;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yj;break;case Qy:case Jy:case Xy:p=oj;break;case Zy:p=wj;break;case"scroll":p=tj;break;case"wheel":p=Sj;break;case"copy":case"cut":case"paste":p=lj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ep}var g=(t&4)!==0,b=!g&&e==="scroll",w=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,x;v!==null;){x=v;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,w!==null&&(S=Yo(v,w),S!=null&&g.push(ea(v,S,x)))),b)break;v=v.return}0<g.length&&(h=new p(h,y,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Fd&&(y=n.relatedTarget||n.fromElement)&&(ds(y)||y[ir]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?ds(y):null,y!==null&&(b=As(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(g=_p,S="onMouseLeave",w="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Ep,S="onPointerLeave",w="onPointerEnter",v="pointer"),b=p==null?h:ii(p),x=y==null?h:ii(y),h=new g(S,v+"leave",p,n,d),h.target=b,h.relatedTarget=x,S=null,ds(d)===u&&(g=new g(w,v+"enter",y,n,d),g.target=x,g.relatedTarget=b,S=g),b=S,p&&y)t:{for(g=p,w=y,v=0,x=g;x;x=Ws(x))v++;for(x=0,S=w;S;S=Ws(S))x++;for(;0<v-x;)g=Ws(g),v--;for(;0<x-v;)w=Ws(w),x--;for(;v--;){if(g===w||w!==null&&g===w.alternate)break t;g=Ws(g),w=Ws(w)}g=null}else g=null;p!==null&&Mp(f,h,p,g,!1),y!==null&&b!==null&&Mp(f,b,y,g,!0)}}e:{if(h=u?ii(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=Tj;else if(kp(h))if(Vy)_=Dj;else{_=Rj;var N=Pj}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Oj);if(_&&(_=_(e,u))){Hy(f,_,n,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Ad(h,"number",h.value)}switch(N=u?ii(u):window,e){case"focusin":(kp(N)||N.contentEditable==="true")&&(ri=N,qd=u,Io=null);break;case"focusout":Io=qd=ri=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,Dp(f,n,d);break;case"selectionchange":if(Mj)break;case"keydown":case"keyup":Dp(f,n,d)}var E;if(bh)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ni?zy(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Uy&&n.locale!=="ko"&&(ni||C!=="onCompositionStart"?C==="onCompositionEnd"&&ni&&(E=By()):(Pr=d,yh="value"in Pr?Pr.value:Pr.textContent,ni=!0)),N=Wl(u,C),0<N.length&&(C=new jp(C,e,null,n,d),f.push({event:C,listeners:N}),E?C.data=E:(E=Wy(n),E!==null&&(C.data=E)))),(E=jj?Ej(e,n):Nj(e,n))&&(u=Wl(u,"onBeforeInput"),0<u.length&&(d=new jp("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}t0(f,t)})}function ea(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yo(e,n),i!=null&&r.unshift(ea(e,i,s)),i=Yo(e,t),i!=null&&r.push(ea(e,i,s))),e=e.return}return r}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mp(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Yo(n,i),c!=null&&o.unshift(ea(n,c,a))):s||(c=Yo(n,i),c!=null&&o.push(ea(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Bj=/\r\n?/g,Uj=/\u0000|\uFFFD/g;function Lp(e){return(typeof e=="string"?e:""+e).replace(Bj,`
`).replace(Uj,"")}function Ja(e,t,n){if(t=Lp(t),Lp(e)!==t&&n)throw Error(Y(425))}function Hl(){}var Kd=null,Gd=null;function Qd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jd=typeof setTimeout=="function"?setTimeout:void 0,zj=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,Wj=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(e){return $p.resolve(null).then(e).catch(Hj)}:Jd;function Hj(e){setTimeout(function(){throw e})}function zu(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Qo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Qo(t)}function Mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xi=Math.random().toString(36).slice(2),Mn="__reactFiber$"+Xi,ta="__reactProps$"+Xi,ir="__reactContainer$"+Xi,Xd="__reactEvents$"+Xi,Vj="__reactListeners$"+Xi,qj="__reactHandles$"+Xi;function ds(e){var t=e[Mn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ir]||n[Mn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fp(e);e!==null;){if(n=e[Mn])return n;e=Fp(e)}return t}e=n,n=e.parentNode}return null}function _a(e){return e=e[Mn]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function Pc(e){return e[ta]||null}var Zd=[],oi=-1;function Gr(e){return{current:e}}function Be(e){0>oi||(e.current=Zd[oi],Zd[oi]=null,oi--)}function De(e,t){oi++,Zd[oi]=e.current,e.current=t}var zr={},gt=Gr(zr),Dt=Gr(!1),_s=zr;function Ii(e,t){var n=e.type.contextTypes;if(!n)return zr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function At(e){return e=e.childContextTypes,e!=null}function Vl(){Be(Dt),Be(gt)}function Bp(e,t,n){if(gt.current!==zr)throw Error(Y(168));De(gt,t),De(Dt,n)}function r0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(Y(108,P_(e)||"Unknown",s));return He({},n,r)}function ql(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zr,_s=gt.current,De(gt,e),De(Dt,Dt.current),!0}function Up(e,t,n){var r=e.stateNode;if(!r)throw Error(Y(169));n?(e=r0(e,t,_s),r.__reactInternalMemoizedMergedChildContext=e,Be(Dt),Be(gt),De(gt,e)):Be(Dt),De(Dt,n)}var Jn=null,Rc=!1,Wu=!1;function s0(e){Jn===null?Jn=[e]:Jn.push(e)}function Yj(e){Rc=!0,s0(e)}function Qr(){if(!Wu&&Jn!==null){Wu=!0;var e=0,t=Pe;try{var n=Jn;for(Pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jn=null,Rc=!1}catch(s){throw Jn!==null&&(Jn=Jn.slice(e+1)),Ty(mh,Qr),s}finally{Pe=t,Wu=!1}}return null}var ai=[],li=0,Yl=null,Kl=0,Jt=[],Xt=0,js=null,Zn=1,er="";function os(e,t){ai[li++]=Kl,ai[li++]=Yl,Yl=e,Kl=t}function i0(e,t,n){Jt[Xt++]=Zn,Jt[Xt++]=er,Jt[Xt++]=js,js=e;var r=Zn;e=er;var s=32-wn(r)-1;r&=~(1<<s),n+=1;var i=32-wn(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Zn=1<<32-wn(t)+s|n<<s|r,er=i+e}else Zn=1<<i|n<<s|r,er=e}function _h(e){e.return!==null&&(os(e,1),i0(e,1,0))}function jh(e){for(;e===Yl;)Yl=ai[--li],ai[li]=null,Kl=ai[--li],ai[li]=null;for(;e===js;)js=Jt[--Xt],Jt[Xt]=null,er=Jt[--Xt],Jt[Xt]=null,Zn=Jt[--Xt],Jt[Xt]=null}var zt=null,Ut=null,Ue=!1,yn=null;function o0(e,t){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zt=e,Ut=Mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=js!==null?{id:Zn,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zt=e,Ut=null,!0):!1;default:return!1}}function ef(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tf(e){if(Ue){var t=Ut;if(t){var n=t;if(!zp(e,t)){if(ef(e))throw Error(Y(418));t=Mr(n.nextSibling);var r=zt;t&&zp(e,t)?o0(r,n):(e.flags=e.flags&-4097|2,Ue=!1,zt=e)}}else{if(ef(e))throw Error(Y(418));e.flags=e.flags&-4097|2,Ue=!1,zt=e}}}function Wp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zt=e}function Xa(e){if(e!==zt)return!1;if(!Ue)return Wp(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qd(e.type,e.memoizedProps)),t&&(t=Ut)){if(ef(e))throw a0(),Error(Y(418));for(;t;)o0(e,t),t=Mr(t.nextSibling)}if(Wp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=Mr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=zt?Mr(e.stateNode.nextSibling):null;return!0}function a0(){for(var e=Ut;e;)e=Mr(e.nextSibling)}function Mi(){Ut=zt=null,Ue=!1}function Eh(e){yn===null?yn=[e]:yn.push(e)}var Kj=ur.ReactCurrentBatchConfig;function go(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,e))}return e}function Za(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hp(e){var t=e._init;return t(e._payload)}function l0(e){function t(w,v){if(e){var x=w.deletions;x===null?(w.deletions=[v],w.flags|=16):x.push(v)}}function n(w,v){if(!e)return null;for(;v!==null;)t(w,v),v=v.sibling;return null}function r(w,v){for(w=new Map;v!==null;)v.key!==null?w.set(v.key,v):w.set(v.index,v),v=v.sibling;return w}function s(w,v){return w=Br(w,v),w.index=0,w.sibling=null,w}function i(w,v,x){return w.index=x,e?(x=w.alternate,x!==null?(x=x.index,x<v?(w.flags|=2,v):x):(w.flags|=2,v)):(w.flags|=1048576,v)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,v,x,S){return v===null||v.tag!==6?(v=Qu(x,w.mode,S),v.return=w,v):(v=s(v,x),v.return=w,v)}function c(w,v,x,S){var _=x.type;return _===ti?d(w,v,x.props.children,S,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xr&&Hp(_)===v.type)?(S=s(v,x.props),S.ref=go(w,v,x),S.return=w,S):(S=Tl(x.type,x.key,x.props,null,w.mode,S),S.ref=go(w,v,x),S.return=w,S)}function u(w,v,x,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Ju(x,w.mode,S),v.return=w,v):(v=s(v,x.children||[]),v.return=w,v)}function d(w,v,x,S,_){return v===null||v.tag!==7?(v=xs(x,w.mode,S,_),v.return=w,v):(v=s(v,x),v.return=w,v)}function f(w,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Qu(""+v,w.mode,x),v.return=w,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case za:return x=Tl(v.type,v.key,v.props,null,w.mode,x),x.ref=go(w,null,v),x.return=w,x;case ei:return v=Ju(v,w.mode,x),v.return=w,v;case xr:var S=v._init;return f(w,S(v._payload),x)}if(Eo(v)||uo(v))return v=xs(v,w.mode,x,null),v.return=w,v;Za(w,v)}return null}function h(w,v,x,S){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(w,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case za:return x.key===_?c(w,v,x,S):null;case ei:return x.key===_?u(w,v,x,S):null;case xr:return _=x._init,h(w,v,_(x._payload),S)}if(Eo(x)||uo(x))return _!==null?null:d(w,v,x,S,null);Za(w,x)}return null}function p(w,v,x,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return w=w.get(x)||null,a(v,w,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case za:return w=w.get(S.key===null?x:S.key)||null,c(v,w,S,_);case ei:return w=w.get(S.key===null?x:S.key)||null,u(v,w,S,_);case xr:var N=S._init;return p(w,v,x,N(S._payload),_)}if(Eo(S)||uo(S))return w=w.get(x)||null,d(v,w,S,_,null);Za(v,S)}return null}function y(w,v,x,S){for(var _=null,N=null,E=v,C=v=0,O=null;E!==null&&C<x.length;C++){E.index>C?(O=E,E=null):O=E.sibling;var R=h(w,E,x[C],S);if(R===null){E===null&&(E=O);break}e&&E&&R.alternate===null&&t(w,E),v=i(R,v,C),N===null?_=R:N.sibling=R,N=R,E=O}if(C===x.length)return n(w,E),Ue&&os(w,C),_;if(E===null){for(;C<x.length;C++)E=f(w,x[C],S),E!==null&&(v=i(E,v,C),N===null?_=E:N.sibling=E,N=E);return Ue&&os(w,C),_}for(E=r(w,E);C<x.length;C++)O=p(E,w,C,x[C],S),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?C:O.key),v=i(O,v,C),N===null?_=O:N.sibling=O,N=O);return e&&E.forEach(function(H){return t(w,H)}),Ue&&os(w,C),_}function g(w,v,x,S){var _=uo(x);if(typeof _!="function")throw Error(Y(150));if(x=_.call(x),x==null)throw Error(Y(151));for(var N=_=null,E=v,C=v=0,O=null,R=x.next();E!==null&&!R.done;C++,R=x.next()){E.index>C?(O=E,E=null):O=E.sibling;var H=h(w,E,R.value,S);if(H===null){E===null&&(E=O);break}e&&E&&H.alternate===null&&t(w,E),v=i(H,v,C),N===null?_=H:N.sibling=H,N=H,E=O}if(R.done)return n(w,E),Ue&&os(w,C),_;if(E===null){for(;!R.done;C++,R=x.next())R=f(w,R.value,S),R!==null&&(v=i(R,v,C),N===null?_=R:N.sibling=R,N=R);return Ue&&os(w,C),_}for(E=r(w,E);!R.done;C++,R=x.next())R=p(E,w,C,R.value,S),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?C:R.key),v=i(R,v,C),N===null?_=R:N.sibling=R,N=R);return e&&E.forEach(function(z){return t(w,z)}),Ue&&os(w,C),_}function b(w,v,x,S){if(typeof x=="object"&&x!==null&&x.type===ti&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case za:e:{for(var _=x.key,N=v;N!==null;){if(N.key===_){if(_=x.type,_===ti){if(N.tag===7){n(w,N.sibling),v=s(N,x.props.children),v.return=w,w=v;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xr&&Hp(_)===N.type){n(w,N.sibling),v=s(N,x.props),v.ref=go(w,N,x),v.return=w,w=v;break e}n(w,N);break}else t(w,N);N=N.sibling}x.type===ti?(v=xs(x.props.children,w.mode,S,x.key),v.return=w,w=v):(S=Tl(x.type,x.key,x.props,null,w.mode,S),S.ref=go(w,v,x),S.return=w,w=S)}return o(w);case ei:e:{for(N=x.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(w,v.sibling),v=s(v,x.children||[]),v.return=w,w=v;break e}else{n(w,v);break}else t(w,v);v=v.sibling}v=Ju(x,w.mode,S),v.return=w,w=v}return o(w);case xr:return N=x._init,b(w,v,N(x._payload),S)}if(Eo(x))return y(w,v,x,S);if(uo(x))return g(w,v,x,S);Za(w,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(w,v.sibling),v=s(v,x),v.return=w,w=v):(n(w,v),v=Qu(x,w.mode,S),v.return=w,w=v),o(w)):n(w,v)}return b}var Li=l0(!0),c0=l0(!1),Gl=Gr(null),Ql=null,ci=null,Nh=null;function Ch(){Nh=ci=Ql=null}function kh(e){var t=Gl.current;Be(Gl),e._currentValue=t}function nf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function gi(e,t){Ql=e,Nh=ci=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rt=!0),e.firstContext=null)}function an(e){var t=e._currentValue;if(Nh!==e)if(e={context:e,memoizedValue:t,next:null},ci===null){if(Ql===null)throw Error(Y(308));ci=e,Ql.dependencies={lanes:0,firstContext:e}}else ci=ci.next=e;return t}var fs=null;function Th(e){fs===null?fs=[e]:fs.push(e)}function u0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Th(t)):(n.next=s.next,s.next=n),t.interleaved=n,or(e,r)}function or(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var wr=!1;function Ph(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,or(e,n)}return s=r.interleaved,s===null?(t.next=t,Th(r)):(t.next=s.next,s.next=t),r.interleaved=t,or(e,n)}function _l(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ph(e,n)}}function Vp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jl(e,t,n,r){var s=e.updateQueue;wr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,g=a;switch(h=t,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(p,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(p,f,h):y,h==null)break e;f=He({},f,h);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ns|=o,e.lanes=o,e.memoizedState=f}}function qp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(Y(191,s));s.call(r)}}}var ja={},Bn=Gr(ja),na=Gr(ja),ra=Gr(ja);function hs(e){if(e===ja)throw Error(Y(174));return e}function Rh(e,t){switch(De(ra,t),De(na,e),De(Bn,ja),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Md(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Md(t,e)}Be(Bn),De(Bn,t)}function $i(){Be(Bn),Be(na),Be(ra)}function f0(e){hs(ra.current);var t=hs(Bn.current),n=Md(t,e.type);t!==n&&(De(na,e),De(Bn,n))}function Oh(e){na.current===e&&(Be(Bn),Be(na))}var ze=Gr(0);function Xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hu=[];function Dh(){for(var e=0;e<Hu.length;e++)Hu[e]._workInProgressVersionPrimary=null;Hu.length=0}var jl=ur.ReactCurrentDispatcher,Vu=ur.ReactCurrentBatchConfig,Es=0,We=null,Ze=null,rt=null,Zl=!1,Mo=!1,sa=0,Gj=0;function dt(){throw Error(Y(321))}function Ah(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sn(e[n],t[n]))return!1;return!0}function Ih(e,t,n,r,s,i){if(Es=i,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jl.current=e===null||e.memoizedState===null?Zj:eE,e=n(r,s),Mo){i=0;do{if(Mo=!1,sa=0,25<=i)throw Error(Y(301));i+=1,rt=Ze=null,t.updateQueue=null,jl.current=tE,e=n(r,s)}while(Mo)}if(jl.current=ec,t=Ze!==null&&Ze.next!==null,Es=0,rt=Ze=We=null,Zl=!1,t)throw Error(Y(300));return e}function Mh(){var e=sa!==0;return sa=0,e}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?We.memoizedState=rt=e:rt=rt.next=e,rt}function ln(){if(Ze===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=rt===null?We.memoizedState:rt.next;if(t!==null)rt=t,Ze=e;else{if(e===null)throw Error(Y(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},rt===null?We.memoizedState=rt=e:rt=rt.next=e}return rt}function ia(e,t){return typeof t=="function"?t(e):t}function qu(e){var t=ln(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=Ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((Es&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,We.lanes|=d,Ns|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Sn(r,t.memoizedState)||(Rt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,We.lanes|=i,Ns|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yu(e){var t=ln(),n=t.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Sn(i,t.memoizedState)||(Rt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function h0(){}function m0(e,t){var n=We,r=ln(),s=t(),i=!Sn(r.memoizedState,s);if(i&&(r.memoizedState=s,Rt=!0),r=r.queue,Lh(v0.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,oa(9,g0.bind(null,n,r,s,t),void 0,null),st===null)throw Error(Y(349));Es&30||p0(n,t,s)}return s}function p0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function g0(e,t,n,r){t.value=n,t.getSnapshot=r,y0(t)&&x0(e)}function v0(e,t,n){return n(function(){y0(t)&&x0(e)})}function y0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sn(e,n)}catch{return!0}}function x0(e){var t=or(e,1);t!==null&&bn(t,e,1,-1)}function Yp(e){var t=On();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t.queue=e,e=e.dispatch=Xj.bind(null,We,e),[t.memoizedState,e]}function oa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function w0(){return ln().memoizedState}function El(e,t,n,r){var s=On();We.flags|=e,s.memoizedState=oa(1|t,n,void 0,r===void 0?null:r)}function Oc(e,t,n,r){var s=ln();r=r===void 0?null:r;var i=void 0;if(Ze!==null){var o=Ze.memoizedState;if(i=o.destroy,r!==null&&Ah(r,o.deps)){s.memoizedState=oa(t,n,i,r);return}}We.flags|=e,s.memoizedState=oa(1|t,n,i,r)}function Kp(e,t){return El(8390656,8,e,t)}function Lh(e,t){return Oc(2048,8,e,t)}function b0(e,t){return Oc(4,2,e,t)}function S0(e,t){return Oc(4,4,e,t)}function _0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j0(e,t,n){return n=n!=null?n.concat([e]):null,Oc(4,4,_0.bind(null,t,e),n)}function $h(){}function E0(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ah(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function N0(e,t){var n=ln();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ah(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function C0(e,t,n){return Es&21?(Sn(n,t)||(n=Oy(),We.lanes|=n,Ns|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=n)}function Qj(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var r=Vu.transition;Vu.transition={};try{e(!1),t()}finally{Pe=n,Vu.transition=r}}function k0(){return ln().memoizedState}function Jj(e,t,n){var r=Fr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},T0(e))P0(t,n);else if(n=u0(e,t,n,r),n!==null){var s=Et();bn(n,e,r,s),R0(n,t,r)}}function Xj(e,t,n){var r=Fr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(T0(e))P0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Sn(a,o)){var c=t.interleaved;c===null?(s.next=s,Th(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=u0(e,t,s,r),n!==null&&(s=Et(),bn(n,e,r,s),R0(n,t,r))}}function T0(e){var t=e.alternate;return e===We||t!==null&&t===We}function P0(e,t){Mo=Zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function R0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ph(e,n)}}var ec={readContext:an,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},Zj={readContext:an,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:an,useEffect:Kp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,El(4194308,4,_0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return El(4194308,4,e,t)},useInsertionEffect:function(e,t){return El(4,2,e,t)},useMemo:function(e,t){var n=On();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=On();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jj.bind(null,We,e),[r.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:Yp,useDebugValue:$h,useDeferredValue:function(e){return On().memoizedState=e},useTransition:function(){var e=Yp(!1),t=e[0];return e=Qj.bind(null,e[1]),On().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=We,s=On();if(Ue){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=t(),st===null)throw Error(Y(349));Es&30||p0(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Kp(v0.bind(null,r,i,e),[e]),r.flags|=2048,oa(9,g0.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=On(),t=st.identifierPrefix;if(Ue){var n=er,r=Zn;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=sa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Gj++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eE={readContext:an,useCallback:E0,useContext:an,useEffect:Lh,useImperativeHandle:j0,useInsertionEffect:b0,useLayoutEffect:S0,useMemo:N0,useReducer:qu,useRef:w0,useState:function(){return qu(ia)},useDebugValue:$h,useDeferredValue:function(e){var t=ln();return C0(t,Ze.memoizedState,e)},useTransition:function(){var e=qu(ia)[0],t=ln().memoizedState;return[e,t]},useMutableSource:h0,useSyncExternalStore:m0,useId:k0,unstable_isNewReconciler:!1},tE={readContext:an,useCallback:E0,useContext:an,useEffect:Lh,useImperativeHandle:j0,useInsertionEffect:b0,useLayoutEffect:S0,useMemo:N0,useReducer:Yu,useRef:w0,useState:function(){return Yu(ia)},useDebugValue:$h,useDeferredValue:function(e){var t=ln();return Ze===null?t.memoizedState=e:C0(t,Ze.memoizedState,e)},useTransition:function(){var e=Yu(ia)[0],t=ln().memoizedState;return[e,t]},useMutableSource:h0,useSyncExternalStore:m0,useId:k0,unstable_isNewReconciler:!1};function hn(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Dc={isMounted:function(e){return(e=e._reactInternals)?As(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Et(),s=Fr(e),i=nr(r,s);i.payload=t,n!=null&&(i.callback=n),t=Lr(e,i,s),t!==null&&(bn(t,e,s,r),_l(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Et(),s=Fr(e),i=nr(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Lr(e,i,s),t!==null&&(bn(t,e,s,r),_l(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Et(),r=Fr(e),s=nr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Lr(e,s,r),t!==null&&(bn(t,e,r,n),_l(t,e,r))}};function Gp(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Xo(n,r)||!Xo(s,i):!0}function O0(e,t,n){var r=!1,s=zr,i=t.contextType;return typeof i=="object"&&i!==null?i=an(i):(s=At(t)?_s:gt.current,r=t.contextTypes,i=(r=r!=null)?Ii(e,s):zr),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Dc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Dc.enqueueReplaceState(t,t.state,null)}function sf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ph(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=an(i):(i=At(t)?_s:gt.current,s.context=Ii(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(rf(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Dc.enqueueReplaceState(s,s.state,null),Jl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fi(e,t){try{var n="",r=t;do n+=T_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ku(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function of(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var nE=typeof WeakMap=="function"?WeakMap:Map;function D0(e,t,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){nc||(nc=!0,gf=r),of(e,t)},n}function A0(e,t,n){n=nr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){of(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){of(e,t),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Jp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new nE;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=gE.bind(null,e,t,n),t.then(e,e))}function Xp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zp(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nr(-1,1),t.tag=2,Lr(n,t,1))),n.lanes|=1),e)}var rE=ur.ReactCurrentOwner,Rt=!1;function bt(e,t,n,r){t.child=e===null?c0(t,null,n,r):Li(t,e.child,n,r)}function eg(e,t,n,r,s){n=n.render;var i=t.ref;return gi(t,s),r=Ih(e,t,n,r,i,s),n=Mh(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ar(e,t,s)):(Ue&&n&&_h(t),t.flags|=1,bt(e,t,r,s),t.child)}function tg(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!qh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,I0(e,t,i,r,s)):(e=Tl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xo,n(o,r)&&e.ref===t.ref)return ar(e,t,s)}return t.flags|=1,e=Br(i,r),e.ref=t.ref,e.return=t,t.child=e}function I0(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Xo(i,r)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Rt=!0);else return t.lanes=e.lanes,ar(e,t,s)}return af(e,t,n,r,s)}function M0(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(di,Ft),Ft|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(di,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,De(di,Ft),Ft|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,De(di,Ft),Ft|=r;return bt(e,t,s,n),t.child}function L0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function af(e,t,n,r,s){var i=At(n)?_s:gt.current;return i=Ii(t,i),gi(t,s),n=Ih(e,t,n,r,i,s),r=Mh(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ar(e,t,s)):(Ue&&r&&_h(t),t.flags|=1,bt(e,t,n,s),t.child)}function ng(e,t,n,r,s){if(At(n)){var i=!0;ql(t)}else i=!1;if(gi(t,s),t.stateNode===null)Nl(e,t),O0(t,n,r),sf(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=an(u):(u=At(n)?_s:gt.current,u=Ii(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Qp(t,o,r,u),wr=!1;var h=t.memoizedState;o.state=h,Jl(t,r,o,s),c=t.memoizedState,a!==r||h!==c||Dt.current||wr?(typeof d=="function"&&(rf(t,n,d,r),c=t.memoizedState),(a=wr||Gp(t,n,a,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,d0(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:hn(t.type,a),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=an(c):(c=At(n)?_s:gt.current,c=Ii(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==c)&&Qp(t,o,r,c),wr=!1,h=t.memoizedState,o.state=h,Jl(t,r,o,s);var y=t.memoizedState;a!==f||h!==y||Dt.current||wr?(typeof p=="function"&&(rf(t,n,p,r),y=t.memoizedState),(u=wr||Gp(t,n,u,r,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return lf(e,t,n,r,i,s)}function lf(e,t,n,r,s,i){L0(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Up(t,n,!1),ar(e,t,i);r=t.stateNode,rE.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Li(t,e.child,null,i),t.child=Li(t,null,a,i)):bt(e,t,a,i),t.memoizedState=r.state,s&&Up(t,n,!0),t.child}function $0(e){var t=e.stateNode;t.pendingContext?Bp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bp(e,t.context,!1),Rh(e,t.containerInfo)}function rg(e,t,n,r,s){return Mi(),Eh(s),t.flags|=256,bt(e,t,n,r),t.child}var cf={dehydrated:null,treeContext:null,retryLane:0};function uf(e){return{baseLanes:e,cachePool:null,transitions:null}}function F0(e,t,n){var r=t.pendingProps,s=ze.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),De(ze,s&1),e===null)return tf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mc(o,r,0,null),e=xs(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=uf(n),t.memoizedState=cf,e):Fh(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return sE(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Br(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Br(a,i):(i=xs(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?uf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=cf,r}return i=e.child,e=i.sibling,r=Br(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fh(e,t){return t=Mc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function el(e,t,n,r){return r!==null&&Eh(r),Li(t,e.child,null,n),e=Fh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sE(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Ku(Error(Y(422))),el(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Mc({mode:"visible",children:r.children},s,0,null),i=xs(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Li(t,e.child,null,o),t.child.memoizedState=uf(o),t.memoizedState=cf,i);if(!(t.mode&1))return el(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(Y(419)),r=Ku(i,r,void 0),el(e,t,o,r)}if(a=(o&e.childLanes)!==0,Rt||a){if(r=st,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,or(e,s),bn(r,e,s,-1))}return Vh(),r=Ku(Error(Y(421))),el(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=vE.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ut=Mr(s.nextSibling),zt=t,Ue=!0,yn=null,e!==null&&(Jt[Xt++]=Zn,Jt[Xt++]=er,Jt[Xt++]=js,Zn=e.id,er=e.overflow,js=t),t=Fh(t,r.children),t.flags|=4096,t)}function sg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nf(e.return,t,n)}function Gu(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function B0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(bt(e,t,r.children,n),r=ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sg(e,n,t);else if(e.tag===19)sg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(De(ze,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Xl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Gu(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Xl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Gu(t,!0,n,null,i);break;case"together":Gu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ar(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ns|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,n=Br(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Br(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function iE(e,t,n){switch(t.tag){case 3:$0(t),Mi();break;case 5:f0(t);break;case 1:At(t.type)&&ql(t);break;case 4:Rh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;De(Gl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(De(ze,ze.current&1),t.flags|=128,null):n&t.child.childLanes?F0(e,t,n):(De(ze,ze.current&1),e=ar(e,t,n),e!==null?e.sibling:null);De(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return B0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,M0(e,t,n)}return ar(e,t,n)}var U0,df,z0,W0;U0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};df=function(){};z0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,hs(Bn.current);var i=null;switch(n){case"input":s=Od(e,s),r=Od(e,r),i=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),i=[];break;case"textarea":s=Id(e,s),r=Id(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hl)}Ld(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Le("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};W0=function(e,t,n,r){n!==r&&(t.flags|=4)};function vo(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function oE(e,t,n){var r=t.pendingProps;switch(jh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(t),null;case 1:return At(t.type)&&Vl(),ft(t),null;case 3:return r=t.stateNode,$i(),Be(Dt),Be(gt),Dh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yn!==null&&(xf(yn),yn=null))),df(e,t),ft(t),null;case 5:Oh(t);var s=hs(ra.current);if(n=t.type,e!==null&&t.stateNode!=null)z0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Y(166));return ft(t),null}if(e=hs(Bn.current),Xa(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Mn]=t,r[ta]=i,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<Co.length;s++)Le(Co[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":hp(r,i),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Le("invalid",r);break;case"textarea":pp(r,i),Le("invalid",r)}Ld(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ja(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ja(r.textContent,a,e),s=["children",""+a]):Vo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":Wa(r),mp(r,i,!0);break;case"textarea":Wa(r),gp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Hl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vy(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Mn]=t,e[ta]=r,U0(e,t,!1,!1),t.stateNode=e;e:{switch(o=$d(n,r),n){case"dialog":Le("cancel",e),Le("close",e),s=r;break;case"iframe":case"object":case"embed":Le("load",e),s=r;break;case"video":case"audio":for(s=0;s<Co.length;s++)Le(Co[s],e);s=r;break;case"source":Le("error",e),s=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),s=r;break;case"details":Le("toggle",e),s=r;break;case"input":hp(e,r),s=Od(e,r),Le("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),Le("invalid",e);break;case"textarea":pp(e,r),s=Id(e,r),Le("invalid",e);break;default:s=r}Ld(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?wy(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yy(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&qo(e,c):typeof c=="number"&&qo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vo.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Le("scroll",e):c!=null&&ch(e,i,c,o))}switch(n){case"input":Wa(e),mp(e,r,!1);break;case"textarea":Wa(e),gp(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ur(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?fi(e,!!r.multiple,i,!1):r.defaultValue!=null&&fi(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Hl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ft(t),null;case 6:if(e&&t.stateNode!=null)W0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Y(166));if(n=hs(ra.current),hs(Bn.current),Xa(t)){if(r=t.stateNode,n=t.memoizedProps,r[Mn]=t,(i=r.nodeValue!==n)&&(e=zt,e!==null))switch(e.tag){case 3:Ja(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ja(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mn]=t,t.stateNode=r}return ft(t),null;case 13:if(Be(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&Ut!==null&&t.mode&1&&!(t.flags&128))a0(),Mi(),t.flags|=98560,i=!1;else if(i=Xa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Y(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Mn]=t}else Mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ft(t),i=!1}else yn!==null&&(xf(yn),yn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?et===0&&(et=3):Vh())),t.updateQueue!==null&&(t.flags|=4),ft(t),null);case 4:return $i(),df(e,t),e===null&&Zo(t.stateNode.containerInfo),ft(t),null;case 10:return kh(t.type._context),ft(t),null;case 17:return At(t.type)&&Vl(),ft(t),null;case 19:if(Be(ze),i=t.memoizedState,i===null)return ft(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)vo(i,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xl(e),o!==null){for(t.flags|=128,vo(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return De(ze,ze.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ge()>Bi&&(t.flags|=128,r=!0,vo(i,!1),t.lanes=4194304)}else{if(!r)if(e=Xl(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ue)return ft(t),null}else 2*Ge()-i.renderingStartTime>Bi&&n!==1073741824&&(t.flags|=128,r=!0,vo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ge(),t.sibling=null,n=ze.current,De(ze,r?n&1|2:n&1),t):(ft(t),null);case 22:case 23:return Hh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ft&1073741824&&(ft(t),t.subtreeFlags&6&&(t.flags|=8192)):ft(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function aE(e,t){switch(jh(t),t.tag){case 1:return At(t.type)&&Vl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $i(),Be(Dt),Be(gt),Dh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Oh(t),null;case 13:if(Be(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(ze),null;case 4:return $i(),null;case 10:return kh(t.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var tl=!1,pt=!1,lE=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ui(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function ff(e,t,n){try{n()}catch(r){qe(e,t,r)}}var ig=!1;function cE(e,t){if(Kd=Ul,e=Ky(),Sh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++d===r&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gd={focusedElem:e,selectionRange:n},Ul=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,b=y.memoizedState,w=t.stateNode,v=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:hn(t.type,g),b);w.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(S){qe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return y=ig,ig=!1,y}function Lo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ff(t,n,i)}s=s.next}while(s!==r)}}function Ac(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function H0(e){var t=e.alternate;t!==null&&(e.alternate=null,H0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Mn],delete t[ta],delete t[Xd],delete t[Vj],delete t[qj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function V0(e){return e.tag===5||e.tag===3||e.tag===4}function og(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||V0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hl));else if(r!==4&&(e=e.child,e!==null))for(mf(e,t,n),e=e.sibling;e!==null;)mf(e,t,n),e=e.sibling}function pf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pf(e,t,n),e=e.sibling;e!==null;)pf(e,t,n),e=e.sibling}var ot=null,gn=!1;function fr(e,t,n){for(n=n.child;n!==null;)q0(e,t,n),n=n.sibling}function q0(e,t,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Nc,n)}catch{}switch(n.tag){case 5:pt||ui(n,t);case 6:var r=ot,s=gn;ot=null,fr(e,t,n),ot=r,gn=s,ot!==null&&(gn?(e=ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(gn?(e=ot,n=n.stateNode,e.nodeType===8?zu(e.parentNode,n):e.nodeType===1&&zu(e,n),Qo(e)):zu(ot,n.stateNode));break;case 4:r=ot,s=gn,ot=n.stateNode.containerInfo,gn=!0,fr(e,t,n),ot=r,gn=s;break;case 0:case 11:case 14:case 15:if(!pt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ff(n,t,o),s=s.next}while(s!==r)}fr(e,t,n);break;case 1:if(!pt&&(ui(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){qe(n,t,a)}fr(e,t,n);break;case 21:fr(e,t,n);break;case 22:n.mode&1?(pt=(r=pt)||n.memoizedState!==null,fr(e,t,n),pt=r):fr(e,t,n);break;default:fr(e,t,n)}}function ag(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lE),t.forEach(function(r){var s=yE.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function un(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,gn=!1;break e;case 3:ot=a.stateNode.containerInfo,gn=!0;break e;case 4:ot=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(ot===null)throw Error(Y(160));q0(i,o,s),ot=null,gn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){qe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Y0(t,e),t=t.sibling}function Y0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(un(t,e),Rn(e),r&4){try{Lo(3,e,e.return),Ac(3,e)}catch(g){qe(e,e.return,g)}try{Lo(5,e,e.return)}catch(g){qe(e,e.return,g)}}break;case 1:un(t,e),Rn(e),r&512&&n!==null&&ui(n,n.return);break;case 5:if(un(t,e),Rn(e),r&512&&n!==null&&ui(n,n.return),e.flags&32){var s=e.stateNode;try{qo(s,"")}catch(g){qe(e,e.return,g)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&py(s,i),$d(a,o);var u=$d(a,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?wy(s,f):d==="dangerouslySetInnerHTML"?yy(s,f):d==="children"?qo(s,f):ch(s,d,f,u)}switch(a){case"input":Dd(s,i);break;case"textarea":gy(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?fi(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?fi(s,!!i.multiple,i.defaultValue,!0):fi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ta]=i}catch(g){qe(e,e.return,g)}}break;case 6:if(un(t,e),Rn(e),r&4){if(e.stateNode===null)throw Error(Y(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){qe(e,e.return,g)}}break;case 3:if(un(t,e),Rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qo(t.containerInfo)}catch(g){qe(e,e.return,g)}break;case 4:un(t,e),Rn(e);break;case 13:un(t,e),Rn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zh=Ge())),r&4&&ag(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pt=(u=pt)||d,un(t,e),pt=u):un(t,e),Rn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ne=e,d=e.child;d!==null;){for(f=ne=d;ne!==null;){switch(h=ne,p=h.child,h.tag){case 0:case 11:case 14:case 15:Lo(4,h,h.return);break;case 1:ui(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){qe(r,n,g)}}break;case 5:ui(h,h.return);break;case 22:if(h.memoizedState!==null){cg(f);continue}}p!==null?(p.return=h,ne=p):cg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=xy("display",o))}catch(g){qe(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){qe(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:un(t,e),Rn(e),r&4&&ag(e);break;case 21:break;default:un(t,e),Rn(e)}}function Rn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(V0(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(qo(s,""),r.flags&=-33);var i=og(e);pf(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=og(e);mf(e,a,o);break;default:throw Error(Y(161))}}catch(c){qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uE(e,t,n){ne=e,K0(e)}function K0(e,t,n){for(var r=(e.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||tl;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||pt;a=tl;var u=pt;if(tl=o,(pt=c)&&!u)for(ne=s;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?ug(s):c!==null?(c.return=o,ne=c):ug(s);for(;i!==null;)ne=i,K0(i),i=i.sibling;ne=s,tl=a,pt=u}lg(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):lg(e)}}function lg(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pt||Ac(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:hn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&qp(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}qp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Qo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}pt||t.flags&512&&hf(t)}catch(h){qe(t,t.return,h)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function cg(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function ug(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ac(4,t)}catch(c){qe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){qe(t,s,c)}}var i=t.return;try{hf(t)}catch(c){qe(t,i,c)}break;case 5:var o=t.return;try{hf(t)}catch(c){qe(t,o,c)}}}catch(c){qe(t,t.return,c)}if(t===e){ne=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ne=a;break}ne=t.return}}var dE=Math.ceil,tc=ur.ReactCurrentDispatcher,Bh=ur.ReactCurrentOwner,nn=ur.ReactCurrentBatchConfig,be=0,st=null,Xe=null,at=0,Ft=0,di=Gr(0),et=0,aa=null,Ns=0,Ic=0,Uh=0,$o=null,Tt=null,zh=0,Bi=1/0,Gn=null,nc=!1,gf=null,$r=null,nl=!1,Rr=null,rc=0,Fo=0,vf=null,Cl=-1,kl=0;function Et(){return be&6?Ge():Cl!==-1?Cl:Cl=Ge()}function Fr(e){return e.mode&1?be&2&&at!==0?at&-at:Kj.transition!==null?(kl===0&&(kl=Oy()),kl):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:Fy(e.type)),e):1}function bn(e,t,n,r){if(50<Fo)throw Fo=0,vf=null,Error(Y(185));ba(e,n,r),(!(be&2)||e!==st)&&(e===st&&(!(be&2)&&(Ic|=n),et===4&&_r(e,at)),It(e,r),n===1&&be===0&&!(t.mode&1)&&(Bi=Ge()+500,Rc&&Qr()))}function It(e,t){var n=e.callbackNode;K_(e,t);var r=Bl(e,e===st?at:0);if(r===0)n!==null&&xp(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&xp(n),t===1)e.tag===0?Yj(dg.bind(null,e)):s0(dg.bind(null,e)),Wj(function(){!(be&6)&&Qr()}),n=null;else{switch(Dy(r)){case 1:n=mh;break;case 4:n=Py;break;case 16:n=Fl;break;case 536870912:n=Ry;break;default:n=Fl}n=nx(n,G0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function G0(e,t){if(Cl=-1,kl=0,be&6)throw Error(Y(327));var n=e.callbackNode;if(vi()&&e.callbackNode!==n)return null;var r=Bl(e,e===st?at:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sc(e,r);else{t=r;var s=be;be|=2;var i=J0();(st!==e||at!==t)&&(Gn=null,Bi=Ge()+500,ys(e,t));do try{mE();break}catch(a){Q0(e,a)}while(!0);Ch(),tc.current=i,be=s,Xe!==null?t=0:(st=null,at=0,t=et)}if(t!==0){if(t===2&&(s=Wd(e),s!==0&&(r=s,t=yf(e,s))),t===1)throw n=aa,ys(e,0),_r(e,r),It(e,Ge()),n;if(t===6)_r(e,r);else{if(s=e.current.alternate,!(r&30)&&!fE(s)&&(t=sc(e,r),t===2&&(i=Wd(e),i!==0&&(r=i,t=yf(e,i))),t===1))throw n=aa,ys(e,0),_r(e,r),It(e,Ge()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(Y(345));case 2:as(e,Tt,Gn);break;case 3:if(_r(e,r),(r&130023424)===r&&(t=zh+500-Ge(),10<t)){if(Bl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Jd(as.bind(null,e,Tt,Gn),t);break}as(e,Tt,Gn);break;case 4:if(_r(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-wn(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dE(r/1960))-r,10<r){e.timeoutHandle=Jd(as.bind(null,e,Tt,Gn),r);break}as(e,Tt,Gn);break;case 5:as(e,Tt,Gn);break;default:throw Error(Y(329))}}}return It(e,Ge()),e.callbackNode===n?G0.bind(null,e):null}function yf(e,t){var n=$o;return e.current.memoizedState.isDehydrated&&(ys(e,t).flags|=256),e=sc(e,t),e!==2&&(t=Tt,Tt=n,t!==null&&xf(t)),e}function xf(e){Tt===null?Tt=e:Tt.push.apply(Tt,e)}function fE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Sn(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _r(e,t){for(t&=~Uh,t&=~Ic,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wn(t),r=1<<n;e[n]=-1,t&=~r}}function dg(e){if(be&6)throw Error(Y(327));vi();var t=Bl(e,0);if(!(t&1))return It(e,Ge()),null;var n=sc(e,t);if(e.tag!==0&&n===2){var r=Wd(e);r!==0&&(t=r,n=yf(e,r))}if(n===1)throw n=aa,ys(e,0),_r(e,t),It(e,Ge()),n;if(n===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,as(e,Tt,Gn),It(e,Ge()),null}function Wh(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(Bi=Ge()+500,Rc&&Qr())}}function Cs(e){Rr!==null&&Rr.tag===0&&!(be&6)&&vi();var t=be;be|=1;var n=nn.transition,r=Pe;try{if(nn.transition=null,Pe=1,e)return e()}finally{Pe=r,nn.transition=n,be=t,!(be&6)&&Qr()}}function Hh(){Ft=di.current,Be(di)}function ys(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zj(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(jh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vl();break;case 3:$i(),Be(Dt),Be(gt),Dh();break;case 5:Oh(r);break;case 4:$i();break;case 13:Be(ze);break;case 19:Be(ze);break;case 10:kh(r.type._context);break;case 22:case 23:Hh()}n=n.return}if(st=e,Xe=e=Br(e.current,null),at=Ft=t,et=0,aa=null,Uh=Ic=Ns=0,Tt=$o=null,fs!==null){for(t=0;t<fs.length;t++)if(n=fs[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fs=null}return e}function Q0(e,t){do{var n=Xe;try{if(Ch(),jl.current=ec,Zl){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zl=!1}if(Es=0,rt=Ze=We=null,Mo=!1,sa=0,Bh.current=null,n===null||n.return===null){et=1,aa=t,Xe=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=at,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Xp(o);if(p!==null){p.flags&=-257,Zp(p,o,a,i,t),p.mode&1&&Jp(i,u,t),t=p,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){Jp(i,u,t),Vh();break e}c=Error(Y(426))}}else if(Ue&&a.mode&1){var b=Xp(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Zp(b,o,a,i,t),Eh(Fi(c,a));break e}}i=c=Fi(c,a),et!==4&&(et=2),$o===null?$o=[i]:$o.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=D0(i,c,t);Vp(i,w);break e;case 1:a=c;var v=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&($r===null||!$r.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=A0(i,a,t);Vp(i,S);break e}}i=i.return}while(i!==null)}Z0(n)}catch(_){t=_,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function J0(){var e=tc.current;return tc.current=ec,e===null?ec:e}function Vh(){(et===0||et===3||et===2)&&(et=4),st===null||!(Ns&268435455)&&!(Ic&268435455)||_r(st,at)}function sc(e,t){var n=be;be|=2;var r=J0();(st!==e||at!==t)&&(Gn=null,ys(e,t));do try{hE();break}catch(s){Q0(e,s)}while(!0);if(Ch(),be=n,tc.current=r,Xe!==null)throw Error(Y(261));return st=null,at=0,et}function hE(){for(;Xe!==null;)X0(Xe)}function mE(){for(;Xe!==null&&!F_();)X0(Xe)}function X0(e){var t=tx(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?Z0(e):Xe=t,Bh.current=null}function Z0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aE(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Xe=null;return}}else if(n=oE(n,t,Ft),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);et===0&&(et=5)}function as(e,t,n){var r=Pe,s=nn.transition;try{nn.transition=null,Pe=1,pE(e,t,n,r)}finally{nn.transition=s,Pe=r}return null}function pE(e,t,n,r){do vi();while(Rr!==null);if(be&6)throw Error(Y(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(G_(e,i),e===st&&(Xe=st=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nl||(nl=!0,nx(Fl,function(){return vi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nn.transition,nn.transition=null;var o=Pe;Pe=1;var a=be;be|=4,Bh.current=null,cE(e,n),Y0(n,e),Ij(Gd),Ul=!!Kd,Gd=Kd=null,e.current=n,uE(n),B_(),be=a,Pe=o,nn.transition=i}else e.current=n;if(nl&&(nl=!1,Rr=e,rc=s),i=e.pendingLanes,i===0&&($r=null),W_(n.stateNode),It(e,Ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nc)throw nc=!1,e=gf,gf=null,e;return rc&1&&e.tag!==0&&vi(),i=e.pendingLanes,i&1?e===vf?Fo++:(Fo=0,vf=e):Fo=0,Qr(),null}function vi(){if(Rr!==null){var e=Dy(rc),t=nn.transition,n=Pe;try{if(nn.transition=null,Pe=16>e?16:e,Rr===null)var r=!1;else{if(e=Rr,Rr=null,rc=0,be&6)throw Error(Y(331));var s=be;for(be|=4,ne=e.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Lo(8,d,i)}var f=d.child;if(f!==null)f.return=d,ne=f;else for(;ne!==null;){d=ne;var h=d.sibling,p=d.return;if(H0(d),d===u){ne=null;break}if(h!==null){h.return=p,ne=h;break}ne=p}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lo(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,ne=w;break e}ne=i.return}}var v=e.current;for(ne=v;ne!==null;){o=ne;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ne=x;else e:for(o=v;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ac(9,a)}}catch(_){qe(a,a.return,_)}if(a===o){ne=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ne=S;break e}ne=a.return}}if(be=s,Qr(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Nc,e)}catch{}r=!0}return r}finally{Pe=n,nn.transition=t}}return!1}function fg(e,t,n){t=Fi(n,t),t=D0(e,t,1),e=Lr(e,t,1),t=Et(),e!==null&&(ba(e,1,t),It(e,t))}function qe(e,t,n){if(e.tag===3)fg(e,e,n);else for(;t!==null;){if(t.tag===3){fg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){e=Fi(n,e),e=A0(t,e,1),t=Lr(t,e,1),e=Et(),t!==null&&(ba(t,1,e),It(t,e));break}}t=t.return}}function gE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(at&n)===n&&(et===4||et===3&&(at&130023424)===at&&500>Ge()-zh?ys(e,0):Uh|=n),It(e,t)}function ex(e,t){t===0&&(e.mode&1?(t=qa,qa<<=1,!(qa&130023424)&&(qa=4194304)):t=1);var n=Et();e=or(e,t),e!==null&&(ba(e,t,n),It(e,n))}function vE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ex(e,n)}function yE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(t),ex(e,n)}var tx;tx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Dt.current)Rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Rt=!1,iE(e,t,n);Rt=!!(e.flags&131072)}else Rt=!1,Ue&&t.flags&1048576&&i0(t,Kl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Nl(e,t),e=t.pendingProps;var s=Ii(t,gt.current);gi(t,n),s=Ih(null,t,r,e,s,n);var i=Mh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(r)?(i=!0,ql(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ph(t),s.updater=Dc,t.stateNode=s,s._reactInternals=t,sf(t,r,e,n),t=lf(null,t,r,!0,i,n)):(t.tag=0,Ue&&i&&_h(t),bt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Nl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=wE(r),e=hn(r,e),s){case 0:t=af(null,t,r,e,n);break e;case 1:t=ng(null,t,r,e,n);break e;case 11:t=eg(null,t,r,e,n);break e;case 14:t=tg(null,t,r,hn(r.type,e),n);break e}throw Error(Y(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),af(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),ng(e,t,r,s,n);case 3:e:{if($0(t),e===null)throw Error(Y(387));r=t.pendingProps,i=t.memoizedState,s=i.element,d0(e,t),Jl(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Fi(Error(Y(423)),t),t=rg(e,t,r,n,s);break e}else if(r!==s){s=Fi(Error(Y(424)),t),t=rg(e,t,r,n,s);break e}else for(Ut=Mr(t.stateNode.containerInfo.firstChild),zt=t,Ue=!0,yn=null,n=c0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mi(),r===s){t=ar(e,t,n);break e}bt(e,t,r,n)}t=t.child}return t;case 5:return f0(t),e===null&&tf(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Qd(r,s)?o=null:i!==null&&Qd(r,i)&&(t.flags|=32),L0(e,t),bt(e,t,o,n),t.child;case 6:return e===null&&tf(t),null;case 13:return F0(e,t,n);case 4:return Rh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Li(t,null,r,n):bt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),eg(e,t,r,s,n);case 7:return bt(e,t,t.pendingProps,n),t.child;case 8:return bt(e,t,t.pendingProps.children,n),t.child;case 12:return bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,De(Gl,r._currentValue),r._currentValue=o,i!==null)if(Sn(i.value,o)){if(i.children===s.children&&!Dt.current){t=ar(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=nr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),nf(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),nf(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}bt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,gi(t,n),s=an(s),r=r(s),t.flags|=1,bt(e,t,r,n),t.child;case 14:return r=t.type,s=hn(r,t.pendingProps),s=hn(r.type,s),tg(e,t,r,s,n);case 15:return I0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:hn(r,s),Nl(e,t),t.tag=1,At(r)?(e=!0,ql(t)):e=!1,gi(t,n),O0(t,r,s),sf(t,r,s,n),lf(null,t,r,!0,e,n);case 19:return B0(e,t,n);case 22:return M0(e,t,n)}throw Error(Y(156,t.tag))};function nx(e,t){return Ty(e,t)}function xE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(e,t,n,r){return new xE(e,t,n,r)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wE(e){if(typeof e=="function")return qh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dh)return 11;if(e===fh)return 14}return 2}function Br(e,t){var n=e.alternate;return n===null?(n=tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tl(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")qh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ti:return xs(n.children,s,i,t);case uh:o=8,s|=8;break;case kd:return e=tn(12,n,t,s|2),e.elementType=kd,e.lanes=i,e;case Td:return e=tn(13,n,t,s),e.elementType=Td,e.lanes=i,e;case Pd:return e=tn(19,n,t,s),e.elementType=Pd,e.lanes=i,e;case fy:return Mc(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uy:o=10;break e;case dy:o=9;break e;case dh:o=11;break e;case fh:o=14;break e;case xr:o=16,r=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=tn(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function xs(e,t,n,r){return e=tn(7,e,r,t),e.lanes=n,e}function Mc(e,t,n,r){return e=tn(22,e,r,t),e.elementType=fy,e.lanes=n,e.stateNode={isHidden:!1},e}function Qu(e,t,n){return e=tn(6,e,null,t),e.lanes=n,e}function Ju(e,t,n){return t=tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bE(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ru(0),this.expirationTimes=Ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yh(e,t,n,r,s,i,o,a,c){return e=new bE(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ph(i),e}function SE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ei,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function rx(e){if(!e)return zr;e=e._reactInternals;e:{if(As(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var n=e.type;if(At(n))return r0(e,n,t)}return t}function sx(e,t,n,r,s,i,o,a,c){return e=Yh(n,r,!0,e,s,i,o,a,c),e.context=rx(null),n=e.current,r=Et(),s=Fr(n),i=nr(r,s),i.callback=t??null,Lr(n,i,s),e.current.lanes=s,ba(e,s,r),It(e,r),e}function Lc(e,t,n,r){var s=t.current,i=Et(),o=Fr(s);return n=rx(n),t.context===null?t.context=n:t.pendingContext=n,t=nr(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Lr(s,t,o),e!==null&&(bn(e,s,o,i),_l(e,s,o)),o}function ic(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kh(e,t){hg(e,t),(e=e.alternate)&&hg(e,t)}function _E(){return null}var ix=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gh(e){this._internalRoot=e}$c.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));Lc(e,t,null,null)};$c.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cs(function(){Lc(null,e,null,null)}),t[ir]=null}};function $c(e){this._internalRoot=e}$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=My();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sr.length&&t!==0&&t<Sr[n].priority;n++);Sr.splice(n,0,e),n===0&&$y(e)}};function Qh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mg(){}function jE(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=ic(o);i.call(u)}}var o=sx(t,r,e,0,null,!1,!1,"",mg);return e._reactRootContainer=o,e[ir]=o.current,Zo(e.nodeType===8?e.parentNode:e),Cs(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ic(c);a.call(u)}}var c=Yh(e,0,!1,null,null,!1,!1,"",mg);return e._reactRootContainer=c,e[ir]=c.current,Zo(e.nodeType===8?e.parentNode:e),Cs(function(){Lc(t,c,n,r)}),c}function Bc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=ic(o);a.call(c)}}Lc(t,o,e,s)}else o=jE(n,t,e,s,r);return ic(o)}Ay=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=No(t.pendingLanes);n!==0&&(ph(t,n|1),It(t,Ge()),!(be&6)&&(Bi=Ge()+500,Qr()))}break;case 13:Cs(function(){var r=or(e,1);if(r!==null){var s=Et();bn(r,e,1,s)}}),Kh(e,1)}};gh=function(e){if(e.tag===13){var t=or(e,134217728);if(t!==null){var n=Et();bn(t,e,134217728,n)}Kh(e,134217728)}};Iy=function(e){if(e.tag===13){var t=Fr(e),n=or(e,t);if(n!==null){var r=Et();bn(n,e,t,r)}Kh(e,t)}};My=function(){return Pe};Ly=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}};Bd=function(e,t,n){switch(t){case"input":if(Dd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Pc(r);if(!s)throw Error(Y(90));my(r),Dd(r,s)}}}break;case"textarea":gy(e,n);break;case"select":t=n.value,t!=null&&fi(e,!!n.multiple,t,!1)}};_y=Wh;jy=Cs;var EE={usingClientEntryPoint:!1,Events:[_a,ii,Pc,by,Sy,Wh]},yo={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NE={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cy(e),e===null?null:e.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||_E,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{Nc=rl.inject(NE),Fn=rl}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EE;Yt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(t))throw Error(Y(200));return SE(e,t,null,n)};Yt.createRoot=function(e,t){if(!Qh(e))throw Error(Y(299));var n=!1,r="",s=ix;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yh(e,1,!1,null,null,n,!1,r,s),e[ir]=t.current,Zo(e.nodeType===8?e.parentNode:e),new Gh(t)};Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=Cy(t),e=e===null?null:e.stateNode,e};Yt.flushSync=function(e){return Cs(e)};Yt.hydrate=function(e,t,n){if(!Fc(t))throw Error(Y(200));return Bc(null,e,t,!0,n)};Yt.hydrateRoot=function(e,t,n){if(!Qh(e))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ix;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=sx(t,null,e,1,n??null,s,!1,i,o),e[ir]=t.current,Zo(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $c(t)};Yt.render=function(e,t,n){if(!Fc(t))throw Error(Y(200));return Bc(null,e,t,!1,n)};Yt.unmountComponentAtNode=function(e){if(!Fc(e))throw Error(Y(40));return e._reactRootContainer?(Cs(function(){Bc(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1};Yt.unstable_batchedUpdates=Wh;Yt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fc(n))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Bc(e,t,n,!1,r)};Yt.version="18.3.1-next-f1338f8080-20240426";function ox(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ox)}catch(e){console.error(e)}}ox(),oy.exports=Yt;var Is=oy.exports;const ax=Yv(Is);var lx,pg=Is;lx=pg.createRoot,pg.hydrateRoot;const CE=1,kE=1e6;let Xu=0;function TE(){return Xu=(Xu+1)%Number.MAX_SAFE_INTEGER,Xu.toString()}const Zu=new Map,gg=e=>{if(Zu.has(e))return;const t=setTimeout(()=>{Zu.delete(e),Bo({type:"REMOVE_TOAST",toastId:e})},kE);Zu.set(e,t)},PE=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,CE)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?gg(n):e.toasts.forEach(r=>{gg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Pl=[];let Rl={toasts:[]};function Bo(e){Rl=PE(Rl,e),Pl.forEach(t=>{t(Rl)})}function RE({...e}){const t=TE(),n=s=>Bo({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Bo({type:"DISMISS_TOAST",toastId:t});return Bo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function vt(){const[e,t]=m.useState(Rl);return m.useEffect(()=>(Pl.push(t),()=>{const n=Pl.indexOf(t);n>-1&&Pl.splice(n,1)}),[e]),{...e,toast:RE,dismiss:n=>Bo({type:"DISMISS_TOAST",toastId:n})}}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function OE(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function cx(...e){return t=>e.forEach(n=>OE(n,t))}function xe(...e){return m.useCallback(cx(...e),e)}function DE(e,t=[]){let n=[];function r(i,o){const a=m.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][c])||a,b=m.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||a,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,AE(s,...t)]}function AE(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Wr=m.forwardRef((e,t)=>{const{children:n,...r}=e,s=m.Children.toArray(n),i=s.find(IE);if(i){const o=i.props.children,a=s.map(c=>c===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:c);return l.jsx(wf,{...r,ref:t,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return l.jsx(wf,{...r,ref:t,children:n})});Wr.displayName="Slot";var wf=m.forwardRef((e,t)=>{const{children:n,...r}=e;if(m.isValidElement(n)){const s=LE(n);return m.cloneElement(n,{...ME(r,n.props),ref:t?cx(t,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});wf.displayName="SlotClone";var ux=({children:e})=>l.jsx(l.Fragment,{children:e});function IE(e){return m.isValidElement(e)&&e.type===ux}function ME(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function LE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Jh(e){const t=e+"CollectionProvider",[n,r]=DE(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:g}=p,b=J.useRef(null),w=J.useRef(new Map).current;return l.jsx(s,{scope:y,itemMap:w,collectionRef:b,children:g})};o.displayName=t;const a=e+"CollectionSlot",c=J.forwardRef((p,y)=>{const{scope:g,children:b}=p,w=i(a,g),v=xe(y,w.collectionRef);return l.jsx(Wr,{ref:v,children:b})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=J.forwardRef((p,y)=>{const{scope:g,children:b,...w}=p,v=J.useRef(null),x=xe(y,v),S=i(u,g);return J.useEffect(()=>(S.itemMap.set(v,{ref:v,...w}),()=>void S.itemMap.delete(v))),l.jsx(Wr,{[d]:"",ref:x,children:b})});f.displayName=u;function h(p){const y=i(e+"CollectionConsumer",p);return J.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((S,_)=>w.indexOf(S.ref.current)-w.indexOf(_.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},h,r]}function $E(e,t){const n=m.createContext(t),r=i=>{const{children:o,...a}=i,c=m.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Ms(e,t=[]){let n=[];function r(i,o){const a=m.createContext(o),c=n.length;n=[...n,o];const u=f=>{var w;const{scope:h,children:p,...y}=f,g=((w=h==null?void 0:h[e])==null?void 0:w[c])||a,b=m.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:b,children:p})};u.displayName=i+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||a,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,FE(s,...t)]}function FE(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var BE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=BE.reduce((e,t)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Wr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function dx(e,t){e&&Is.flushSync(()=>e.dispatchEvent(t))}function Qe(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function UE(e,t=globalThis==null?void 0:globalThis.document){const n=Qe(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var zE="DismissableLayer",bf="dismissableLayer.update",WE="dismissableLayer.pointerDownOutside",HE="dismissableLayer.focusOutside",vg,fx=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zi=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=m.useContext(fx),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),y=xe(t,E=>f(E)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(b),v=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=w,_=qE(E=>{const C=E.target,O=[...u.branches].some(R=>R.contains(C));!S||O||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},h),N=YE(E=>{const C=E.target;[...u.branches].some(R=>R.contains(C))||(i==null||i(E),o==null||o(E),E.defaultPrevented||a==null||a())},h);return UE(E=>{v===u.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(vg=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),yg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=vg)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),yg())},[d,u]),m.useEffect(()=>{const E=()=>p({});return document.addEventListener(bf,E),()=>document.removeEventListener(bf,E)},[]),l.jsx(ue.div,{...c,ref:y,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,N.onFocusCapture),onBlurCapture:re(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,_.onPointerDownCapture)})});Zi.displayName=zE;var VE="DismissableLayerBranch",hx=m.forwardRef((e,t)=>{const n=m.useContext(fx),r=m.useRef(null),s=xe(t,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(ue.div,{...e,ref:s})});hx.displayName=VE;function qE(e,t=globalThis==null?void 0:globalThis.document){const n=Qe(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){mx(WE,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function YE(e,t=globalThis==null?void 0:globalThis.document){const n=Qe(e),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&mx(HE,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yg(){const e=new CustomEvent(bf);document.dispatchEvent(e)}function mx(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?dx(s,i):s.dispatchEvent(i)}var KE=Zi,GE=hx,ct=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},QE="Portal",Ea=m.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,i]=m.useState(!1);ct(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ax.createPortal(l.jsx(ue.div,{...r,ref:t}),o):null});Ea.displayName=QE;function JE(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Gt=e=>{const{present:t,children:n}=e,r=XE(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=xe(r.ref,ZE(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Gt.displayName="Presence";function XE(e){const[t,n]=m.useState(),r=m.useRef({}),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[a,c]=JE(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=sl(r.current);i.current=a==="mounted"?u:"none"},[a]),ct(()=>{const u=r.current,d=s.current;if(d!==e){const h=i.current,p=sl(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ct(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=sl(r.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(i.current=sl(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function sl(e){return(e==null?void 0:e.animationName)||"none"}function ZE(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ks({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=eN({defaultProp:t,onChange:n}),i=e!==void 0,o=i?e:r,a=Qe(n),c=m.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&a(f)}else s(u)},[i,e,s,a]);return[o,c]}function eN({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),i=Qe(t);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var tN="VisuallyHidden",Na=m.forwardRef((e,t)=>l.jsx(ue.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Na.displayName=tN;var nN=Na,Xh="ToastProvider",[Zh,rN,sN]=Jh("Toast"),[px,NL]=Ms("Toast",[sN]),[iN,Uc]=px(Xh),gx=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xh}\`. Expected non-empty \`string\`.`),l.jsx(Zh.Provider,{scope:t,children:l.jsx(iN,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};gx.displayName=Xh;var vx="ToastViewport",oN=["F8"],Sf="toast.viewportPause",_f="toast.viewportResume",yx=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=oN,label:s="Notifications ({hotkey})",...i}=e,o=Uc(vx,n),a=rN(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=xe(t,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;m.useEffect(()=>{const b=w=>{var x;r.length!==0&&r.every(S=>w[S]||w.code===S)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=c.current,w=f.current;if(y&&b&&w){const v=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(Sf);w.dispatchEvent(N),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(_f);w.dispatchEvent(N),o.isClosePausedRef.current=!1}},S=N=>{!b.contains(N.relatedTarget)&&x()},_=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",v),b.addEventListener("focusout",S),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[y,o.isClosePausedRef]);const g=m.useCallback(({tabbingDirection:b})=>{const v=a().map(x=>{const S=x.ref.current,_=[S,...xN(S)];return b==="forwards"?_:_.reverse()});return(b==="forwards"?v.reverse():v).flat()},[a]);return m.useEffect(()=>{const b=f.current;if(b){const w=v=>{var _,N,E;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const C=document.activeElement,O=v.shiftKey;if(v.target===b&&O){(_=u.current)==null||_.focus();return}const z=g({tabbingDirection:O?"backwards":"forwards"}),M=z.findIndex(I=>I===C);ed(z.slice(M+1))?v.preventDefault():O?(N=u.current)==null||N.focus():(E=d.current)==null||E.focus()}};return b.addEventListener("keydown",w),()=>b.removeEventListener("keydown",w)}},[a,g]),l.jsxs(GE,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&l.jsx(jf,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});ed(b)}}),l.jsx(Zh.Slot,{scope:n,children:l.jsx(ue.ol,{tabIndex:-1,...i,ref:h})}),y&&l.jsx(jf,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});ed(b)}})]})});yx.displayName=vx;var xx="ToastFocusProxy",jf=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=Uc(xx,n);return l.jsx(Na,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});jf.displayName=xx;var zc="Toast",aN="toast.swipeStart",lN="toast.swipeMove",cN="toast.swipeCancel",uN="toast.swipeEnd",wx=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=e,[a=!0,c]=ks({prop:r,defaultProp:s,onChange:i});return l.jsx(Gt,{present:n||a,children:l.jsx(hN,{open:a,...o,ref:t,onClose:()=>c(!1),onPause:Qe(e.onPause),onResume:Qe(e.onResume),onSwipeStart:re(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:re(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});wx.displayName=zc;var[dN,fN]=px(zc,{onClose(){}}),hN=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...y}=e,g=Uc(zc,n),[b,w]=m.useState(null),v=xe(t,I=>w(I)),x=m.useRef(null),S=m.useRef(null),_=s||g.duration,N=m.useRef(0),E=m.useRef(_),C=m.useRef(0),{onToastAdd:O,onToastRemove:R}=g,H=Qe(()=>{var K;(b==null?void 0:b.contains(document.activeElement))&&((K=g.viewport)==null||K.focus()),o()}),z=m.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout(H,I))},[H]);m.useEffect(()=>{const I=g.viewport;if(I){const K=()=>{z(E.current),u==null||u()},T=()=>{const k=new Date().getTime()-N.current;E.current=E.current-k,window.clearTimeout(C.current),c==null||c()};return I.addEventListener(Sf,T),I.addEventListener(_f,K),()=>{I.removeEventListener(Sf,T),I.removeEventListener(_f,K)}}},[g.viewport,_,c,u,z]),m.useEffect(()=>{i&&!g.isClosePausedRef.current&&z(_)},[i,_,g.isClosePausedRef,z]),m.useEffect(()=>(O(),()=>R()),[O,R]);const M=m.useMemo(()=>b?Cx(b):null,[b]);return g.viewport?l.jsxs(l.Fragment,{children:[M&&l.jsx(mN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:M}),l.jsx(dN,{scope:n,onClose:H,children:Is.createPortal(l.jsx(Zh.ItemSlot,{scope:n,children:l.jsx(KE,{asChild:!0,onEscapeKeyDown:re(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||H(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ue.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:re(e.onPointerDown,I=>{I.button===0&&(x.current={x:I.clientX,y:I.clientY})}),onPointerMove:re(e.onPointerMove,I=>{if(!x.current)return;const K=I.clientX-x.current.x,T=I.clientY-x.current.y,k=!!S.current,j=["left","right"].includes(g.swipeDirection),D=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,L=j?D(0,K):0,W=j?0:D(0,T),X=I.pointerType==="touch"?10:2,G={x:L,y:W},P={originalEvent:I,delta:G};k?(S.current=G,il(lN,f,P,{discrete:!1})):xg(G,g.swipeDirection,X)?(S.current=G,il(aN,d,P,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(K)>X||Math.abs(T)>X)&&(x.current=null)}),onPointerUp:re(e.onPointerUp,I=>{const K=S.current,T=I.target;if(T.hasPointerCapture(I.pointerId)&&T.releasePointerCapture(I.pointerId),S.current=null,x.current=null,K){const k=I.currentTarget,j={originalEvent:I,delta:K};xg(K,g.swipeDirection,g.swipeThreshold)?il(uN,p,j,{discrete:!0}):il(cN,h,j,{discrete:!0}),k.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),mN=e=>{const{__scopeToast:t,children:n,...r}=e,s=Uc(zc,t),[i,o]=m.useState(!1),[a,c]=m.useState(!1);return vN(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Ea,{asChild:!0,children:l.jsx(Na,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},pN="ToastTitle",bx=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ue.div,{...r,ref:t})});bx.displayName=pN;var gN="ToastDescription",Sx=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(ue.div,{...r,ref:t})});Sx.displayName=gN;var _x="ToastAction",jx=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(Nx,{altText:n,asChild:!0,children:l.jsx(em,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${_x}\`. Expected non-empty \`string\`.`),null)});jx.displayName=_x;var Ex="ToastClose",em=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=fN(Ex,n);return l.jsx(Nx,{asChild:!0,children:l.jsx(ue.button,{type:"button",...r,ref:t,onClick:re(e.onClick,s.onClose)})})});em.displayName=Ex;var Nx=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function Cx(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),yN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Cx(r))}}),t}function il(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?dx(s,i):s.dispatchEvent(i)}var xg=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function vN(e=()=>{}){const t=Qe(e);ct(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function yN(e){return e.nodeType===e.ELEMENT_NODE}function xN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ed(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var wN=gx,kx=yx,Tx=wx,Px=bx,Rx=Sx,Ox=jx,Dx=em;function Ax(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ax(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ix(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ax(e))&&(r&&(r+=" "),r+=t);return r}const wg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bg=Ix,Ca=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return bg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=i==null?void 0:i[u];if(d===null)return null;const h=wg(d)||wg(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[g,b]=y;return Array.isArray(b)?b.includes({...i,...a}[g]):{...i,...a}[g]===b})?[...u,f,h]:u},[]);return bg(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mx=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>m.createElement("svg",{ref:c,...SN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Mx("lucide",s),...a},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(_N,{ref:i,iconNode:t,className:Mx(`lucide-${bN(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=_e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=_e("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=_e("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=_e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=_e("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=_e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=_e("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=_e("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=_e("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nm="-",MN=e=>{const t=$N(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(nm);return a[0]===""&&a.length!==1&&a.shift(),zx(a,t)||LN(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},zx=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?zx(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(nm);return(o=t.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Ng=/^\[(.+)\]$/,LN=e=>{if(Ng.test(e)){const t=Ng.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},$N=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return BN(Object.entries(e.classGroups),n).forEach(([i,o])=>{Cf(o,r,i,t)}),r},Cf=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Cg(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(FN(s)){Cf(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Cf(o,Cg(t,i),n,r)})})},Cg=(e,t)=>{let n=e;return t.split(nm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},FN=e=>e.isThemeGetter,BN=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[t+o,a])):i);return[n,s]}):e,UN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Wx="!",zN=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,o=a=>{const c=[];let u=0,d=0,f;for(let b=0;b<a.length;b++){let w=a[b];if(u===0){if(w===s&&(r||a.slice(b,b+i)===t)){c.push(a.slice(d,b)),d=b+i;continue}if(w==="/"){f=b;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?a:a.substring(d),p=h.startsWith(Wx),y=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:o}):o},WN=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},HN=e=>({cache:UN(e.cacheSize),parseClassName:zN(e),...MN(e)}),VN=/\s+/,qN=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(VN);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let y=!!p,g=r(y?h.substring(0,p):h);if(!g){if(!y){a=u+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=u+(a.length>0?" "+a:a);continue}y=!1}const b=WN(d).join(":"),w=f?b+Wx:b,v=w+g;if(i.includes(v))continue;i.push(v);const x=s(g,y);for(let S=0;S<x.length;++S){const _=x[S];i.push(w+_)}a=u+(a.length>0?" "+a:a)}return a};function YN(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Hx(t))&&(r&&(r+=" "),r+=n);return r}const Hx=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Hx(e[r]))&&(n&&(n+=" "),n+=t);return n};function KN(e,...t){let n,r,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=HN(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=qN(c,n);return s(c,d),d}return function(){return i(YN.apply(null,arguments))}}const Me=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Vx=/^\[(?:([a-z-]+):)?(.+)\]$/i,GN=/^\d+\/\d+$/,QN=new Set(["px","full","screen"]),JN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vn=e=>yi(e)||QN.has(e)||GN.test(e),hr=e=>eo(e,"length",cC),yi=e=>!!e&&!Number.isNaN(Number(e)),td=e=>eo(e,"number",yi),xo=e=>!!e&&Number.isInteger(Number(e)),nC=e=>e.endsWith("%")&&yi(e.slice(0,-1)),he=e=>Vx.test(e),mr=e=>JN.test(e),rC=new Set(["length","size","percentage"]),sC=e=>eo(e,rC,qx),iC=e=>eo(e,"position",qx),oC=new Set(["image","url"]),aC=e=>eo(e,oC,dC),lC=e=>eo(e,"",uC),wo=()=>!0,eo=(e,t,n)=>{const r=Vx.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},cC=e=>XN.test(e)&&!ZN.test(e),qx=()=>!1,uC=e=>eC.test(e),dC=e=>tC.test(e),fC=()=>{const e=Me("colors"),t=Me("spacing"),n=Me("blur"),r=Me("brightness"),s=Me("borderColor"),i=Me("borderRadius"),o=Me("borderSpacing"),a=Me("borderWidth"),c=Me("contrast"),u=Me("grayscale"),d=Me("hueRotate"),f=Me("invert"),h=Me("gap"),p=Me("gradientColorStops"),y=Me("gradientColorStopPositions"),g=Me("inset"),b=Me("margin"),w=Me("opacity"),v=Me("padding"),x=Me("saturate"),S=Me("scale"),_=Me("sepia"),N=Me("skew"),E=Me("space"),C=Me("translate"),O=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",he,t],z=()=>[he,t],M=()=>["",Vn,hr],I=()=>["auto",yi,he],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],k=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",he],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[yi,he];return{cacheSize:500,separator:":",theme:{colors:[wo],spacing:[Vn,hr],blur:["none","",mr,he],brightness:W(),borderColor:[e],borderRadius:["none","","full",mr,he],borderSpacing:z(),borderWidth:M(),contrast:W(),grayscale:D(),hueRotate:W(),invert:D(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[nC,hr],inset:H(),margin:H(),opacity:W(),padding:z(),saturate:W(),scale:W(),sepia:D(),skew:W(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[mr]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),he]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xo,he]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",xo,he]}],"grid-cols":[{"grid-cols":[wo]}],"col-start-end":[{col:["auto",{span:["full",xo,he]},he]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[wo]}],"row-start-end":[{row:["auto",{span:[xo,he]},he]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,t]}],"min-w":[{"min-w":[he,t,"min","max","fit"]}],"max-w":[{"max-w":[he,t,"none","full","min","max","fit","prose",{screen:[mr]},mr]}],h:[{h:[he,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,t,"auto","min","max","fit"]}],"font-size":[{text:["base",mr,hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",td]}],"font-family":[{font:[wo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",yi,td]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Vn,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Vn,hr]}],"underline-offset":[{"underline-offset":["auto",Vn,he]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),iC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[Vn,he]}],"outline-w":[{outline:[Vn,hr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Vn,hr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",mr,lC]}],"shadow-color":[{shadow:[wo]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...k(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":k()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",mr,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[xo,he]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Vn,hr,td]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hC=KN(fC);function se(...e){return hC(Ix(e))}const mC=wN,Yx=m.forwardRef(({className:e,...t},n)=>l.jsx(kx,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Yx.displayName=kx.displayName;const pC=Ca("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Kx=m.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(Tx,{ref:r,className:se(pC({variant:t}),e),...n}));Kx.displayName=Tx.displayName;const gC=m.forwardRef(({className:e,...t},n)=>l.jsx(Ox,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));gC.displayName=Ox.displayName;const Gx=m.forwardRef(({className:e,...t},n)=>l.jsx(Dx,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Hc,{className:"h-4 w-4"})}));Gx.displayName=Dx.displayName;const Qx=m.forwardRef(({className:e,...t},n)=>l.jsx(Px,{ref:n,className:se("text-sm font-semibold",e),...t}));Qx.displayName=Px.displayName;const Jx=m.forwardRef(({className:e,...t},n)=>l.jsx(Rx,{ref:n,className:se("text-sm opacity-90",e),...t}));Jx.displayName=Rx.displayName;function vC(){const{toasts:e}=vt();return l.jsxs(mC,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return l.jsxs(Kx,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(Qx,{children:n}),r&&l.jsx(Jx,{children:r})]}),s,l.jsx(Gx,{})]},t)}),l.jsx(Yx,{})]})}var kg=["light","dark"],yC="(prefers-color-scheme: dark)",xC=m.createContext(void 0),wC={setTheme:e=>{},themes:[]},bC=()=>{var e;return(e=m.useContext(xC))!=null?e:wC};m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?kg.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,b=!0)=>{let w=o?o[y]:y,v=g?y+"|| ''":`'${w}'`,x="";return s&&b&&!g&&kg.includes(y)&&(x+=`d.style.colorScheme = '${y}';`),n==="class"?g||w?x+=`c.add(${v})`:x+="null":w&&(x+=`d[s](n,${v})`),x},p=e?`!function(){${d}${h(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${yC}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var SC=e=>{switch(e){case"success":return EC;case"info":return CC;case"warning":return NC;case"error":return kC;default:return null}},_C=Array(12).fill(0),jC=({visible:e})=>J.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},J.createElement("div",{className:"sonner-spinner"},_C.map((t,n)=>J.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),EC=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),NC=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),CC=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kC=J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},J.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TC=()=>{let[e,t]=J.useState(document.hidden);return J.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},kf=1,PC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:kf++,i=this.toasts.find(a=>a.id===s),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async i=>{if(OC(i)&&!i.ok){s=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,a=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:n,type:"error",message:o,description:a})}else if(t.success!==void 0){s=!1;let o=typeof t.success=="function"?await t.success(i):t.success,a=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(t.error!==void 0){s=!1;let o=typeof t.error=="function"?await t.error(i):t.error,a=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=t.finally)==null||i.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||kf++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},$t=new PC,RC=(e,t)=>{let n=(t==null?void 0:t.id)||kf++;return $t.addToast({title:e,...t,id:n}),n},OC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",DC=RC,AC=()=>$t.toasts,Hs=Object.assign(DC,{success:$t.success,info:$t.info,warning:$t.warning,error:$t.error,custom:$t.custom,message:$t.message,promise:$t.promise,dismiss:$t.dismiss,loading:$t.loading},{getHistory:AC});function IC(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}IC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ol(e){return e.label!==void 0}var MC=3,LC="32px",$C=4e3,FC=356,BC=14,UC=20,zC=200;function WC(...e){return e.filter(Boolean).join(" ")}var HC=e=>{var t,n,r,s,i,o,a,c,u,d;let{invert:f,toast:h,unstyled:p,interacting:y,setHeights:g,visibleToasts:b,heights:w,index:v,toasts:x,expanded:S,removeToast:_,defaultRichColors:N,closeButton:E,style:C,cancelButtonStyle:O,actionButtonStyle:R,className:H="",descriptionClassName:z="",duration:M,position:I,gap:K,loadingIcon:T,expandByDefault:k,classNames:j,icons:D,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:W,cn:X}=e,[G,P]=J.useState(!1),[ee,Z]=J.useState(!1),[A,F]=J.useState(!1),[V,$]=J.useState(!1),[Q,te]=J.useState(0),[we,le]=J.useState(0),Je=J.useRef(null),ye=J.useRef(null),U=v===0,ie=v+1<=b,ve=h.type,Ne=h.dismissible!==!1,Ke=h.className||"",$a=h.descriptionClassName||"",ss=J.useMemo(()=>w.findIndex(fe=>fe.toastId===h.id)||0,[w,h.id]),kn=J.useMemo(()=>{var fe;return(fe=h.closeButton)!=null?fe:E},[h.closeButton,E]),yt=J.useMemo(()=>h.duration||M||$C,[h.duration,M]),_u=J.useRef(0),Us=J.useRef(0),np=J.useRef(0),zs=J.useRef(null),[rp,QS]=I.split("-"),sp=J.useMemo(()=>w.reduce((fe,Ie,Re)=>Re>=ss?fe:fe+Ie.height,0),[w,ss]),ip=TC(),JS=h.invert||f,ju=ve==="loading";Us.current=J.useMemo(()=>ss*K+sp,[ss,sp]),J.useEffect(()=>{P(!0)},[]),J.useLayoutEffect(()=>{if(!G)return;let fe=ye.current,Ie=fe.style.height;fe.style.height="auto";let Re=fe.getBoundingClientRect().height;fe.style.height=Ie,le(Re),g(Tn=>Tn.find(Pn=>Pn.toastId===h.id)?Tn.map(Pn=>Pn.toastId===h.id?{...Pn,height:Re}:Pn):[{toastId:h.id,height:Re,position:h.position},...Tn])},[G,h.title,h.description,g,h.id]);let dr=J.useCallback(()=>{Z(!0),te(Us.current),g(fe=>fe.filter(Ie=>Ie.toastId!==h.id)),setTimeout(()=>{_(h)},zC)},[h,_,g,Us]);J.useEffect(()=>{if(h.promise&&ve==="loading"||h.duration===1/0||h.type==="loading")return;let fe,Ie=yt;return S||y||W&&ip?(()=>{if(np.current<_u.current){let Re=new Date().getTime()-_u.current;Ie=Ie-Re}np.current=new Date().getTime()})():Ie!==1/0&&(_u.current=new Date().getTime(),fe=setTimeout(()=>{var Re;(Re=h.onAutoClose)==null||Re.call(h,h),dr()},Ie)),()=>clearTimeout(fe)},[S,y,k,h,yt,dr,h.promise,ve,W,ip]),J.useEffect(()=>{let fe=ye.current;if(fe){let Ie=fe.getBoundingClientRect().height;return le(Ie),g(Re=>[{toastId:h.id,height:Ie,position:h.position},...Re]),()=>g(Re=>Re.filter(Tn=>Tn.toastId!==h.id))}},[g,h.id]),J.useEffect(()=>{h.delete&&dr()},[dr,h.delete]);function XS(){return D!=null&&D.loading?J.createElement("div",{className:"sonner-loader","data-visible":ve==="loading"},D.loading):T?J.createElement("div",{className:"sonner-loader","data-visible":ve==="loading"},T):J.createElement(jC,{visible:ve==="loading"})}return J.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ye,className:X(H,Ke,j==null?void 0:j.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,j==null?void 0:j.default,j==null?void 0:j[ve],(n=h==null?void 0:h.classNames)==null?void 0:n[ve]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:N,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":G,"data-promise":!!h.promise,"data-removed":ee,"data-visible":ie,"data-y-position":rp,"data-x-position":QS,"data-index":v,"data-front":U,"data-swiping":A,"data-dismissible":Ne,"data-type":ve,"data-invert":JS,"data-swipe-out":V,"data-expanded":!!(S||k&&G),style:{"--index":v,"--toasts-before":v,"--z-index":x.length-v,"--offset":`${ee?Q:Us.current}px`,"--initial-height":k?"auto":`${we}px`,...C,...h.style},onPointerDown:fe=>{ju||!Ne||(Je.current=new Date,te(Us.current),fe.target.setPointerCapture(fe.pointerId),fe.target.tagName!=="BUTTON"&&(F(!0),zs.current={x:fe.clientX,y:fe.clientY}))},onPointerUp:()=>{var fe,Ie,Re,Tn;if(V||!Ne)return;zs.current=null;let Pn=Number(((fe=ye.current)==null?void 0:fe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Fa=new Date().getTime()-((Ie=Je.current)==null?void 0:Ie.getTime()),ZS=Math.abs(Pn)/Fa;if(Math.abs(Pn)>=UC||ZS>.11){te(Us.current),(Re=h.onDismiss)==null||Re.call(h,h),dr(),$(!0);return}(Tn=ye.current)==null||Tn.style.setProperty("--swipe-amount","0px"),F(!1)},onPointerMove:fe=>{var Ie;if(!zs.current||!Ne)return;let Re=fe.clientY-zs.current.y,Tn=fe.clientX-zs.current.x,Pn=(rp==="top"?Math.min:Math.max)(0,Re),Fa=fe.pointerType==="touch"?10:2;Math.abs(Pn)>Fa?(Ie=ye.current)==null||Ie.style.setProperty("--swipe-amount",`${Re}px`):Math.abs(Tn)>Fa&&(zs.current=null)}},kn&&!h.jsx?J.createElement("button",{"aria-label":L,"data-disabled":ju,"data-close-button":!0,onClick:ju||!Ne?()=>{}:()=>{var fe;dr(),(fe=h.onDismiss)==null||fe.call(h,h)},className:X(j==null?void 0:j.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},J.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},J.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),J.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||J.isValidElement(h.title)?h.jsx||h.title:J.createElement(J.Fragment,null,ve||h.icon||h.promise?J.createElement("div",{"data-icon":"",className:X(j==null?void 0:j.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||XS():null,h.type!=="loading"?h.icon||(D==null?void 0:D[ve])||SC(ve):null):null,J.createElement("div",{"data-content":"",className:X(j==null?void 0:j.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},J.createElement("div",{"data-title":"",className:X(j==null?void 0:j.title,(a=h==null?void 0:h.classNames)==null?void 0:a.title)},h.title),h.description?J.createElement("div",{"data-description":"",className:X(z,$a,j==null?void 0:j.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),J.isValidElement(h.cancel)?h.cancel:h.cancel&&ol(h.cancel)?J.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:fe=>{var Ie,Re;ol(h.cancel)&&Ne&&((Re=(Ie=h.cancel).onClick)==null||Re.call(Ie,fe),dr())},className:X(j==null?void 0:j.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,J.isValidElement(h.action)?h.action:h.action&&ol(h.action)?J.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:fe=>{var Ie,Re;ol(h.action)&&(fe.defaultPrevented||((Re=(Ie=h.action).onClick)==null||Re.call(Ie,fe),dr()))},className:X(j==null?void 0:j.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Tg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var VC=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:h=MC,toastOptions:p,dir:y=Tg(),gap:g=BC,loadingIcon:b,icons:w,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:x,cn:S=WC}=e,[_,N]=J.useState([]),E=J.useMemo(()=>Array.from(new Set([n].concat(_.filter(W=>W.position).map(W=>W.position)))),[_,n]),[C,O]=J.useState([]),[R,H]=J.useState(!1),[z,M]=J.useState(!1),[I,K]=J.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=J.useRef(null),k=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=J.useRef(null),D=J.useRef(!1),L=J.useCallback(W=>{var X;(X=_.find(G=>G.id===W.id))!=null&&X.delete||$t.dismiss(W.id),N(G=>G.filter(({id:P})=>P!==W.id))},[_]);return J.useEffect(()=>$t.subscribe(W=>{if(W.dismiss){N(X=>X.map(G=>G.id===W.id?{...G,delete:!0}:G));return}setTimeout(()=>{ax.flushSync(()=>{N(X=>{let G=X.findIndex(P=>P.id===W.id);return G!==-1?[...X.slice(0,G),{...X[G],...W},...X.slice(G+1)]:[W,...X]})})})}),[]),J.useEffect(()=>{if(c!=="system"){K(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?K("dark"):K("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{K(W?"dark":"light")})},[c]),J.useEffect(()=>{_.length<=1&&H(!1)},[_]),J.useEffect(()=>{let W=X=>{var G,P;r.every(ee=>X[ee]||X.code===ee)&&(H(!0),(G=T.current)==null||G.focus()),X.code==="Escape"&&(document.activeElement===T.current||(P=T.current)!=null&&P.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),J.useEffect(()=>{if(T.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,D.current=!1)}},[T.current]),_.length?J.createElement("section",{"aria-label":`${v} ${k}`,tabIndex:-1},E.map((W,X)=>{var G;let[P,ee]=W.split("-");return J.createElement("ol",{key:W,dir:y==="auto"?Tg():y,tabIndex:-1,ref:T,className:o,"data-sonner-toaster":!0,"data-theme":I,"data-y-position":P,"data-x-position":ee,style:{"--front-toast-height":`${((G=C[0])==null?void 0:G.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||LC,"--width":`${FC}px`,"--gap":`${g}px`,...f},onBlur:Z=>{D.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(D.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||D.current||(D.current=!0,j.current=Z.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{z||H(!1)},onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},_.filter(Z=>!Z.position&&X===0||Z.position===W).map((Z,A)=>{var F,V;return J.createElement(HC,{key:Z.id,icons:w,index:A,toast:Z,defaultRichColors:u,duration:(F=p==null?void 0:p.duration)!=null?F:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:t,visibleToasts:h,closeButton:(V=p==null?void 0:p.closeButton)!=null?V:i,interacting:z,position:W,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:L,toasts:_.filter($=>$.position==Z.position),heights:C.filter($=>$.position==Z.position),setHeights:O,expandByDefault:s,gap:g,loadingIcon:b,expanded:R,pauseWhenPageIsHidden:x,cn:S})}))})):null};const qC=({...e})=>{const{theme:t="system"}=bC();return l.jsx(VC,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var YC=sy.useId||(()=>{}),KC=0;function rr(e){const[t,n]=m.useState(YC());return ct(()=>{e||n(r=>r??String(KC++))},[e]),e||(t?`radix-${t}`:"")}const GC=["top","right","bottom","left"],Hr=Math.min,Bt=Math.max,cc=Math.round,al=Math.floor,Vr=e=>({x:e,y:e}),QC={left:"right",right:"left",bottom:"top",top:"bottom"},JC={start:"end",end:"start"};function Tf(e,t,n){return Bt(e,Hr(t,n))}function lr(e,t){return typeof e=="function"?e(t):e}function cr(e){return e.split("-")[0]}function to(e){return e.split("-")[1]}function rm(e){return e==="x"?"y":"x"}function sm(e){return e==="y"?"height":"width"}function qr(e){return["top","bottom"].includes(cr(e))?"y":"x"}function im(e){return rm(qr(e))}function XC(e,t,n){n===void 0&&(n=!1);const r=to(e),s=im(e),i=sm(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=uc(o)),[o,uc(o)]}function ZC(e){const t=uc(e);return[Pf(e),t,Pf(t)]}function Pf(e){return e.replace(/start|end/g,t=>JC[t])}function ek(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:o;default:return[]}}function tk(e,t,n,r){const s=to(e);let i=ek(cr(e),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Pf)))),i}function uc(e){return e.replace(/left|right|bottom|top/g,t=>QC[t])}function nk(e){return{top:0,right:0,bottom:0,left:0,...e}}function Xx(e){return typeof e!="number"?nk(e):{top:e,right:e,bottom:e,left:e}}function dc(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Pg(e,t,n){let{reference:r,floating:s}=e;const i=qr(t),o=im(t),a=sm(o),c=cr(t),u=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(to(t)){case"start":p[o]-=h*(n&&u?-1:1);break;case"end":p[o]+=h*(n&&u?-1:1);break}return p}const rk=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Pg(u,r,c),h=r,p={},y=0;for(let g=0;g<a.length;g++){const{name:b,fn:w}=a[g],{x:v,y:x,data:S,reset:_}=await w({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,f=x??f,p={...p,[b]:{...p[b],...S}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=Pg(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function ca(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=lr(t,e),y=Xx(p),b=a[h?f==="floating"?"reference":"floating":f],w=dc(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),S=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},_=dc(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:c}):v);return{top:(w.top-_.top+y.top)/S.y,bottom:(_.bottom-w.bottom+y.bottom)/S.y,left:(w.left-_.left+y.left)/S.x,right:(_.right-w.right+y.right)/S.x}}const sk=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=lr(e,t)||{};if(u==null)return{};const f=Xx(d),h={x:n,y:r},p=im(s),y=sm(p),g=await o.getDimensions(u),b=p==="y",w=b?"top":"left",v=b?"bottom":"right",x=b?"clientHeight":"clientWidth",S=i.reference[y]+i.reference[p]-h[p]-i.floating[y],_=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=N?N[x]:0;(!E||!await(o.isElement==null?void 0:o.isElement(N)))&&(E=a.floating[x]||i.floating[y]);const C=S/2-_/2,O=E/2-g[y]/2-1,R=Hr(f[w],O),H=Hr(f[v],O),z=R,M=E-g[y]-H,I=E/2-g[y]/2+C,K=Tf(z,I,M),T=!c.arrow&&to(s)!=null&&I!==K&&i.reference[y]/2-(I<z?R:H)-g[y]/2<0,k=T?I<z?I-z:I-M:0;return{[p]:h[p]+k,data:{[p]:K,centerOffset:I-K-k,...T&&{alignmentOffset:k}},reset:T}}}),ik=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...b}=lr(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=cr(s),v=qr(a),x=cr(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(x||!g?[uc(a)]:ZC(a)),N=y!=="none";!h&&N&&_.push(...tk(a,g,y,S));const E=[a,..._],C=await ca(t,b),O=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&O.push(C[w]),f){const I=XC(s,o,S);O.push(C[I[0]],C[I[1]])}if(R=[...R,{placement:s,overflows:O}],!O.every(I=>I<=0)){var H,z;const I=(((H=i.flip)==null?void 0:H.index)||0)+1,K=E[I];if(K)return{data:{index:I,overflows:R},reset:{placement:K}};let T=(z=R.filter(k=>k.overflows[0]<=0).sort((k,j)=>k.overflows[1]-j.overflows[1])[0])==null?void 0:z.placement;if(!T)switch(p){case"bestFit":{var M;const k=(M=R.filter(j=>{if(N){const D=qr(j.placement);return D===v||D==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(D=>D>0).reduce((D,L)=>D+L,0)]).sort((j,D)=>j[1]-D[1])[0])==null?void 0:M[0];k&&(T=k);break}case"initialPlacement":T=a;break}if(s!==T)return{reset:{placement:T}}}return{}}}};function Rg(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Og(e){return GC.some(t=>e[t]>=0)}const ok=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=lr(e,t);switch(r){case"referenceHidden":{const i=await ca(t,{...s,elementContext:"reference"}),o=Rg(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Og(o)}}}case"escaped":{const i=await ca(t,{...s,altBoundary:!0}),o=Rg(i,n.floating);return{data:{escapedOffsets:o,escaped:Og(o)}}}default:return{}}}}};async function ak(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=cr(n),a=to(n),c=qr(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=lr(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(p=a==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const lk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=t,c=await ak(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},ck=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:w,y:v}=b;return{x:w,y:v}}},...c}=lr(e,t),u={x:n,y:r},d=await ca(t,c),f=qr(cr(s)),h=rm(f);let p=u[h],y=u[f];if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",v=p+d[b],x=p-d[w];p=Tf(v,p,x)}if(o){const b=f==="y"?"top":"left",w=f==="y"?"bottom":"right",v=y+d[b],x=y-d[w];y=Tf(v,y,x)}const g=a.fn({...t,[h]:p,[f]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[f]:o}}}}}},uk=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=lr(e,t),d={x:n,y:r},f=qr(s),h=rm(f);let p=d[h],y=d[f];const g=lr(a,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const x=h==="y"?"height":"width",S=i.reference[h]-i.floating[x]+b.mainAxis,_=i.reference[h]+i.reference[x]-b.mainAxis;p<S?p=S:p>_&&(p=_)}if(u){var w,v;const x=h==="y"?"width":"height",S=["top","left"].includes(cr(s)),_=i.reference[f]-i.floating[x]+(S&&((w=o.offset)==null?void 0:w[f])||0)+(S?0:b.crossAxis),N=i.reference[f]+i.reference[x]+(S?0:((v=o.offset)==null?void 0:v[f])||0)-(S?b.crossAxis:0);y<_?y=_:y>N&&(y=N)}return{[h]:p,[f]:y}}}},dk=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:o,elements:a}=t,{apply:c=()=>{},...u}=lr(e,t),d=await ca(t,u),f=cr(s),h=to(s),p=qr(s)==="y",{width:y,height:g}=i.floating;let b,w;f==="top"||f==="bottom"?(b=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,b=h==="end"?"top":"bottom");const v=g-d.top-d.bottom,x=y-d.left-d.right,S=Hr(g-d[b],v),_=Hr(y-d[w],x),N=!t.middlewareData.shift;let E=S,C=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=v),N&&!h){const R=Bt(d.left,0),H=Bt(d.right,0),z=Bt(d.top,0),M=Bt(d.bottom,0);p?C=y-2*(R!==0||H!==0?R+H:Bt(d.left,d.right)):E=g-2*(z!==0||M!==0?z+M:Bt(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:E});const O=await o.getDimensions(a.floating);return y!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function Vc(){return typeof window<"u"}function no(e){return Zx(e)?(e.nodeName||"").toLowerCase():"#document"}function Wt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wn(e){var t;return(t=(Zx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Zx(e){return Vc()?e instanceof Node||e instanceof Wt(e).Node:!1}function _n(e){return Vc()?e instanceof Element||e instanceof Wt(e).Element:!1}function Un(e){return Vc()?e instanceof HTMLElement||e instanceof Wt(e).HTMLElement:!1}function Dg(e){return!Vc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wt(e).ShadowRoot}function ka(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=jn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function fk(e){return["table","td","th"].includes(no(e))}function qc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function om(e){const t=am(),n=_n(e)?jn(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function hk(e){let t=Yr(e);for(;Un(t)&&!Wi(t);){if(om(t))return t;if(qc(t))return null;t=Yr(t)}return null}function am(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Wi(e){return["html","body","#document"].includes(no(e))}function jn(e){return Wt(e).getComputedStyle(e)}function Yc(e){return _n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yr(e){if(no(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dg(e)&&e.host||Wn(e);return Dg(t)?t.host:t}function ew(e){const t=Yr(e);return Wi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Un(t)&&ka(t)?t:ew(t)}function ua(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=ew(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),o=Wt(s);if(i){const a=Rf(o);return t.concat(o,o.visualViewport||[],ka(s)?s:[],a&&n?ua(a):[])}return t.concat(s,ua(s,[],n))}function Rf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function tw(e){const t=jn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Un(e),i=s?e.offsetWidth:n,o=s?e.offsetHeight:r,a=cc(n)!==i||cc(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function lm(e){return _n(e)?e:e.contextElement}function xi(e){const t=lm(e);if(!Un(t))return Vr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=tw(t);let o=(i?cc(n.width):n.width)/r,a=(i?cc(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const mk=Vr(0);function nw(e){const t=Wt(e);return!am()||!t.visualViewport?mk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function pk(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Wt(e)?!1:t}function Ts(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=lm(e);let o=Vr(1);t&&(r?_n(r)&&(o=xi(r)):o=xi(e));const a=pk(i,n,r)?nw(i):Vr(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=Wt(i),p=r&&_n(r)?Wt(r):r;let y=h,g=Rf(y);for(;g&&r&&p!==y;){const b=xi(g),w=g.getBoundingClientRect(),v=jn(g),x=w.left+(g.clientLeft+parseFloat(v.paddingLeft))*b.x,S=w.top+(g.clientTop+parseFloat(v.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=x,u+=S,y=Wt(g),g=Rf(y)}}return dc({width:d,height:f,x:c,y:u})}function gk(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",o=Wn(r),a=t?qc(t.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Vr(1);const d=Vr(0),f=Un(r);if((f||!f&&!i)&&((no(r)!=="body"||ka(o))&&(c=Yc(r)),Un(r))){const h=Ts(r);u=xi(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function vk(e){return Array.from(e.getClientRects())}function Of(e,t){const n=Yc(e).scrollLeft;return t?t.left+n:Ts(Wn(e)).left+n}function yk(e){const t=Wn(e),n=Yc(e),r=e.ownerDocument.body,s=Bt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Bt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Of(e);const a=-n.scrollTop;return jn(r).direction==="rtl"&&(o+=Bt(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function xk(e,t){const n=Wt(e),r=Wn(e),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=am();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function wk(e,t){const n=Ts(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Un(e)?xi(e):Vr(1),o=e.clientWidth*i.x,a=e.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function Ag(e,t,n){let r;if(t==="viewport")r=xk(e,n);else if(t==="document")r=yk(Wn(e));else if(_n(t))r=wk(t,n);else{const s=nw(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return dc(r)}function rw(e,t){const n=Yr(e);return n===t||!_n(n)||Wi(n)?!1:jn(n).position==="fixed"||rw(n,t)}function bk(e,t){const n=t.get(e);if(n)return n;let r=ua(e,[],!1).filter(a=>_n(a)&&no(a)!=="body"),s=null;const i=jn(e).position==="fixed";let o=i?Yr(e):e;for(;_n(o)&&!Wi(o);){const a=jn(o),c=om(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ka(o)&&!c&&rw(e,o))?r=r.filter(d=>d!==o):s=a,o=Yr(o)}return t.set(e,r),r}function Sk(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?qc(t)?[]:bk(t,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const f=Ag(t,d,s);return u.top=Bt(f.top,u.top),u.right=Hr(f.right,u.right),u.bottom=Hr(f.bottom,u.bottom),u.left=Bt(f.left,u.left),u},Ag(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _k(e){const{width:t,height:n}=tw(e);return{width:t,height:n}}function jk(e,t,n){const r=Un(t),s=Wn(t),i=n==="fixed",o=Ts(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Vr(0);if(r||!r&&!i)if((no(t)!=="body"||ka(s))&&(a=Yc(t)),r){const p=Ts(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else s&&(c.x=Of(s));let u=0,d=0;if(s&&!r&&!i){const p=s.getBoundingClientRect();d=p.top+a.scrollTop,u=p.left+a.scrollLeft-Of(s,p)}const f=o.left+a.scrollLeft-c.x-u,h=o.top+a.scrollTop-c.y-d;return{x:f,y:h,width:o.width,height:o.height}}function nd(e){return jn(e).position==="static"}function Ig(e,t){if(!Un(e)||jn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Wn(e)===n&&(n=n.ownerDocument.body),n}function sw(e,t){const n=Wt(e);if(qc(e))return n;if(!Un(e)){let s=Yr(e);for(;s&&!Wi(s);){if(_n(s)&&!nd(s))return s;s=Yr(s)}return n}let r=Ig(e,t);for(;r&&fk(r)&&nd(r);)r=Ig(r,t);return r&&Wi(r)&&nd(r)&&!om(r)?n:r||hk(e)||n}const Ek=async function(e){const t=this.getOffsetParent||sw,n=this.getDimensions,r=await n(e.floating);return{reference:jk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Nk(e){return jn(e).direction==="rtl"}const Ck={convertOffsetParentRelativeRectToViewportRelativeRect:gk,getDocumentElement:Wn,getClippingRect:Sk,getOffsetParent:sw,getElementRects:Ek,getClientRects:vk,getDimensions:_k,getScale:xi,isElement:_n,isRTL:Nk};function kk(e,t){let n=null,r;const s=Wn(e);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:h}=e.getBoundingClientRect();if(a||t(),!f||!h)return;const p=al(d),y=al(s.clientWidth-(u+f)),g=al(s.clientHeight-(d+h)),b=al(u),v={rootMargin:-p+"px "+-y+"px "+-g+"px "+-b+"px",threshold:Bt(0,Hr(1,c))||1};let x=!0;function S(_){const N=_[0].intersectionRatio;if(N!==c){if(!x)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(S,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,v)}n.observe(e)}return o(!0),i}function Tk(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=lm(e),d=s||i?[...u?ua(u):[],...ua(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=u&&a?kk(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(w=>{let[v]=w;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let y,g=c?Ts(e):null;c&&b();function b(){const w=Ts(e);g&&(w.x!==g.x||w.y!==g.y||w.width!==g.width||w.height!==g.height)&&n(),g=w,y=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const Pk=lk,Rk=ck,Ok=ik,Dk=dk,Ak=ok,Mg=sk,Ik=uk,Mk=(e,t,n)=>{const r=new Map,s={platform:Ck,...n},i={...s.platform,_c:r};return rk(e,t,{...s,platform:i})};var Ol=typeof document<"u"?m.useLayoutEffect:m.useEffect;function fc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!fc(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!fc(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function iw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Lg(e,t){const n=iw(e);return Math.round(t*n)/n}function rd(e){const t=m.useRef(e);return Ol(()=>{t.current=e}),t}function Lk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);fc(h,r)||p(r);const[y,g]=m.useState(null),[b,w]=m.useState(null),v=m.useCallback(j=>{j!==N.current&&(N.current=j,g(j))},[]),x=m.useCallback(j=>{j!==E.current&&(E.current=j,w(j))},[]),S=i||y,_=o||b,N=m.useRef(null),E=m.useRef(null),C=m.useRef(d),O=c!=null,R=rd(c),H=rd(s),z=rd(u),M=m.useCallback(()=>{if(!N.current||!E.current)return;const j={placement:t,strategy:n,middleware:h};H.current&&(j.platform=H.current),Mk(N.current,E.current,j).then(D=>{const L={...D,isPositioned:z.current!==!1};I.current&&!fc(C.current,L)&&(C.current=L,Is.flushSync(()=>{f(L)}))})},[h,t,n,H,z]);Ol(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[u]);const I=m.useRef(!1);Ol(()=>(I.current=!0,()=>{I.current=!1}),[]),Ol(()=>{if(S&&(N.current=S),_&&(E.current=_),S&&_){if(R.current)return R.current(S,_,M);M()}},[S,_,M,R,O]);const K=m.useMemo(()=>({reference:N,floating:E,setReference:v,setFloating:x}),[v,x]),T=m.useMemo(()=>({reference:S,floating:_}),[S,_]),k=m.useMemo(()=>{const j={position:n,left:0,top:0};if(!T.floating)return j;const D=Lg(T.floating,d.x),L=Lg(T.floating,d.y);return a?{...j,transform:"translate("+D+"px, "+L+"px)",...iw(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:L}},[n,a,T.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:M,refs:K,elements:T,floatingStyles:k}),[d,M,K,T,k])}const $k=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Mg({element:r.current,padding:s}).fn(n):{}:r?Mg({element:r,padding:s}).fn(n):{}}}},Fk=(e,t)=>({...Pk(e),options:[e,t]}),Bk=(e,t)=>({...Rk(e),options:[e,t]}),Uk=(e,t)=>({...Ik(e),options:[e,t]}),zk=(e,t)=>({...Ok(e),options:[e,t]}),Wk=(e,t)=>({...Dk(e),options:[e,t]}),Hk=(e,t)=>({...Ak(e),options:[e,t]}),Vk=(e,t)=>({...$k(e),options:[e,t]});var qk="Arrow",ow=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return l.jsx(ue.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});ow.displayName=qk;var Yk=ow;function Kk(e,t=[]){let n=[];function r(i,o){const a=m.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][c])||a,b=m.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||a,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,Gk(s,...t)]}function Gk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function Qk(e){const[t,n]=m.useState(void 0);return ct(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;n({width:o,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var cm="Popper",[aw,ro]=Kk(cm),[Jk,lw]=aw(cm),cw=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return l.jsx(Jk,{scope:t,anchor:r,onAnchorChange:s,children:n})};cw.displayName=cm;var uw="PopperAnchor",dw=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=lw(uw,n),o=m.useRef(null),a=xe(t,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(ue.div,{...s,ref:a})});dw.displayName=uw;var um="PopperContent",[Xk,Zk]=aw(um),fw=m.forwardRef((e,t)=>{var A,F,V,$,Q,te;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=e,b=lw(um,n),[w,v]=m.useState(null),x=xe(t,we=>v(we)),[S,_]=m.useState(null),N=Qk(S),E=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,O=r+(i!=="center"?"-"+i:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},H=Array.isArray(u)?u:[u],z=H.length>0,M={padding:R,boundary:H.filter(tT),altBoundary:z},{refs:I,floatingStyles:K,placement:T,isPositioned:k,middlewareData:j}=Lk({strategy:"fixed",placement:O,whileElementsMounted:(...we)=>Tk(...we,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[Fk({mainAxis:s+C,alignmentAxis:o}),c&&Bk({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Uk():void 0,...M}),c&&zk({...M}),Wk({...M,apply:({elements:we,rects:le,availableWidth:Je,availableHeight:ye})=>{const{width:U,height:ie}=le.reference,ve=we.floating.style;ve.setProperty("--radix-popper-available-width",`${Je}px`),ve.setProperty("--radix-popper-available-height",`${ye}px`),ve.setProperty("--radix-popper-anchor-width",`${U}px`),ve.setProperty("--radix-popper-anchor-height",`${ie}px`)}}),S&&Vk({element:S,padding:a}),nT({arrowWidth:E,arrowHeight:C}),h&&Hk({strategy:"referenceHidden",...M})]}),[D,L]=pw(T),W=Qe(y);ct(()=>{k&&(W==null||W())},[k,W]);const X=(A=j.arrow)==null?void 0:A.x,G=(F=j.arrow)==null?void 0:F.y,P=((V=j.arrow)==null?void 0:V.centerOffset)!==0,[ee,Z]=m.useState();return ct(()=>{w&&Z(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:k?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[($=j.transformOrigin)==null?void 0:$.x,(Q=j.transformOrigin)==null?void 0:Q.y].join(" "),...((te=j.hide)==null?void 0:te.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Xk,{scope:n,placedSide:D,onArrowChange:_,arrowX:X,arrowY:G,shouldHideArrow:P,children:l.jsx(ue.div,{"data-side":D,"data-align":L,...g,ref:x,style:{...g.style,animation:k?void 0:"none"}})})})});fw.displayName=um;var hw="PopperArrow",eT={top:"bottom",right:"left",bottom:"top",left:"right"},mw=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=Zk(hw,r),o=eT[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(Yk,{...s,ref:n,style:{...s.style,display:"block"}})})});mw.displayName=hw;function tT(e){return e!==null}var nT=e=>({name:"transformOrigin",options:e,fn(t){var b,w,v;const{placement:n,rects:r,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=pw(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,p=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=o?f:`${h}px`,g=`${-c}px`):u==="top"?(y=o?f:`${h}px`,g=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=o?f:`${p}px`):u==="left"&&(y=`${r.floating.width+c}px`,g=o?f:`${p}px`),{data:{x:y,y:g}}}});function pw(e){const[t,n="center"]=e.split("-");return[t,n]}var gw=cw,Kc=dw,dm=fw,fm=mw,[Gc,CL]=Ms("Tooltip",[ro]),hm=ro(),vw="TooltipProvider",rT=700,$g="tooltip.open",[sT,yw]=Gc(vw),xw=e=>{const{__scopeTooltip:t,delayDuration:n=rT,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,[o,a]=m.useState(!0),c=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(sT,{scope:t,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:m.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:i})};xw.displayName=vw;var ww="Tooltip",[kL,Qc]=Gc(ww),Df="TooltipTrigger",iT=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Qc(Df,n),i=yw(Df,n),o=hm(n),a=m.useRef(null),c=xe(t,a,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Kc,{asChild:!0,...o,children:l.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:re(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:re(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:re(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:re(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:re(e.onBlur,s.onClose),onClick:re(e.onClick,s.onClose)})})});iT.displayName=Df;var oT="TooltipPortal",[TL,aT]=Gc(oT,{forceMount:void 0}),Hi="TooltipContent",bw=m.forwardRef((e,t)=>{const n=aT(Hi,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,o=Qc(Hi,e.__scopeTooltip);return l.jsx(Gt,{present:r||o.open,children:o.disableHoverableContent?l.jsx(Sw,{side:s,...i,ref:t}):l.jsx(lT,{side:s,...i,ref:t})})}),lT=m.forwardRef((e,t)=>{const n=Qc(Hi,e.__scopeTooltip),r=yw(Hi,e.__scopeTooltip),s=m.useRef(null),i=xe(t,s),[o,a]=m.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=m.useCallback(()=>{a(null),f(!1)},[f]),p=m.useCallback((y,g)=>{const b=y.currentTarget,w={x:y.clientX,y:y.clientY},v=fT(w,b.getBoundingClientRect()),x=hT(w,v),S=mT(g.getBoundingClientRect()),_=gT([...x,...S]);a(_),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const y=b=>p(b,d),g=b=>p(b,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),m.useEffect(()=>{if(o){const y=g=>{const b=g.target,w={x:g.clientX,y:g.clientY},v=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),x=!pT(w,o);v?h():x&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),l.jsx(Sw,{...e,ref:i})}),[cT,uT]=Gc(ww,{isInside:!1}),Sw=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=e,c=Qc(Hi,n),u=hm(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener($g,d),()=>document.removeEventListener($g,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Zi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(dm,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(ux,{children:r}),l.jsx(cT,{scope:n,isInside:!0,children:l.jsx(nN,{id:c.contentId,role:"tooltip",children:s||r})})]})})});bw.displayName=Hi;var _w="TooltipArrow",dT=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=hm(n);return uT(_w,n).isInside?null:l.jsx(fm,{...s,...r,ref:t})});dT.displayName=_w;function fT(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hT(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function mT(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function pT(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const a=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-a)*(r-c)/(d-c)+a&&(s=!s)}return s}function gT(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),vT(t)}function vT(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var yT=xw,jw=bw;const xT=yT,wT=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(jw,{ref:r,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));wT.displayName=jw.displayName;var Jc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xc=typeof window>"u"||"Deno"in globalThis;function mn(){}function bT(e,t){return typeof e=="function"?e(t):e}function ST(e){return typeof e=="number"&&e>=0&&e!==1/0}function _T(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fg(e,t){return typeof e=="function"?e(t):e}function jT(e,t){return typeof e=="function"?e(t):e}function Bg(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==mm(o,t.options))return!1}else if(!fa(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||i&&!i(t))}function Ug(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(da(t.options.mutationKey)!==da(i))return!1}else if(!fa(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function mm(e,t){return((t==null?void 0:t.queryKeyHashFn)||da)(e)}function da(e){return JSON.stringify(e,(t,n)=>Af(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!fa(e[n],t[n])):!1}function Ew(e,t){if(e===t)return e;const n=zg(e)&&zg(t);if(n||Af(e)&&Af(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=Ew(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:a}return t}function zg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Af(e){if(!Wg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Wg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Wg(e){return Object.prototype.toString.call(e)==="[object Object]"}function ET(e){return new Promise(t=>{setTimeout(t,e)})}function NT(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ew(e,t):t}function CT(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function kT(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var pm=Symbol();function Nw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===pm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ms,Er,Ei,Fv,TT=(Fv=class extends Jc{constructor(){super();ke(this,ms);ke(this,Er);ke(this,Ei);me(this,Ei,t=>{if(!Xc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Er)||this.setEventListener(B(this,Ei))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Er))==null||t.call(this),me(this,Er,void 0))}setEventListener(t){var n;me(this,Ei,t),(n=B(this,Er))==null||n.call(this),me(this,Er,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){B(this,ms)!==t&&(me(this,ms,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,ms)=="boolean"?B(this,ms):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ms=new WeakMap,Er=new WeakMap,Ei=new WeakMap,Fv),Cw=new TT,Ni,Nr,Ci,Bv,PT=(Bv=class extends Jc{constructor(){super();ke(this,Ni,!0);ke(this,Nr);ke(this,Ci);me(this,Ci,t=>{if(!Xc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Nr)||this.setEventListener(B(this,Ci))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,Nr))==null||t.call(this),me(this,Nr,void 0))}setEventListener(t){var n;me(this,Ci,t),(n=B(this,Nr))==null||n.call(this),me(this,Nr,t(this.setOnline.bind(this)))}setOnline(t){B(this,Ni)!==t&&(me(this,Ni,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return B(this,Ni)}},Ni=new WeakMap,Nr=new WeakMap,Ci=new WeakMap,Bv),hc=new PT;function RT(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function OT(e){return Math.min(1e3*2**e,3e4)}function kw(e){return(e??"online")==="online"?hc.isOnline():!0}var Tw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sd(e){return e instanceof Tw}function Pw(e){let t=!1,n=0,r=!1,s;const i=RT(),o=g=>{var b;r||(h(new Tw(g)),(b=e.abort)==null||b.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>Cw.isFocused()&&(e.networkMode==="always"||hc.isOnline())&&e.canRun(),d=()=>kw(e.networkMode)&&e.canRun(),f=g=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,g),s==null||s(),i.resolve(g))},h=g=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var b;s=w=>{(r||u())&&g(w)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;s=void 0,r||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(r)return;let g;const b=n===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var N;if(r)return;const v=e.retry??(Xc?0:3),x=e.retryDelay??OT,S=typeof x=="function"?x(n,w):x,_=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,w);if(t||!_){h(w);return}n++,(N=e.onFail)==null||N.call(e,n,w),ET(S).then(()=>u()?void 0:p()).then(()=>{t?h(w):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),i)}}function DT(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{t?e.push(a):s(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var jt=DT(),ps,Uv,Rw=(Uv=class{constructor(){ke(this,ps)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ST(this.gcTime)&&me(this,ps,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xc?1/0:5*60*1e3))}clearGcTimeout(){B(this,ps)&&(clearTimeout(B(this,ps)),me(this,ps,void 0))}},ps=new WeakMap,Uv),ki,Ti,Qt,ht,ya,gs,pn,Yn,zv,AT=(zv=class extends Rw{constructor(t){super();ke(this,pn);ke(this,ki);ke(this,Ti);ke(this,Qt);ke(this,ht);ke(this,ya);ke(this,gs);me(this,gs,!1),me(this,ya,t.defaultOptions),this.setOptions(t.options),this.observers=[],me(this,Qt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,me(this,ki,MT(this.options)),this.state=t.state??B(this,ki),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,ht))==null?void 0:t.promise}setOptions(t){this.options={...B(this,ya),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,Qt).remove(this)}setData(t,n){const r=NT(this.state.data,t,this.options);return ut(this,pn,Yn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ut(this,pn,Yn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=B(this,ht))==null?void 0:r.promise;return(s=B(this,ht))==null||s.cancel(t),n?n.then(mn).catch(mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,ki))}isActive(){return this.observers.some(t=>jT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===pm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!_T(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,ht))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,ht))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,Qt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,ht)&&(B(this,gs)?B(this,ht).cancel({revert:!0}):B(this,ht).cancelRetry()),this.scheduleGc()),B(this,Qt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ut(this,pn,Yn).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,ht))return B(this,ht).continueRetry(),B(this,ht).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(me(this,gs,!0),r.signal)})},i=()=>{const f=Nw(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),me(this,gs,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),me(this,Ti,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&ut(this,pn,Yn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=f=>{var h,p,y,g;sd(f)&&f.silent||ut(this,pn,Yn).call(this,{type:"error",error:f}),sd(f)||((p=(h=B(this,Qt).config).onError)==null||p.call(h,f,this),(g=(y=B(this,Qt).config).onSettled)==null||g.call(y,this.state.data,f,this)),this.scheduleGc()};return me(this,ht,Pw({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,y,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){a(b);return}(p=(h=B(this,Qt).config).onSuccess)==null||p.call(h,f,this),(g=(y=B(this,Qt).config).onSettled)==null||g.call(y,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,h)=>{ut(this,pn,Yn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{ut(this,pn,Yn).call(this,{type:"pause"})},onContinue:()=>{ut(this,pn,Yn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),B(this,ht).start()}},ki=new WeakMap,Ti=new WeakMap,Qt=new WeakMap,ht=new WeakMap,ya=new WeakMap,gs=new WeakMap,pn=new WeakSet,Yn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...IT(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return sd(s)&&s.revert&&B(this,Ti)?{...B(this,Ti),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),jt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,Qt).notify({query:this,type:"updated",action:t})})},zv);function IT(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function MT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dn,Wv,LT=(Wv=class extends Jc{constructor(t={}){super();ke(this,Dn);this.config=t,me(this,Dn,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??mm(s,n);let o=this.get(i);return o||(o=new AT({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){B(this,Dn).has(t.queryHash)||(B(this,Dn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,Dn).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,Dn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,Dn).get(t)}getAll(){return[...B(this,Dn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Bg(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Bg(t,r)):n}notify(t){jt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Dn=new WeakMap,Wv),An,wt,vs,In,gr,Hv,$T=(Hv=class extends Rw{constructor(t){super();ke(this,In);ke(this,An);ke(this,wt);ke(this,vs);this.mutationId=t.mutationId,me(this,wt,t.mutationCache),me(this,An,[]),this.state=t.state||FT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,An).includes(t)||(B(this,An).push(t),this.clearGcTimeout(),B(this,wt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){me(this,An,B(this,An).filter(n=>n!==t)),this.scheduleGc(),B(this,wt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,An).length||(this.state.status==="pending"?this.scheduleGc():B(this,wt).remove(this))}continue(){var t;return((t=B(this,vs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,a,c,u,d,f,h,p,y,g,b,w,v,x,S,_,N,E;me(this,vs,Pw({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{ut(this,In,gr).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{ut(this,In,gr).call(this,{type:"pause"})},onContinue:()=>{ut(this,In,gr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,wt).canRun(this)}));const n=this.state.status==="pending",r=!B(this,vs).canStart();try{if(!n){ut(this,In,gr).call(this,{type:"pending",variables:t,isPaused:r}),await((i=(s=B(this,wt).config).onMutate)==null?void 0:i.call(s,t,this));const O=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t));O!==this.state.context&&ut(this,In,gr).call(this,{type:"pending",context:O,variables:t,isPaused:r})}const C=await B(this,vs).start();return await((u=(c=B(this,wt).config).onSuccess)==null?void 0:u.call(c,C,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,t,this.state.context)),await((p=(h=B(this,wt).config).onSettled)==null?void 0:p.call(h,C,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,C,null,t,this.state.context)),ut(this,In,gr).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(b=B(this,wt).config).onError)==null?void 0:w.call(b,C,t,this.state.context,this)),await((x=(v=this.options).onError)==null?void 0:x.call(v,C,t,this.state.context)),await((_=(S=B(this,wt).config).onSettled)==null?void 0:_.call(S,void 0,C,this.state.variables,this.state.context,this)),await((E=(N=this.options).onSettled)==null?void 0:E.call(N,void 0,C,t,this.state.context)),C}finally{ut(this,In,gr).call(this,{type:"error",error:C})}}finally{B(this,wt).runNext(this)}}},An=new WeakMap,wt=new WeakMap,vs=new WeakMap,In=new WeakSet,gr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),jt.batch(()=>{B(this,An).forEach(r=>{r.onMutationUpdate(t)}),B(this,wt).notify({mutation:this,type:"updated",action:t})})},Hv);function FT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lt,xa,Vv,BT=(Vv=class extends Jc{constructor(t={}){super();ke(this,Lt);ke(this,xa);this.config=t,me(this,Lt,new Map),me(this,xa,Date.now())}build(t,n,r){const s=new $T({mutationCache:this,mutationId:++Ba(this,xa)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=ll(t),r=B(this,Lt).get(n)??[];r.push(t),B(this,Lt).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=ll(t);if(B(this,Lt).has(n)){const s=(r=B(this,Lt).get(n))==null?void 0:r.filter(i=>i!==t);s&&(s.length===0?B(this,Lt).delete(n):B(this,Lt).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=B(this,Lt).get(ll(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=B(this,Lt).get(ll(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...B(this,Lt).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Ug(n,r))}findAll(t={}){return this.getAll().filter(n=>Ug(t,n))}notify(t){jt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return jt.batch(()=>Promise.all(t.map(n=>n.continue().catch(mn))))}},Lt=new WeakMap,xa=new WeakMap,Vv);function ll(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Hg(e){return{onFetch:(t,n)=>{var d,f,h,p,y;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=Nw(t.options,t.fetchOptions),v=async(x,S,_)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const N={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};b(N);const E=await w(N),{maxPages:C}=t.options,O=_?kT:CT;return{pages:O(x.pages,E,C),pageParams:O(x.pageParams,S,C)}};if(s&&i.length){const x=s==="backward",S=x?UT:Vg,_={pages:i,pageParams:o},N=S(r,_);a=await v(_,N,x)}else{const x=e??i.length;do{const S=c===0?o[0]??r.initialPageParam:Vg(r,a);if(c>0&&S==null)break;a=await v(a,S),c++}while(c<x)}return a};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Vg(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function UT(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Ve,Cr,kr,Pi,Ri,Tr,Oi,Di,qv,zT=(qv=class{constructor(e={}){ke(this,Ve);ke(this,Cr);ke(this,kr);ke(this,Pi);ke(this,Ri);ke(this,Tr);ke(this,Oi);ke(this,Di);me(this,Ve,e.queryCache||new LT),me(this,Cr,e.mutationCache||new BT),me(this,kr,e.defaultOptions||{}),me(this,Pi,new Map),me(this,Ri,new Map),me(this,Tr,0)}mount(){Ba(this,Tr)._++,B(this,Tr)===1&&(me(this,Oi,Cw.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Ve).onFocus())})),me(this,Di,hc.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,Ve).onOnline())})))}unmount(){var e,t;Ba(this,Tr)._--,B(this,Tr)===0&&((e=B(this,Oi))==null||e.call(this),me(this,Oi,void 0),(t=B(this,Di))==null||t.call(this),me(this,Di,void 0))}isFetching(e){return B(this,Ve).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Cr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,Ve).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=B(this,Ve).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Fg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return B(this,Ve).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=B(this,Ve).get(r.queryHash),i=s==null?void 0:s.state.data,o=bT(t,i);if(o!==void 0)return B(this,Ve).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return jt.batch(()=>B(this,Ve).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,Ve).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,Ve);jt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,Ve),r={type:"active",...e};return jt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=jt.batch(()=>B(this,Ve).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(mn).catch(mn)}invalidateQueries(e={},t={}){return jt.batch(()=>{if(B(this,Ve).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=jt.batch(()=>B(this,Ve).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(mn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(mn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,Ve).build(this,t);return n.isStaleByTime(Fg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(mn).catch(mn)}fetchInfiniteQuery(e){return e.behavior=Hg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(mn).catch(mn)}ensureInfiniteQueryData(e){return e.behavior=Hg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hc.isOnline()?B(this,Cr).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,Ve)}getMutationCache(){return B(this,Cr)}getDefaultOptions(){return B(this,kr)}setDefaultOptions(e){me(this,kr,e)}setQueryDefaults(e,t){B(this,Pi).set(da(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Pi).values()];let n={};return t.forEach(r=>{fa(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){B(this,Ri).set(da(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Ri).values()];let n={};return t.forEach(r=>{fa(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,kr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=mm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===pm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,kr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,Ve).clear(),B(this,Cr).clear()}},Ve=new WeakMap,Cr=new WeakMap,kr=new WeakMap,Pi=new WeakMap,Ri=new WeakMap,Tr=new WeakMap,Oi=new WeakMap,Di=new WeakMap,qv),WT=m.createContext(void 0),HT=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(WT.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ha.apply(this,arguments)}var Or;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Or||(Or={}));const qg="popstate";function VT(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return If("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Dw(s)}return YT(t,n,null,e)}function tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ow(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qT(){return Math.random().toString(36).substr(2,8)}function Yg(e,t){return{usr:e.state,key:e.key,idx:t}}function If(e,t,n,r){return n===void 0&&(n=null),ha({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?so(t):t,{state:n,key:t&&t.key||r||qT()})}function Dw(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function so(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function YT(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Or.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ha({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Or.Pop;let b=d(),w=b==null?null:b-u;u=b,c&&c({action:a,location:g.location,delta:w})}function h(b,w){a=Or.Push;let v=If(g.location,b,w);u=d()+1;let x=Yg(v,u),S=g.createHref(v);try{o.pushState(x,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}i&&c&&c({action:a,location:g.location,delta:1})}function p(b,w){a=Or.Replace;let v=If(g.location,b,w);u=d();let x=Yg(v,u),S=g.createHref(v);o.replaceState(x,"",S),i&&c&&c({action:a,location:g.location,delta:0})}function y(b){let w=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof b=="string"?b:Dw(b);return v=v.replace(/ $/,"%20"),tt(w,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,w)}let g={get action(){return a},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(qg,f),c=b,()=>{s.removeEventListener(qg,f),c=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let w=y(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:h,replace:p,go(b){return o.go(b)}};return g}var Kg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kg||(Kg={}));function KT(e,t,n){return n===void 0&&(n="/"),GT(e,t,n,!1)}function GT(e,t,n,r){let s=typeof t=="string"?so(t):t,i=Mw(s.pathname||"/",n);if(i==null)return null;let o=Aw(e);QT(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=aP(i);a=iP(o[c],u,r)}return a}function Aw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ws([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(tt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Aw(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:rP(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Iw(i.path))s(i,o,c)}),t}function Iw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Iw(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function QT(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:sP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const JT=/^:[\w-]+$/,XT=3,ZT=2,eP=1,tP=10,nP=-2,Gg=e=>e==="*";function rP(e,t){let n=e.split("/"),r=n.length;return n.some(Gg)&&(r+=nP),t&&(r+=ZT),n.filter(s=>!Gg(s)).reduce((s,i)=>s+(JT.test(i)?XT:i===""?eP:tP),r)}function sP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function iP(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ws([i,f.pathname]),pathnameBase:hP(ws([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ws([i,f.pathnameBase]))}return o}function Qg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=oP(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=a[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[f];return p&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function oP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ow(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function aP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ow(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Mw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function lP(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?so(e):e;return{pathname:n?n.startsWith("/")?n:cP(n,t):t,search:mP(r),hash:pP(s)}}function cP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function id(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uP(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dP(e,t){let n=uP(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fP(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=so(e):(s=ha({},e),tt(!s.pathname||!s.pathname.includes("?"),id("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),id("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),id("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let c=lP(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ws=e=>e.join("/").replace(/\/\/+/g,"/"),hP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Lw=["post","put","patch","delete"];new Set(Lw);const vP=["get",...Lw];new Set(vP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ma.apply(this,arguments)}const gm=m.createContext(null),yP=m.createContext(null),Zc=m.createContext(null),eu=m.createContext(null),io=m.createContext({outlet:null,matches:[],isDataRoute:!1}),$w=m.createContext(null);function tu(){return m.useContext(eu)!=null}function nu(){return tu()||tt(!1),m.useContext(eu).location}function Fw(e){m.useContext(Zc).static||m.useLayoutEffect(e)}function ru(){let{isDataRoute:e}=m.useContext(io);return e?RP():xP()}function xP(){tu()||tt(!1);let e=m.useContext(gm),{basename:t,future:n,navigator:r}=m.useContext(Zc),{matches:s}=m.useContext(io),{pathname:i}=nu(),o=JSON.stringify(dP(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return Fw(()=>{a.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=fP(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ws([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,o,i,e])}function wP(e,t){return bP(e,t)}function bP(e,t,n,r){tu()||tt(!1);let{navigator:s}=m.useContext(Zc),{matches:i}=m.useContext(io),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=nu(),d;if(t){var f;let b=typeof t=="string"?so(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||tt(!1),d=b}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=KT(e,{pathname:p}),g=NP(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:ws([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:ws([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return t&&g?m.createElement(eu.Provider,{value:{location:ma({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Or.Pop}},g):g}function SP(){let e=PP(),t=gP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,null)}const _P=m.createElement(SP,null);class jP extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(io.Provider,{value:this.props.routeContext},m.createElement($w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EP(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(gm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(io.Provider,{value:t},r)}function NP(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||tt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let p,y=!1,g=null,b=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||_P,c&&(u<0&&h===0?(y=!0,b=null):u===h&&(y=!0,b=f.route.hydrateFallbackElement||null)));let w=t.concat(o.slice(0,h+1)),v=()=>{let x;return p?x=g:y?x=b:f.route.Component?x=m.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,m.createElement(EP,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(jP,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):v()},null)}var Bw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bw||{}),mc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mc||{});function CP(e){let t=m.useContext(gm);return t||tt(!1),t}function kP(e){let t=m.useContext(yP);return t||tt(!1),t}function TP(e){let t=m.useContext(io);return t||tt(!1),t}function Uw(e){let t=TP(),n=t.matches[t.matches.length-1];return n.route.id||tt(!1),n.route.id}function PP(){var e;let t=m.useContext($w),n=kP(mc.UseRouteError),r=Uw(mc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function RP(){let{router:e}=CP(Bw.UseNavigateStable),t=Uw(mc.UseNavigateStable),n=m.useRef(!1);return Fw(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ma({fromRouteId:t},i)))},[e,t])}function ko(e){tt(!1)}function OP(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Or.Pop,navigator:i,static:o=!1,future:a}=e;tu()&&tt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:o,future:ma({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=so(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:y="default"}=r,g=m.useMemo(()=>{let b=Mw(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:y},navigationType:s}},[c,d,f,h,p,y,s]);return g==null?null:m.createElement(Zc.Provider,{value:u},m.createElement(eu.Provider,{children:n,value:g}))}function DP(e){let{children:t,location:n}=e;return wP(Mf(t),n)}new Promise(()=>{});function Mf(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let i=[...t,s];if(r.type===m.Fragment){n.push.apply(n,Mf(r.props.children,i));return}r.type!==ko&&tt(!1),!r.props.index||!r.props.children||tt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Mf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const AP="6";try{window.__reactRouterVersion=AP}catch{}const IP="startTransition",Jg=sy[IP];function MP(e){let{basename:t,children:n,future:r,window:s}=e,i=m.useRef();i.current==null&&(i.current=VT({window:s,v5Compat:!0}));let o=i.current,[a,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=m.useCallback(f=>{u&&Jg?Jg(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.createElement(OP,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Xg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xg||(Xg={}));var Zg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zg||(Zg={}));const Lf=Ca("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),oe=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const o=r?Wr:"button";return l.jsx(o,{className:se(Lf({variant:t,size:n,className:e})),ref:i,...s})});oe.displayName="Button";const it=m.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));it.displayName="Input";var LP="Label",zw=m.forwardRef((e,t)=>l.jsx(ue.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));zw.displayName=LP;var Ww=zw;const $P=Ca("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),je=m.forwardRef(({className:e,...t},n)=>l.jsx(Ww,{ref:n,className:se($P(),e),...t}));je.displayName=Ww.displayName;function FP(e,t=[]){let n=[];function r(i,o){const a=m.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][c])||a,b=m.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||a,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,BP(s,...t)]}function BP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var UP=m.createContext(void 0);function su(e){const t=m.useContext(UP);return e||t||"ltr"}var od="rovingFocusGroup.onEntryFocus",zP={bubbles:!1,cancelable:!0},iu="RovingFocusGroup",[$f,Hw,WP]=Jh(iu),[HP,Vw]=FP(iu,[WP]),[VP,qP]=HP(iu),qw=m.forwardRef((e,t)=>l.jsx($f.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx($f.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(YP,{...e,ref:t})})}));qw.displayName=iu;var YP=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=xe(t,h),y=su(i),[g=null,b]=ks({prop:o,defaultProp:a,onChange:c}),[w,v]=m.useState(!1),x=Qe(u),S=Hw(n),_=m.useRef(!1),[N,E]=m.useState(0);return m.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(od,x),()=>C.removeEventListener(od,x)},[x]),l.jsx(VP,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(C=>b(C),[b]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>E(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>E(C=>C-1),[]),children:l.jsx(ue.div,{tabIndex:w||N===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{_.current=!0}),onFocus:re(e.onFocus,C=>{const O=!_.current;if(C.target===C.currentTarget&&O&&!w){const R=new CustomEvent(od,zP);if(C.currentTarget.dispatchEvent(R),!R.defaultPrevented){const H=S().filter(T=>T.focusable),z=H.find(T=>T.active),M=H.find(T=>T.id===g),K=[z,M,...H].filter(Boolean).map(T=>T.ref.current);Gw(K,d)}}_.current=!1}),onBlur:re(e.onBlur,()=>v(!1))})})}),Yw="RovingFocusGroupItem",Kw=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=e,a=rr(),c=i||a,u=qP(Yw,n),d=u.currentTabStopId===c,f=Hw(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),l.jsx($f.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:l.jsx(ue.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:re(e.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:re(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:re(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=QP(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=f().filter(v=>v.focusable).map(v=>v.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const v=w.indexOf(y.currentTarget);w=u.loop?JP(w,v+1):w.slice(v+1)}setTimeout(()=>Gw(w))}})})})});Kw.displayName=Yw;var KP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function GP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function QP(e,t,n){const r=GP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return KP[r]}function Gw(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function JP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var XP=qw,ZP=Kw,vm="Tabs",[eR,PL]=Ms(vm,[Vw]),Qw=Vw(),[tR,ym]=eR(vm),Jw=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=su(a),[f,h]=ks({prop:r,onChange:s,defaultProp:i});return l.jsx(tR,{scope:n,baseId:rr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:l.jsx(ue.div,{dir:d,"data-orientation":o,...u,ref:t})})});Jw.displayName=vm;var Xw="TabsList",Zw=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=ym(Xw,n),o=Qw(n);return l.jsx(XP,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(ue.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Zw.displayName=Xw;var eb="TabsTrigger",tb=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,o=ym(eb,n),a=Qw(n),c=sb(o.baseId,r),u=ib(o.baseId,r),d=r===o.value;return l.jsx(ZP,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(ue.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:re(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:re(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:re(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});tb.displayName=eb;var nb="TabsContent",rb=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=e,a=ym(nb,n),c=sb(a.baseId,r),u=ib(a.baseId,r),d=r===a.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Gt,{present:s||d,children:({present:h})=>l.jsx(ue.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});rb.displayName=nb;function sb(e,t){return`${e}-trigger-${t}`}function ib(e,t){return`${e}-content-${t}`}var nR=Jw,ob=Zw,ab=tb,lb=rb;const pa=nR,Vi=m.forwardRef(({className:e,...t},n)=>l.jsx(ob,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Vi.displayName=ob.displayName;const Zt=m.forwardRef(({className:e,...t},n)=>l.jsx(ab,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Zt.displayName=ab.displayName;const en=m.forwardRef(({className:e,...t},n)=>l.jsx(lb,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));en.displayName=lb.displayName;var ad="focusScope.autoFocusOnMount",ld="focusScope.autoFocusOnUnmount",ev={bubbles:!1,cancelable:!0},rR="FocusScope",ou=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,c]=m.useState(null),u=Qe(s),d=Qe(i),f=m.useRef(null),h=xe(t,g=>c(g)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let g=function(x){if(p.paused||!a)return;const S=x.target;a.contains(S)?f.current=S:vr(f.current,{select:!0})},b=function(x){if(p.paused||!a)return;const S=x.relatedTarget;S!==null&&(a.contains(S)||vr(f.current,{select:!0}))},w=function(x){if(document.activeElement===document.body)for(const _ of x)_.removedNodes.length>0&&vr(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const v=new MutationObserver(w);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),v.disconnect()}}},[r,a,p.paused]),m.useEffect(()=>{if(a){nv.add(p);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(ad,ev);a.addEventListener(ad,u),a.dispatchEvent(w),w.defaultPrevented||(sR(cR(cb(a)),{select:!0}),document.activeElement===g&&vr(a))}return()=>{a.removeEventListener(ad,u),setTimeout(()=>{const w=new CustomEvent(ld,ev);a.addEventListener(ld,d),a.dispatchEvent(w),w.defaultPrevented||vr(g??document.body,{select:!0}),a.removeEventListener(ld,d),nv.remove(p)},0)}}},[a,u,d,p]);const y=m.useCallback(g=>{if(!n&&!r||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(b&&w){const v=g.currentTarget,[x,S]=iR(v);x&&S?!g.shiftKey&&w===S?(g.preventDefault(),n&&vr(x,{select:!0})):g.shiftKey&&w===x&&(g.preventDefault(),n&&vr(S,{select:!0})):w===v&&g.preventDefault()}},[n,r,p.paused]);return l.jsx(ue.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});ou.displayName=rR;function sR(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(vr(r,{select:t}),document.activeElement!==n)return}function iR(e){const t=cb(e),n=tv(t,e),r=tv(t.reverse(),e);return[n,r]}function cb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function tv(e,t){for(const n of e)if(!oR(n,{upTo:t}))return n}function oR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aR(e){return e instanceof HTMLInputElement&&"select"in e}function vr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&aR(e)&&t&&e.select()}}var nv=lR();function lR(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=rv(e,t),e.unshift(t)},remove(t){var n;e=rv(e,t),(n=e[0])==null||n.resume()}}}function rv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function cR(e){return e.filter(t=>t.tagName!=="A")}var cd=0;function xm(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sv()),document.body.insertAdjacentElement("beforeend",e[1]??sv()),cd++,()=>{cd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),cd--}},[])}function sv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ln=function(){return Ln=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ln.apply(this,arguments)};function ub(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function uR(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Dl="right-scroll-bar-position",Al="width-before-scroll-bar",dR="with-scroll-bars-hidden",fR="--removed-body-scroll-bar-size";function ud(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hR(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var mR=typeof window<"u"?m.useLayoutEffect:m.useEffect,iv=new WeakMap;function pR(e,t){var n=hR(null,function(r){return e.forEach(function(s){return ud(s,r)})});return mR(function(){var r=iv.get(n);if(r){var s=new Set(r),i=new Set(e),o=n.current;s.forEach(function(a){i.has(a)||ud(a,null)}),i.forEach(function(a){s.has(a)||ud(a,o)})}iv.set(n,e)},[e]),n}function gR(e){return e}function vR(e,t){t===void 0&&(t=gR);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var o=t(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function yR(e){e===void 0&&(e={});var t=vR(null);return t.options=Ln({async:!0,ssr:!1},e),t}var db=function(e){var t=e.sideCar,n=ub(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Ln({},n))};db.isSideCarExport=!0;function xR(e,t){return e.useMedium(t),db}var fb=yR(),dd=function(){},au=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:dd,onWheelCapture:dd,onTouchMoveCapture:dd}),s=r[0],i=r[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,y=e.inert,g=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,v=e.gapMode,x=ub(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=pR([n,t]),N=Ln(Ln({},x),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:fb,removeScrollBar:u,shards:f,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:v}),o?m.cloneElement(m.Children.only(a),Ln(Ln({},N),{ref:_})):m.createElement(w,Ln({},N,{className:c,ref:_}),a))});au.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};au.classNames={fullWidth:Al,zeroRight:Dl};var wR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wR();return t&&e.setAttribute("nonce",t),e}function SR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function _R(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bR())&&(SR(t,n),_R(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ER=function(){var e=jR();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},hb=function(){var e=ER(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},NR={left:0,top:0,right:0,gap:0},fd=function(e){return parseInt(e||"",10)||0},CR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[fd(n),fd(r),fd(s)]},kR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return NR;var t=CR(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},TR=hb(),wi="data-scroll-locked",PR=function(e,t,n,r){var s=e.left,i=e.top,o=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(dR,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(wi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Al,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Dl," .").concat(Dl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Al," .").concat(Al,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(wi,`] {
    `).concat(fR,": ").concat(a,`px;
  }
`)},ov=function(){var e=parseInt(document.body.getAttribute(wi)||"0",10);return isFinite(e)?e:0},RR=function(){m.useEffect(function(){return document.body.setAttribute(wi,(ov()+1).toString()),function(){var e=ov()-1;e<=0?document.body.removeAttribute(wi):document.body.setAttribute(wi,e.toString())}},[])},OR=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;RR();var i=m.useMemo(function(){return kR(s)},[s]);return m.createElement(TR,{styles:PR(i,!t,s,n?"":"!important")})},Ff=!1;if(typeof window<"u")try{var cl=Object.defineProperty({},"passive",{get:function(){return Ff=!0,!0}});window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Ff=!1}var Vs=Ff?{passive:!1}:!1,DR=function(e){return e.tagName==="TEXTAREA"},mb=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!DR(e)&&n[t]==="visible")},AR=function(e){return mb(e,"overflowY")},IR=function(e){return mb(e,"overflowX")},av=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=pb(e,r);if(s){var i=gb(e,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},MR=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},LR=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},pb=function(e,t){return e==="v"?AR(t):IR(t)},gb=function(e,t){return e==="v"?MR(t):LR(t)},$R=function(e,t){return e==="h"&&t==="rtl"?-1:1},FR=function(e,t,n,r,s){var i=$R(e,window.getComputedStyle(t).direction),o=i*r,a=n.target,c=t.contains(a),u=!1,d=o>0,f=0,h=0;do{var p=gb(e,a),y=p[0],g=p[1],b=p[2],w=g-b-i*y;(y||w)&&pb(e,a)&&(f+=w,h+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},ul=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},lv=function(e){return[e.deltaX,e.deltaY]},cv=function(e){return e&&"current"in e?e.current:e},BR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zR=0,qs=[];function WR(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(zR++)[0],i=m.useState(hb)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=uR([e.lockRef.current],(e.shards||[]).map(cv),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var w=ul(g),v=n.current,x="deltaX"in g?g.deltaX:v[0]-w[0],S="deltaY"in g?g.deltaY:v[1]-w[1],_,N=g.target,E=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in g&&E==="h"&&N.type==="range")return!1;var C=av(E,N);if(!C)return!0;if(C?_=E:(_=E==="v"?"h":"v",C=av(E,N)),!C)return!1;if(!r.current&&"changedTouches"in g&&(x||S)&&(r.current=_),!_)return!0;var O=r.current||_;return FR(O,b,g,O==="h"?x:S,!0)},[]),c=m.useCallback(function(g){var b=g;if(!(!qs.length||qs[qs.length-1]!==i)){var w="deltaY"in b?lv(b):ul(b),v=t.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&BR(_.delta,w)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var x=(o.current.shards||[]).map(cv).filter(Boolean).filter(function(_){return _.contains(b.target)}),S=x.length>0?a(b,x[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(g,b,w,v){var x={name:g,delta:b,target:w,should:v,shadowParent:HR(w)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),d=m.useCallback(function(g){n.current=ul(g),r.current=void 0},[]),f=m.useCallback(function(g){u(g.type,lv(g),g.target,a(g,e.lockRef.current))},[]),h=m.useCallback(function(g){u(g.type,ul(g),g.target,a(g,e.lockRef.current))},[]);m.useEffect(function(){return qs.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Vs),document.addEventListener("touchmove",c,Vs),document.addEventListener("touchstart",d,Vs),function(){qs=qs.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Vs),document.removeEventListener("touchmove",c,Vs),document.removeEventListener("touchstart",d,Vs)}},[]);var p=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(i,{styles:UR(s)}):null,p?m.createElement(OR,{gapMode:e.gapMode}):null)}function HR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const VR=xR(fb,WR);var lu=m.forwardRef(function(e,t){return m.createElement(au,Ln({},e,{ref:t,sideCar:VR}))});lu.classNames=au.classNames;var qR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ys=new WeakMap,dl=new WeakMap,fl={},hd=0,vb=function(e){return e&&(e.host||vb(e.parentNode))},YR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=vb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},KR=function(e,t,n,r){var s=YR(t,Array.isArray(e)?e:[e]);fl[n]||(fl[n]=new WeakMap);var i=fl[n],o=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var p=h.getAttribute(r),y=p!==null&&p!=="false",g=(Ys.get(h)||0)+1,b=(i.get(h)||0)+1;Ys.set(h,g),i.set(h,b),o.push(h),g===1&&y&&dl.set(h,!0),b===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),a.clear(),hd++,function(){o.forEach(function(f){var h=Ys.get(f)-1,p=i.get(f)-1;Ys.set(f,h),i.set(f,p),h||(dl.has(f)||f.removeAttribute(r),dl.delete(f)),p||f.removeAttribute(n)}),hd--,hd||(Ys=new WeakMap,Ys=new WeakMap,dl=new WeakMap,fl={})}},wm=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=qR(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),KR(r,s,n,"aria-hidden")):function(){return null}},bm="Dialog",[yb,RL]=Ms(bm),[GR,Cn]=yb(bm),xb=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=m.useRef(null),c=m.useRef(null),[u=!1,d]=ks({prop:r,defaultProp:s,onChange:i});return l.jsx(GR,{scope:t,triggerRef:a,contentRef:c,contentId:rr(),titleId:rr(),descriptionId:rr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};xb.displayName=bm;var wb="DialogTrigger",bb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(wb,n),i=xe(t,s.triggerRef);return l.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jm(s.open),...r,ref:i,onClick:re(e.onClick,s.onOpenToggle)})});bb.displayName=wb;var Sm="DialogPortal",[QR,Sb]=yb(Sm,{forceMount:void 0}),_b=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Cn(Sm,t);return l.jsx(QR,{scope:t,forceMount:n,children:m.Children.map(r,o=>l.jsx(Gt,{present:n||i.open,children:l.jsx(Ea,{asChild:!0,container:s,children:o})}))})};_b.displayName=Sm;var pc="DialogOverlay",jb=m.forwardRef((e,t)=>{const n=Sb(pc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Cn(pc,e.__scopeDialog);return i.modal?l.jsx(Gt,{present:r||i.open,children:l.jsx(JR,{...s,ref:t})}):null});jb.displayName=pc;var JR=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(pc,n);return l.jsx(lu,{as:Wr,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ue.div,{"data-state":jm(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ps="DialogContent",Eb=m.forwardRef((e,t)=>{const n=Sb(Ps,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Cn(Ps,e.__scopeDialog);return l.jsx(Gt,{present:r||i.open,children:i.modal?l.jsx(XR,{...s,ref:t}):l.jsx(ZR,{...s,ref:t})})});Eb.displayName=Ps;var XR=m.forwardRef((e,t)=>{const n=Cn(Ps,e.__scopeDialog),r=m.useRef(null),s=xe(t,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return wm(i)},[]),l.jsx(Nb,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:re(e.onFocusOutside,i=>i.preventDefault())})}),ZR=m.forwardRef((e,t)=>{const n=Cn(Ps,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return l.jsx(Nb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Nb=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Cn(Ps,n),c=m.useRef(null),u=xe(t,c);return xm(),l.jsxs(l.Fragment,{children:[l.jsx(ou,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Zi,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":jm(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(eO,{titleId:a.titleId}),l.jsx(nO,{contentRef:c,descriptionId:a.descriptionId})]})]})}),_m="DialogTitle",Cb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(_m,n);return l.jsx(ue.h2,{id:s.titleId,...r,ref:t})});Cb.displayName=_m;var kb="DialogDescription",Tb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(kb,n);return l.jsx(ue.p,{id:s.descriptionId,...r,ref:t})});Tb.displayName=kb;var Pb="DialogClose",Rb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Cn(Pb,n);return l.jsx(ue.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>s.onOpenChange(!1))})});Rb.displayName=Pb;function jm(e){return e?"open":"closed"}var Ob="DialogTitleWarning",[OL,Db]=$E(Ob,{contentName:Ps,titleName:_m,docsSlug:"dialog"}),eO=({titleId:e})=>{const t=Db(Ob),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},tO="DialogDescriptionWarning",nO=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Db(tO).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},rO=xb,sO=bb,iO=_b,Ab=jb,Ib=Eb,Mb=Cb,Lb=Tb,oO=Rb;const Ls=rO,$b=sO,aO=iO,Fb=m.forwardRef(({className:e,...t},n)=>l.jsx(Ab,{ref:n,className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Fb.displayName=Ab.displayName;const Jr=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(aO,{children:[l.jsx(Fb,{}),l.jsxs(Ib,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(oO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Hc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jr.displayName=Ib.displayName;const Xr=({className:e,...t})=>l.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xr.displayName="DialogHeader";const oo=({className:e,...t})=>l.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});oo.displayName="DialogFooter";const $s=m.forwardRef(({className:e,...t},n)=>l.jsx(Mb,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));$s.displayName=Mb.displayName;const Zr=m.forwardRef(({className:e,...t},n)=>l.jsx(Lb,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));Zr.displayName=Lb.displayName;const Ee=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ee.displayName="Card";const $e=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",e),...t}));$e.displayName="CardHeader";const Fe=m.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fe.displayName="CardTitle";const Fs=m.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",e),...t}));Fs.displayName="CardDescription";const Ce=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("p-6 pt-0",e),...t}));Ce.displayName="CardContent";const cu=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",e),...t}));cu.displayName="CardFooter";const lO=({onLogin:e})=>{const[t,n]=m.useState(""),[r,s]=m.useState(""),[i,o]=m.useState(!1),{toast:a}=vt();ru();const c=async u=>{if(u.preventDefault(),!t||!r){a({title:"Missing information",description:"Please enter both username and password",variant:"destructive"});return}o(!0);try{const f=await(await fetch("https://ttdbvnmuwwzayzzbosyi.supabase.co/functions/v1/login-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0ZGJ2bm11d3d6YXl6emJvc3lpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5ODc2NTYsImV4cCI6MjA2NTU2MzY1Nn0.JGNJn1iu0wwhLiu34gTEjuK-aK5aAMzJWlbrkB5VQ2Y"},body:JSON.stringify({username:t,password:r})})).json();f.success?(a({title:"Login successful",description:`Welcome back, ${f.admin.username}!`}),e(!0)):(a({title:"Login failed",description:f.error||"Invalid username or password",variant:"destructive"}),e(!1))}catch(d){console.error("Login error:",d),a({title:"Login failed",description:"An error occurred during login. Please try again.",variant:"destructive"}),e(!1)}finally{o(!1)}};return l.jsxs(Ee,{className:"w-full max-w-md",children:[l.jsxs($e,{children:[l.jsx(Fe,{className:"text-2xl font-heading flex items-center gap-2",children:"Admin Login"}),l.jsx(Fs,{children:"Sign in to manage classes and rewards"})]}),l.jsxs("form",{onSubmit:c,children:[l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"username",children:"Username"}),l.jsx(it,{id:"username",type:"text",value:t,onChange:u=>n(u.target.value),placeholder:"Enter your username",required:!0,disabled:i,autoComplete:"username"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"password",children:"Password"}),l.jsx(it,{id:"password",type:"password",value:r,onChange:u=>s(u.target.value),placeholder:"Enter your password",required:!0,disabled:i,autoComplete:"current-password"})]})]}),l.jsx(cu,{className:"flex flex-col space-y-3",children:l.jsx(oe,{type:"submit",className:"w-full",disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Logging in..."]}):l.jsx(l.Fragment,{children:"Login"})})})]})]})},cO="modulepreload",uO=function(e){return"/"+e},uv={},Ta=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=uO(c),c in uv)return;uv[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":cO,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},dO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ta(async()=>{const{default:r}=await Promise.resolve().then(()=>ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Em extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class fO extends Em{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hO extends Em{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class mO extends Em{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bf||(Bf={}));var pO=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class gO{constructor(t,{headers:n={},customFetch:r,region:s=Bf.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=dO(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return pO(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(y=>{throw new fO(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new hO(d);if(!d.ok)throw new mO(d);let h=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield d.json():h==="application/octet-stream"?p=yield d.blob():h==="text/event-stream"?p=d:h==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Pt={},Nm={},uu={},Pa={},du={},fu={},vO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qi=vO();const yO=qi.fetch,Bb=qi.fetch.bind(qi),Ub=qi.Headers,xO=qi.Request,wO=qi.Response,ao=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ub,Request:xO,Response:wO,default:Bb,fetch:yO},Symbol.toStringTag,{value:"Module"})),bO=t_(ao);var hu={};Object.defineProperty(hu,"__esModule",{value:!0});let SO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};hu.default=SO;var zb=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fu,"__esModule",{value:!0});const _O=zb(bO),jO=zb(hu);let EO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=_O.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let u=null,d=null,f=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const w=await i.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await i.text();try{u=JSON.parse(g),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,p="OK")}catch{i.status===404&&g===""?(h=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new jO.default(u)}return{error:u,data:d,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};fu.default=EO;var NO=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(du,"__esModule",{value:!0});const CO=NO(fu);let kO=class extends CO.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};du.default=kO;var TO=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pa,"__esModule",{value:!0});const PO=TO(du);let RO=class extends PO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Pa.default=RO;var OO=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uu,"__esModule",{value:!0});const bo=OO(Pa);let DO=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new bo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new bo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new bo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new bo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new bo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};uu.default=DO;var mu={},pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.version=void 0;pu.version="0.0.0-automated";Object.defineProperty(mu,"__esModule",{value:!0});mu.DEFAULT_HEADERS=void 0;const AO=pu;mu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${AO.version}`};var Wb=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nm,"__esModule",{value:!0});const IO=Wb(uu),MO=Wb(Pa),LO=mu;let $O=class Hb{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},LO.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new IO.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Hb(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let c;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",c=n);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new MO.default({method:o,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Nm.default=$O;var lo=on&&on.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.PostgrestError=Pt.PostgrestBuilder=Pt.PostgrestTransformBuilder=Pt.PostgrestFilterBuilder=Pt.PostgrestQueryBuilder=Pt.PostgrestClient=void 0;const Vb=lo(Nm);Pt.PostgrestClient=Vb.default;const qb=lo(uu);Pt.PostgrestQueryBuilder=qb.default;const Yb=lo(Pa);Pt.PostgrestFilterBuilder=Yb.default;const Kb=lo(du);Pt.PostgrestTransformBuilder=Kb.default;const Gb=lo(fu);Pt.PostgrestBuilder=Gb.default;const Qb=lo(hu);Pt.PostgrestError=Qb.default;var FO=Pt.default={PostgrestClient:Vb.default,PostgrestQueryBuilder:qb.default,PostgrestFilterBuilder:Yb.default,PostgrestTransformBuilder:Kb.default,PostgrestBuilder:Gb.default,PostgrestError:Qb.default};const{PostgrestClient:BO,PostgrestQueryBuilder:$L,PostgrestFilterBuilder:FL,PostgrestTransformBuilder:BL,PostgrestBuilder:UL,PostgrestError:zL}=FO;let Uf;typeof window>"u"?Uf=require("ws"):Uf=window.WebSocket;const UO=Uf,zO="2.11.10",WO={"X-Client-Info":`realtime-js/${zO}`},HO="1.0.0",Jb=1e4,VO=1e3;var bi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bi||(bi={}));var xt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xt||(xt={}));var vn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vn||(vn={}));var zf;(function(e){e.websocket="websocket"})(zf||(zf={}));var us;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(us||(us={}));class qO{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const c=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Xb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const dv=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=YO(o,e,t,s),i),{})},YO=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Zb(i,o):Wf(o)},Zb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return JO(t,n)}switch(e){case Oe.bool:return KO(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return GO(t);case Oe.json:case Oe.jsonb:return QO(t);case Oe.timestamp:return XO(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Wf(t);default:return Wf(t)}},Wf=e=>e,KO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},GO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},QO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Zb(t,a))}return e},XO=e=>typeof e=="string"?e.replace(" ","T"):e,e1=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class md{constructor(t,n,r={},s=Jb){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fv||(fv={}));class Uo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uo.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Uo.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Uo.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),p=f.map(b=>b.presence_ref),y=d.filter(b=>p.indexOf(b.presence_ref)<0),g=f.filter(b=>h.indexOf(b.presence_ref)<0);y.length>0&&(a[u]=y),g.length>0&&(c[u]=g)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[a].unshift(...h)}r(a,d,c)}),this.map(o,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var hv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(hv||(hv={}));var mv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(mv||(mv={}));var Qn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qn||(Qn={}));class Cm{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new md(this,vn.join,this.params,this.timeout),this.rejoinTimer=new Xb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Uo(this),this.broadcastEndpointURL=e1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Qn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Qn.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Qn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let g=0;g<p;g++){const b=h[g],{filter:{event:w,schema:v,table:x,filter:S}}=b,_=d&&d[g];if(_&&_.event===w&&_.schema===v&&_.table===x&&_.filter===S)y.push(Object.assign(Object.assign({},b),{id:_.id}));else{this.unsubscribe(),this.state=xt.errored,t==null||t(Qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Qn.SUBSCRIBED);return}}).receive("error",d=>{this.state=xt.errored,t==null||t(Qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new md(this,vn.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new md(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=vn;if(r&&[a,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let h=this._onMessage(o,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,g,b;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(h,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,g,b,w,v,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const S=p.id,_=(y=p.filter)===null||y===void 0?void 0:y.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(v=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:g,table:b,commit_timestamp:w,type:v,errors:x}=y;h=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:w,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(y))}p.callback(h,r)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Cm.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vn.close,{},t)}_onError(t){this._on(vn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=dv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=dv(t.columns,t.old_record)),n}}const pv=()=>{},ZO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e2{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=WO,this.params={},this.timeout=Jb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pv,this.ref=0,this.logger=pv,this.conn=null,this.sendBuffer=[],this.serializer=new qO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ta(async()=>{const{default:c}=await Promise.resolve().then(()=>ao);return{default:c}},void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${zf.websocket}`,this.httpEndpoint=e1(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=UO),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new t2(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:HO}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case bi.connecting:return us.Connecting;case bi.open:return us.Open;case bi.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Cm(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(vn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(VO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(vn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([ZO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class t2{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=bi.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class km extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class n2 extends km{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Hf extends km{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var r2=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const t1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ta(async()=>{const{default:r}=await Promise.resolve().then(()=>ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},s2=()=>r2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ta(()=>Promise.resolve().then(()=>ao),void 0)).Response:Response}),Vf=e=>{if(Array.isArray(e))return e.map(n=>Vf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Vf(r)}),t};var Bs=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const pd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),i2=(e,t,n)=>Bs(void 0,void 0,void 0,function*(){const r=yield s2();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new n2(pd(s),e.status||500))}).catch(s=>{t(new Hf(pd(s),s))}):t(new Hf(pd(e),e))}),o2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function Ra(e,t,n,r,s,i){return Bs(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,o2(t,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>i2(c,a,r))})})}function gc(e,t,n,r){return Bs(this,void 0,void 0,function*(){return Ra(e,"GET",t,n,r)})}function br(e,t,n,r,s){return Bs(this,void 0,void 0,function*(){return Ra(e,"POST",t,r,s,n)})}function a2(e,t,n,r,s){return Bs(this,void 0,void 0,function*(){return Ra(e,"PUT",t,r,s,n)})}function l2(e,t,n,r){return Bs(this,void 0,void 0,function*(){return Ra(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function n1(e,t,n,r,s){return Bs(this,void 0,void 0,function*(){return Ra(e,"DELETE",t,r,s,n)})}var kt=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const c2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class u2{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=t1(s)}uploadOrUpdate(t,n,r,s){return kt(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gv),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(nt(i))return{data:null,error:i};throw i}})}upload(t,n,r){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return kt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:gv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(nt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return kt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield br(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new km("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}update(t,n,r){return kt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return kt(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}copy(t,n,r){return kt(this,void 0,void 0,function*(){try{return{data:{path:(yield br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return kt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield br(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return kt(this,void 0,void 0,function*(){try{const s=yield br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}download(t,n){return kt(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield gc(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(nt(a))return{data:null,error:a};throw a}})}info(t){return kt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield gc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Vf(r),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}exists(t){return kt(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield l2(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(nt(r)&&r instanceof Hf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return kt(this,void 0,void 0,function*(){try{return{data:yield n1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}list(t,n,r){return kt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},c2),n),{prefix:t||""});return{data:yield br(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(nt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const d2="2.7.1",f2={"X-Client-Info":`storage-js/${d2}`};var Ks=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class h2{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},f2),n),this.fetch=t1(r)}listBuckets(){return Ks(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(nt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ks(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ks(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ks(this,void 0,void 0,function*(){try{return{data:yield a2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ks(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ks(this,void 0,void 0,function*(){try{return{data:yield n1(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}})}}class m2 extends h2{constructor(t,n={},r){super(t,n,r)}from(t){return new u2(this.url,this.headers,t,this.fetch)}}const p2="2.50.0";let To="";typeof Deno<"u"?To="deno":typeof document<"u"?To="web":typeof navigator<"u"&&navigator.product==="ReactNative"?To="react-native":To="node";const g2={"X-Client-Info":`supabase-js-${To}/${p2}`},v2={headers:g2},y2={schema:"public"},x2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w2={};var b2=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const S2=e=>{let t;return e?t=e:typeof fetch>"u"?t=Bb:t=fetch,(...n)=>t(...n)},_2=()=>typeof Headers>"u"?Ub:Headers,j2=(e,t,n)=>{const r=S2(n),s=_2();return(i,o)=>b2(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var E2=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function N2(e){return e.endsWith("/")?e:e+"/"}function C2(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>E2(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const r1="2.70.0",Zs=30*1e3,qf=3,gd=qf*Zs,k2="http://localhost:9999",T2="supabase.auth.token",P2={"X-Client-Info":`gotrue-js/${r1}`},Yf="X-Supabase-Api-Version",s1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},R2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,O2=6e5;class Tm extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class D2 extends Tm{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function A2(e){return de(e)&&e.name==="AuthApiError"}class i1 extends Tm{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class es extends Tm{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class yr extends es{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I2(e){return de(e)&&e.name==="AuthSessionMissingError"}class hl extends es{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ml extends es{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pl extends es{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M2(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class vv extends es{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kf extends es{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function vd(e){return de(e)&&e.name==="AuthRetryableFetchError"}class yv extends es{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class zo extends es{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xv=` 	
\r=`.split(""),L2=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<xv.length;t+=1)e[xv[t].charCodeAt(0)]=-2;for(let t=0;t<vc.length;t+=1)e[vc[t].charCodeAt(0)]=t;return e})();function wv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vc[r]),t.queuedBits-=6}}function o1(e,t,n){const r=L2[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bv(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{B2(o,r,n)};for(let o=0;o<e.length;o+=1)o1(e.charCodeAt(o),s,i);return t.join("")}function $2(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function F2(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}$2(r,t)}}function B2(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function U2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)o1(e.charCodeAt(s),n,r);return new Uint8Array(t)}function z2(e){const t=[];return F2(e,n=>t.push(n)),new Uint8Array(t)}function W2(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>wv(s,n,r)),wv(null,n,r),t.join("")}function H2(e){return Math.round(Date.now()/1e3)+e}function V2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const dn=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},Wo=()=>{if(!dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function q2(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const a1=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ta(async()=>{const{default:r}=await Promise.resolve().then(()=>ao);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Y2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",l1=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},gl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},vl=async(e,t)=>{await e.removeItem(t)};class gu{constructor(){this.promise=new gu.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}gu.promiseConstructor=Promise;function yd(e){const t=e.split(".");if(t.length!==3)throw new zo("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!R2.test(t[r]))throw new zo("JWT not in base64url format");return{header:JSON.parse(bv(t[0])),payload:JSON.parse(bv(t[1])),signature:U2(t[2]),raw:{header:t[0],payload:t[1]}}}async function K2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function G2(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Q2(e){return("0"+e.toString(16)).substr(-2)}function J2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,Q2).join("")}async function X2(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Z2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await X2(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gs(e,t,n=!1){const r=J2();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await l1(e,`${t}-code-verifier`,s);const i=await Z2(r);return[i,r===i?"plain":"s256"]}const eD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tD(e){const t=e.headers.get(Yf);if(!t||!t.match(eD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function nD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function rD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qs(e){if(!sD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var iD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const ls=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oD=[502,503,504];async function Sv(e){var t;if(!Y2(e))throw new Kf(ls(e),0);if(oD.includes(e.status))throw new Kf(ls(e),e.status);let n;try{n=await e.json()}catch(i){throw new i1(ls(i),i)}let r;const s=tD(e);if(s&&s.getTime()>=s1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new yv(ls(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new yr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new yv(ls(n),e.status,n.weak_password.reasons);throw new D2(ls(n),e.status||500,r)}const aD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function pe(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Yf]||(i[Yf]=s1["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await lD(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function lD(e,t,n,r,s,i){const o=aD(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(c){throw console.error(c),new Kf(ls(c),0)}if(a.ok||await Sv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await Sv(c)}}function Kn(e){var t;let n=null;fD(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=H2(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function _v(e){const t=Kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function jr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function cD(e){return{data:e,error:null}}function uD(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=iD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function dD(e){return e}function fD(e){return e.access_token&&e.refresh_token&&e.expires_in}const xd=["global","local","others"];var hD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class mD{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=a1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=xd[0]){if(xd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xd.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:jr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=hD(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:uD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(de(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:dD});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Qs(t);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jr})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qs(t);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:jr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Qs(t);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:jr})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Qs(t.userId);try{const{data:n,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(de(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qs(t.userId),Qs(t.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}const pD={getItem:e=>Wo()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Wo()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Wo()&&globalThis.localStorage.removeItem(e)}};function jv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function gD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Js={debug:!!(globalThis&&Wo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class c1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vD extends c1{}async function yD(e,t,n){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Js.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}gD();const xD={url:k2,storageKey:T2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:P2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ev(e,t,n){return await n()}class ga{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ga.nextInstanceID,ga.nextInstanceID+=1,this.instanceID>0&&dn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xD),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new mD({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=a1(s.fetch),this.lock=s.lock||Ev,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:dn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yD:this.lock=Ev,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Wo()?this.storage=pD:(this.memoryStorage={},this.storage=jv(this.memoryStorage)):(this.memoryStorage={},this.storage=jv(this.memoryStorage)),dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${r1}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=q2(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),dn()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),M2(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return de(n)?{error:n}:{error:new i1("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Kn}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Gs(this.storage,this.storageKey)),i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:Kn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kn})}else throw new ml("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_v})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_v})}else throw new ml("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new hl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,i,o,a,c,u,d,f,h,p;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:b,wallet:w,statement:v,options:x}=t;let S;if(dn())if(typeof w=="object")S=w;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))S=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=w}const _=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const N=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let E;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")E=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)E=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),g=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const N=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=N}}try{const{data:b,error:w}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:W2(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Kn});if(w)throw w;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new hl}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:w})}catch(b){if(de(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const n=await gl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Kn});if(await vl(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new hl}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(de(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kn}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new hl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gs(this.storage,this.storageKey));const{error:f}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ml("You must provide either an email or phone number.")}catch(a){if(de(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Kn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gs(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:cD})}catch(i){if(de(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new yr;const{error:s}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await pe(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ml("You must provide either an email or phone number and a type")}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await gl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<gd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:jr}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yr}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:jr})})}catch(n){if(de(n))return I2(n)&&(await this._removeSession(),await vl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new yr;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Gs(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:jr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yr;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=yd(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(de(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new yr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(de(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!dn())throw new pl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new vv("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=t;if(!i||!a||!o||!u)throw new pl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:g,error:b}=await this._getUser(i);if(b)throw b;const w={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(de(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await gl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(A2(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await vl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=V2(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Gs(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(de(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return dn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(de(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await G2(async s=>(s>0&&await K2(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&vd(i)&&Date.now()+o-r<Zs})}catch(r){if(this._debug(n,"error",r),de(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),dn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await gl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<gd;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${gd}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),vd(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new gu;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new yr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),de(i)){const o={session:null,error:i};return vd(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await l1(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await vl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zs}ms, refresh threshold is ${qf} ticks`),s<=qf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof c1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(de(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(de(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(de(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=yd(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+O2>Date.now()))return r;const{data:s,error:i}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new zo("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===t),!r)throw new zo("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=yd(r);if(nD(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const u=rD(s.alg),d=await this.fetchJwk(s.kid,n),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,z2(`${a}.${c}`)))throw new zo("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}}ga.nextInstanceID=0;const wD=ga;class bD extends wD{constructor(t){super(t)}}var SD=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class _D{constructor(t,n,r){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=N2(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:y2,realtime:w2,auth:Object.assign(Object.assign({},x2),{storageKey:u}),global:v2},f=C2(r??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=j2(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new BO(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new gO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new m2(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return SD(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bD({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new e2(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jD=(e,t,n)=>new _D(e,t,n),ED="https://ttdbvnmuwwzayzzbosyi.supabase.co",ND="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0ZGJ2bm11d3d6YXl6emJvc3lpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5ODc2NTYsImV4cCI6MjA2NTU2MzY1Nn0.JGNJn1iu0wwhLiu34gTEjuK-aK5aAMzJWlbrkB5VQ2Y",q=jD(ED,ND,{realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"student-bidding-system"}}}),u1=async e=>{try{const{data:t,error:n}=await q.from("users").select("*").eq("email",e.email).maybeSingle();if(t&&!n){const{data:i,error:o}=await q.from("users").update({name:e.name,student_number:e.studentNumber}).eq("id",t.id).select().single();if(o)throw o;return{id:i.id,name:i.name,email:i.email,studentNumber:i.student_number,createdAt:i.created_at,updatedAt:i.updated_at}}const{data:r,error:s}=await q.from("users").insert({name:e.name,email:e.email,student_number:e.studentNumber}).select().single();if(s)throw s;return{id:r.id,name:r.name,email:r.email,studentNumber:r.student_number,createdAt:r.created_at,updatedAt:r.updated_at}}catch(t){throw console.error("Error creating/getting user:",t),t}},d1=async e=>{try{const{data:t,error:n}=await q.from("student_enrollments").upsert({user_id:e.userId,class_id:e.classId,tokens_remaining:e.tokensRemaining||1,token_status:e.tokenStatus||"unused",bidding_result:e.biddingResult||"pending"}).select().single();if(n)throw n;return{userId:t.user_id,classId:t.class_id,tokensRemaining:t.tokens_remaining,tokenStatus:t.token_status,biddingResult:t.bidding_result,createdAt:t.created_at,updatedAt:t.updated_at}}catch(t){throw console.error("Error enrolling user in class:",t),t}},CD=async(e,t)=>{try{const{data:n,error:r}=await q.from("users").select("*").eq("email",e.toLowerCase()).eq("student_number",t).maybeSingle();return r||!n?null:{id:n.id,name:n.name,email:n.email,studentNumber:n.student_number,createdAt:n.created_at,updatedAt:n.updated_at}}catch(n){return console.error("Error getting user by credentials:",n),null}},kD=async e=>{try{const{data:t,error:n}=await q.from("student_enrollments").select("*").eq("user_id",e);if(n)throw n;return(t||[]).map(r=>({userId:r.user_id,classId:r.class_id,tokensRemaining:r.tokens_remaining,tokenStatus:r.token_status,biddingResult:r.bidding_result,createdAt:r.created_at,updatedAt:r.updated_at}))}catch(t){return console.error("Error getting user enrollments:",t),[]}},f1=async e=>{try{const{data:t,error:n}=await q.from("student_enrollments").select(`
        *,
        user:users(*)
      `).eq("class_id",e);if(n)throw n;return(t||[]).map(r=>({id:r.user.id,name:r.user.name,email:r.user.email,studentNumber:r.user.student_number,hasUsedToken:r.tokens_remaining<=0,hasBid:r.token_status==="used",tokensRemaining:r.tokens_remaining,tokenStatus:r.token_status,biddingResult:r.bidding_result}))}catch(t){return console.error("Error getting class students:",t),[]}},TD=async(e,t)=>{try{const{data:n,error:r}=await q.rpc("remove_student_from_class",{p_user_id:e,p_class_id:t});if(r)throw new Error(`Failed to remove student: ${r.message}`);return{success:n.success,hasBids:n.has_bids,userDeleted:n.user_deleted,enrollmentDeleted:n.enrollment_deleted,studentName:n.student_name,error:n.error}}catch(n){return console.error("Error removing student from class:",n),{success:!1,hasBids:!1,userDeleted:!1,enrollmentDeleted:!1,error:n instanceof Error?n.message:"Unknown error occurred"}}},PD=async()=>{try{const{data:e,error:t}=await q.from("student_enrollments").select("user_id");if(t)return{success:!1,deletedCount:0,errors:[`Failed to fetch enrolled users: ${t.message}`],message:"Cleanup failed due to database error"};const n=new Set((e||[]).map(c=>c.user_id)),{data:r,error:s}=await q.from("users").select("id, name, email");if(s)return{success:!1,deletedCount:0,errors:[`Failed to fetch users: ${s.message}`],message:"Cleanup failed due to database error"};const i=(r||[]).filter(c=>!n.has(c.id));if(i.length===0)return{success:!0,deletedCount:0,errors:[],message:"No orphaned users found - database is clean"};const o=i.map(c=>c.id),{error:a}=await q.from("users").delete().in("id",o);return a?{success:!1,deletedCount:0,errors:[`Failed to delete orphaned users: ${a.message}`],message:"Cleanup failed during user deletion"}:{success:!0,deletedCount:i.length,errors:[],message:`Successfully removed ${i.length} orphaned user${i.length!==1?"s":""}`}}catch(e){return console.error("Unexpected error during orphaned user cleanup:",e),{success:!1,deletedCount:0,errors:[e instanceof Error?e.message:"Unknown error"],message:"Cleanup failed due to unexpected error"}}},RD=async(e,t)=>{try{const n=await CD(e,t);if(!n)return{success:!1,enrolledClassIds:[],errorMessage:"No student found with these credentials"};const r=await kD(n.id);if(r.length===0)return{success:!1,enrolledClassIds:[],errorMessage:"Student is not enrolled in any classes"};const s=r.map(o=>o.classId);return{success:!0,student:{id:n.id,name:n.name,email:n.email,studentNumber:n.studentNumber,enrollments:r},enrolledClassIds:s}}catch(n){return console.error("Error during student authentication:",n),{success:!1,enrolledClassIds:[],errorMessage:"Authentication failed due to system error"}}},OD=({classes:e,onLogin:t})=>{const[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(!1),{toast:c}=vt(),u=ru(),d=async f=>{f.preventDefault(),a(!0);try{const h=await RD(n,s);h.success&&h.student&&h.enrolledClassIds.length>0?(c({title:"Login successful",description:`Welcome, ${h.student.name}! Found ${h.enrolledClassIds.length} class(es).`}),t(!0),u("/student",{state:{student:h.student,enrolledClassIds:h.enrolledClassIds}})):c({title:"Login failed",description:h.errorMessage||"Invalid email or student number. Please check your credentials.",variant:"destructive"})}catch(h){console.error("Login error:",h),c({title:"Login failed",description:"An error occurred during login. Please try again.",variant:"destructive"})}finally{a(!1)}};return l.jsxs(Ee,{className:"w-full max-w-md",children:[l.jsxs($e,{children:[l.jsx(Fe,{className:"text-2xl font-heading",children:"Student Login"}),l.jsxs(Fs,{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Enter your email address and student number to access your classes"}),l.jsxs(Ls,{children:[l.jsx($b,{asChild:!0,children:l.jsx(oe,{variant:"ghost",size:"icon",className:"h-6 w-6 ml-2 flex-shrink-0",children:l.jsx(Bx,{className:"h-4 w-4"})})}),l.jsx(Jr,{children:l.jsx(Xr,{children:l.jsx(Zr,{children:"If you have any technical problems, please contact Professor Kathy Yuan or Alice (zcahkwn@ucl.ac.uk)."})})})]})]})]}),l.jsxs("form",{onSubmit:d,children:[l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"email",children:"Email Address"}),l.jsx(it,{id:"email",type:"email",value:n,onChange:f=>r(f.target.value),placeholder:"your.email@example.com",required:!0,disabled:o})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"studentNumber",children:"Student Number"}),l.jsx(it,{id:"studentNumber",type:"text",value:s,onChange:f=>i(f.target.value),placeholder:"Enter your student number",required:!0,disabled:o})]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:l.jsx("p",{children:"You will see all classes you're enrolled in after logging in."})})]}),l.jsx(cu,{children:l.jsx(oe,{type:"submit",className:"w-full",disabled:o,children:o?"Logging in...":"Login"})})]})]})},DD=Ca("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ae({className:e,variant:t,...n}){return l.jsx("div",{className:se(DD({variant:t}),e),...n})}function Gf(e,[t,n]){return Math.min(n,Math.max(t,e))}function AD(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Pm="ScrollArea",[h1,WL]=Ms(Pm),[ID,cn]=h1(Pm),m1=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,y]=m.useState(null),[g,b]=m.useState(null),[w,v]=m.useState(0),[x,S]=m.useState(0),[_,N]=m.useState(!1),[E,C]=m.useState(!1),O=xe(t,H=>c(H)),R=su(s);return l.jsx(ID,{scope:n,type:r,dir:R,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:_,onScrollbarXEnabledChange:N,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:E,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:S,children:l.jsx(ue.div,{dir:R,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});m1.displayName=Pm;var p1="ScrollAreaViewport",g1=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...o}=e,a=cn(p1,n),c=m.useRef(null),u=xe(t,c,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),l.jsx(ue.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:VD({asChild:s,children:r},d=>l.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});g1.displayName=p1;var Hn="ScrollAreaScrollbar",Rm=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=cn(Hn,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=e.orientation==="horizontal";return m.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?l.jsx(MD,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(LD,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(v1,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(Om,{...r,ref:t}):null});Rm.displayName=Hn;var MD=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=cn(Hn,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(Gt,{present:n||i,children:l.jsx(v1,{"data-state":i?"visible":"hidden",...r,ref:t})})}),LD=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=cn(Hn,e.__scopeScrollArea),i=e.orientation==="horizontal",o=yu(()=>c("SCROLL_END"),100),[a,c]=AD("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),l.jsx(Gt,{present:n||a!=="hidden",children:l.jsx(Om,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:re(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:re(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),v1=m.forwardRef((e,t)=>{const n=cn(Hn,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,o]=m.useState(!1),a=e.orientation==="horizontal",c=yu(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?u:d)}},10);return Yi(n.viewport,c),Yi(n.content,c),l.jsx(Gt,{present:r||i,children:l.jsx(Om,{"data-state":i?"visible":"hidden",...s,ref:t})})}),Om=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=cn(Hn,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[a,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=S1(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return WD(h,o.current,a,p)}return n==="horizontal"?l.jsx($D,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,p=Nv(h,a,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?l.jsx(FD,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,p=Nv(h,a);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),$D=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=cn(Hn,e.__scopeScrollArea),[o,a]=m.useState(),c=m.useRef(null),u=xe(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(x1,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),j1(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:xc(o.paddingLeft),paddingEnd:xc(o.paddingRight)}})}})}),FD=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=cn(Hn,e.__scopeScrollArea),[o,a]=m.useState(),c=m.useRef(null),u=xe(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(x1,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),j1(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:xc(o.paddingTop),paddingEnd:xc(o.paddingBottom)}})}})}),[BD,y1]=h1(Hn),x1=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=cn(Hn,n),[y,g]=m.useState(null),b=xe(t,O=>g(O)),w=m.useRef(null),v=m.useRef(""),x=p.viewport,S=r.content-r.viewport,_=Qe(d),N=Qe(c),E=yu(f,10);function C(O){if(w.current){const R=O.clientX-w.current.left,H=O.clientY-w.current.top;u({x:R,y:H})}}return m.useEffect(()=>{const O=R=>{const H=R.target;(y==null?void 0:y.contains(H))&&_(R,S)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[x,y,S,_]),m.useEffect(N,[r,N]),Yi(y,E),Yi(p.content,E),l.jsx(BD,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:Qe(i),onThumbPointerUp:Qe(o),onThumbPositionChange:N,onThumbPointerDown:Qe(a),children:l.jsx(ue.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:re(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),w.current=y.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(O))}),onPointerMove:re(e.onPointerMove,C),onPointerUp:re(e.onPointerUp,O=>{const R=O.target;R.hasPointerCapture(O.pointerId)&&R.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),yc="ScrollAreaThumb",w1=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=y1(yc,e.__scopeScrollArea);return l.jsx(Gt,{present:n||s.hasThumb,children:l.jsx(UD,{ref:t,...r})})}),UD=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=cn(yc,n),o=y1(yc,n),{onThumbPositionChange:a}=o,c=xe(t,f=>o.onThumbChange(f)),u=m.useRef(),d=yu(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=HD(f,a);u.current=p,a()}};return a(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,a]),l.jsx(ue.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:re(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x:y,y:g})}),onPointerUp:re(e.onPointerUp,o.onThumbPointerUp)})});w1.displayName=yc;var Dm="ScrollAreaCorner",b1=m.forwardRef((e,t)=>{const n=cn(Dm,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(zD,{...e,ref:t}):null});b1.displayName=Dm;var zD=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=cn(Dm,n),[i,o]=m.useState(0),[a,c]=m.useState(0),u=!!(i&&a);return Yi(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Yi(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?l.jsx(ue.div,{...r,ref:t,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function xc(e){return e?parseInt(e,10):0}function S1(e,t){const n=e/t;return isNaN(n)?0:n}function vu(e){const t=S1(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function WD(e,t,n,r="ltr"){const s=vu(n),i=s/2,o=t||i,a=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return _1([c,u],f)(e)}function Nv(e,t,n="ltr"){const r=vu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Gf(e,c);return _1([0,o],[0,a])(u)}function _1(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function j1(e,t){return e>0&&e<t}var HD=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function yu(e,t){const n=Qe(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Yi(e,t){const n=Qe(t);ct(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function VD(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=m.Children.only(r);return m.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var E1=m1,qD=g1,YD=b1;const Am=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(E1,{ref:r,className:se("relative overflow-hidden",e),...n,children:[l.jsx(qD,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(N1,{}),l.jsx(YD,{})]}));Am.displayName=E1.displayName;const N1=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Rm,{ref:r,orientation:t,className:se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(w1,{className:"relative flex-1 rounded-full bg-border"})}));N1.displayName=Rm.displayName;const KD=({classes:e,archivedClasses:t,currentClass:n,onSelectClass:r,onCreateClass:s,isCollapsed:i=!1,viewArchivedClasses:o,onToggleArchiveView:a,onUnarchiveClass:c})=>{const[u,d]=m.useState(null);m.useState(null);const f=o?t:e,h=e.length,p=t.length;return l.jsx("div",{className:se("fixed left-0 top-16 h-[calc(100vh-64px)] bg-white border-r border-gray-200 shadow-sm transition-all duration-300 z-40",i?"w-16":"w-80"),children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[!i&&l.jsx("h2",{className:"text-lg font-heading font-semibold text-gray-900",children:o?"Archived Classes":"Active Classes"}),l.jsxs(oe,{onClick:s,size:i?"icon":"sm",className:"bg-academy-blue hover:bg-academy-blue/90",children:[l.jsx(ac,{className:"w-4 h-4"}),!i&&l.jsx("span",{className:"ml-2",children:"New Class"})]})]})}),!i&&l.jsx("div",{className:"px-4 pb-2",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(oe,{variant:o?"outline":"default",size:"sm",onClick:()=>a(!1),className:"flex-1 text-xs",children:["Active (",h,")"]}),l.jsxs(oe,{variant:o?"default":"outline",size:"sm",onClick:()=>a(!0),className:"flex-1 text-xs",children:["Archive (",p,")"]})]})}),l.jsx(Am,{className:"flex-1 p-2",children:l.jsx("div",{className:"space-y-2",children:f.length===0?l.jsx("div",{className:se("text-center py-8",i&&"px-2"),children:i?l.jsx(oc,{className:"w-6 h-6 mx-auto text-gray-400"}):l.jsxs(l.Fragment,{children:[l.jsx(oc,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 mb-3",children:o?"No archived classes":"No active classes"}),!o&&l.jsx(oe,{onClick:s,size:"sm",variant:"outline",children:"Create First Class"})]})}):f.map(y=>l.jsx(Ee,{className:se("cursor-pointer transition-all duration-200 hover:shadow-md",(n==null?void 0:n.id)===y.id?"border-academy-blue bg-academy-blue/5 shadow-sm":"border-gray-200 hover:border-gray-300",o&&"opacity-75",i&&"p-2"),onClick:()=>r(y.id),onMouseEnter:()=>d(y.id),onMouseLeave:()=>d(null),children:i?l.jsx("div",{className:"flex items-center justify-center p-2",children:l.jsx("div",{className:"w-8 h-8 rounded-full bg-academy-blue/10 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-semibold text-academy-blue",children:y.className.charAt(0).toUpperCase()})})}):l.jsx(l.Fragment,{children:l.jsx($e,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Fe,{className:"text-base font-semibold text-gray-900 truncate",children:y.className}),l.jsx("div",{className:"flex items-center gap-2",children:o&&l.jsx(l.Fragment,{children:l.jsx(ae,{variant:"secondary",className:"text-xs",children:"Archived"})})}),(n==null?void 0:n.id)===y.id&&l.jsx(tm,{className:"w-4 h-4 text-academy-blue"})]})})})},y.id))})}),!i&&l.jsx("div",{className:"p-4 border-t border-gray-100",children:l.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[h," active classes • ",p," archived classes"]})})]})})},Im=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:se("w-full caption-bottom text-sm",e),...t})}));Im.displayName="Table";const Mm=m.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:se("[&_tr]:border-b",e),...t}));Mm.displayName="TableHeader";const Lm=m.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:se("[&_tr:last-child]:border-0",e),...t}));Lm.displayName="TableBody";const GD=m.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));GD.displayName="TableFooter";const Si=m.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Si.displayName="TableRow";const _t=m.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));_t.displayName="TableHead";const mt=m.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));mt.displayName="TableCell";const QD=m.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:se("mt-4 text-sm text-muted-foreground",e),...t}));QD.displayName="TableCaption";const Ho=e=>{const t=new Date;if(!e.bidOpenDate||!e.bidCloseDate)return!1;const n=new Date(e.bidOpenDate),r=new Date(e.bidCloseDate);return isNaN(n.getTime())||isNaN(r.getTime())?!1:t>=n&&t<r},xn=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"}),tr=e=>{const t=new Date,n=new Date(e.date);if(!e.bidOpenDate||!e.bidCloseDate)return"Invalid Date Configuration";const r=new Date(e.bidOpenDate),s=new Date(e.bidCloseDate);return isNaN(r.getTime())||isNaN(s.getTime())||isNaN(n.getTime())?"Invalid Date Configuration":t>n?"Completed":t>=r&&t<s?"Open for Bidding":t>=s&&t<n?"Bidding Closed":"Coming Soon"},$m=m.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));$m.displayName="Textarea";function Se(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function St(e,t){const n=Se(e);return isNaN(t)?qt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function En(e,t){const n=Se(e);if(isNaN(t))return qt(e,NaN);if(!t)return n;const r=n.getDate(),s=qt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const Fm=6048e5,JD=864e5;let XD={};function Oa(){return XD}function zn(e,t){var a,c,u,d;const n=Oa(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Se(e),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Rs(e){return zn(e,{weekStartsOn:1})}function C1(e){const t=Se(e),n=t.getFullYear(),r=qt(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Rs(r),i=qt(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Rs(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Ki(e){const t=Se(e);return t.setHours(0,0,0,0),t}function wc(e){const t=Se(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function $n(e,t){const n=Ki(e),r=Ki(t),s=+n-wc(n),i=+r-wc(r);return Math.round((s-i)/JD)}function ZD(e){const t=C1(e),n=qt(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Rs(n)}function Qf(e,t){const n=t*7;return St(e,n)}function eA(e,t){return En(e,t*12)}function tA(e){let t;return e.forEach(function(n){const r=Se(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function nA(e){let t;return e.forEach(n=>{const r=Se(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Ot(e,t){const n=Ki(e),r=Ki(t);return+n==+r}function Bm(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rA(e){if(!Bm(e)&&typeof e!="number")return!1;const t=Se(e);return!isNaN(Number(t))}function va(e,t){const n=Se(e),r=Se(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function sA(e,t,n){const r=zn(e,n),s=zn(t,n),i=+r-wc(r),o=+s-wc(s);return Math.round((i-o)/Fm)}function Um(e){const t=Se(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Mt(e){const t=Se(e);return t.setDate(1),t.setHours(0,0,0,0),t}function k1(e){const t=Se(e),n=qt(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function zm(e,t){var a,c,u,d;const n=Oa(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Se(e),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function T1(e){return zm(e,{weekStartsOn:1})}const iA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oA=(e,t,n)=>{let r;const s=iA[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function wd(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const aA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uA={date:wd({formats:aA,defaultWidth:"full"}),time:wd({formats:lA,defaultWidth:"full"}),dateTime:wd({formats:cA,defaultWidth:"full"})},dA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fA=(e,t,n,r)=>dA[e];function So(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{const o=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const hA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xA=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wA={ordinalNumber:xA,era:So({values:hA,defaultWidth:"wide"}),quarter:So({values:mA,defaultWidth:"wide",argumentCallback:e=>e-1}),month:So({values:pA,defaultWidth:"wide"}),day:So({values:gA,defaultWidth:"wide"}),dayPeriod:So({values:vA,defaultWidth:"wide",formattingValues:yA,defaultFormattingWidth:"wide"})};function _o(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?SA(a,f=>f.test(o)):bA(a,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function bA(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function SA(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function _A(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=t.slice(s.length);return{value:o,rest:a}}}const jA=/^(\d+)(th|st|nd|rd)?/i,EA=/\d+/i,NA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},CA={any:[/^b/i,/^(a|c)/i]},kA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},TA={any:[/1/i,/2/i,/3/i,/4/i]},PA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},DA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MA={ordinalNumber:_A({matchPattern:jA,parsePattern:EA,valueCallback:e=>parseInt(e,10)}),era:_o({matchPatterns:NA,defaultMatchWidth:"wide",parsePatterns:CA,defaultParseWidth:"any"}),quarter:_o({matchPatterns:kA,defaultMatchWidth:"wide",parsePatterns:TA,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_o({matchPatterns:PA,defaultMatchWidth:"wide",parsePatterns:RA,defaultParseWidth:"any"}),day:_o({matchPatterns:OA,defaultMatchWidth:"wide",parsePatterns:DA,defaultParseWidth:"any"}),dayPeriod:_o({matchPatterns:AA,defaultMatchWidth:"any",parsePatterns:IA,defaultParseWidth:"any"})},P1={code:"en-US",formatDistance:oA,formatLong:uA,formatRelative:fA,localize:wA,match:MA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LA(e){const t=Se(e);return $n(t,k1(t))+1}function R1(e){const t=Se(e),n=+Rs(t)-+ZD(t);return Math.round(n/Fm)+1}function O1(e,t){var d,f,h,p;const n=Se(e),r=n.getFullYear(),s=Oa(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=qt(e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=zn(o,t),c=qt(e,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=zn(c,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function $A(e,t){var a,c,u,d;const n=Oa(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=O1(e,t),i=qt(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),zn(i,t)}function D1(e,t){const n=Se(e),r=+zn(n,t)-+$A(n,t);return Math.round(r/Fm)+1}function Te(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const pr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Te(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Te(n+1,2)},d(e,t){return Te(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Te(e.getHours()%12||12,t.length)},H(e,t){return Te(e.getHours(),t.length)},m(e,t){return Te(e.getMinutes(),t.length)},s(e,t){return Te(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Te(s,t.length)}},Xs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cv={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return pr.y(e,t)},Y:function(e,t,n,r){const s=O1(e,r),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Te(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Te(i,t.length)},R:function(e,t){const n=C1(e);return Te(n,t.length)},u:function(e,t){const n=e.getFullYear();return Te(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Te(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Te(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return pr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Te(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=D1(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Te(s,t.length)},I:function(e,t,n){const r=R1(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Te(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):pr.d(e,t)},D:function(e,t,n){const r=LA(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Te(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Te(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Te(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Te(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Xs.noon:r===0?s=Xs.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Xs.evening:r>=12?s=Xs.afternoon:r>=4?s=Xs.morning:s=Xs.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return pr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):pr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Te(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):pr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):pr.s(e,t)},S:function(e,t){return pr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Tv(r);case"XXXX":case"XX":return cs(r);case"XXXXX":case"XXX":default:return cs(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Tv(r);case"xxxx":case"xx":return cs(r);case"xxxxx":case"xxx":default:return cs(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+kv(r,":");case"OOOO":default:return"GMT"+cs(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+kv(r,":");case"zzzz":default:return"GMT"+cs(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Te(r,t.length)},T:function(e,t,n){const r=e.getTime();return Te(r,t.length)}};function kv(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+Te(i,2)}function Tv(e,t){return e%60===0?(e>0?"-":"+")+Te(Math.abs(e)/60,2):cs(e,t)}function cs(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Te(Math.trunc(r/60),2),i=Te(r%60,2);return n+s+t+i}const Pv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},A1=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},FA=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Pv(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Pv(r,t)).replace("{{time}}",A1(s,t))},BA={p:A1,P:FA},UA=/^D+$/,zA=/^Y+$/,WA=["D","DD","YY","YYYY"];function HA(e){return UA.test(e)}function VA(e){return zA.test(e)}function qA(e,t,n){const r=YA(e,t,n);if(console.warn(r),WA.includes(e))throw new RangeError(r)}function YA(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QA=/^'([^]*?)'?$/,JA=/''/g,XA=/[a-zA-Z]/;function Ht(e,t,n){var d,f,h,p,y,g,b,w;const r=Oa(),s=(n==null?void 0:n.locale)??r.locale??P1,i=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((w=(b=r.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??0,a=Se(e);if(!rA(a))throw new RangeError("Invalid time value");let c=t.match(GA).map(v=>{const x=v[0];if(x==="p"||x==="P"){const S=BA[x];return S(v,s.formatLong)}return v}).join("").match(KA).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const x=v[0];if(x==="'")return{isToken:!1,value:ZA(v)};if(Cv[x])return{isToken:!0,value:v};if(x.match(XA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const x=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&VA(x)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&HA(x))&&qA(x,t,String(e));const S=Cv[x[0]];return S(a,x,s.localize,u)}).join("")}function ZA(e){const t=e.match(QA);return t?t[1].replace(JA,"'"):e}function eI(e){const t=Se(e),n=t.getFullYear(),r=t.getMonth(),s=qt(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function tI(e){return Math.trunc(+Se(e)/1e3)}function nI(e){const t=Se(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function rI(e,t){return sA(nI(e),Mt(e),t)+1}function Jf(e,t){const n=Se(e),r=Se(t);return n.getTime()>r.getTime()}function I1(e,t){const n=Se(e),r=Se(t);return+n<+r}function Wm(e,t){const n=Se(e),r=Se(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function sI(e,t){const n=Se(e),r=Se(t);return n.getFullYear()===r.getFullYear()}function bd(e,t){return St(e,-t)}function Sd(e,t){const n=Se(e),r=n.getFullYear(),s=n.getDate(),i=qt(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=eI(i);return n.setMonth(t,Math.min(s,o)),n}function Rv(e,t){const n=Se(e);return isNaN(+n)?qt(e,NaN):(n.setFullYear(t),n)}var ce=function(){return ce=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ce.apply(this,arguments)};function iI(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function M1(e,t,n){for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Da(e){return e.mode==="multiple"}function Aa(e){return e.mode==="range"}function xu(e){return e.mode==="single"}var oI={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function aI(e,t){return Ht(e,"LLLL y",t)}function lI(e,t){return Ht(e,"d",t)}function cI(e,t){return Ht(e,"LLLL",t)}function uI(e){return"".concat(e)}function dI(e,t){return Ht(e,"cccccc",t)}function fI(e,t){return Ht(e,"yyyy",t)}var hI=Object.freeze({__proto__:null,formatCaption:aI,formatDay:lI,formatMonthCaption:cI,formatWeekNumber:uI,formatWeekdayName:dI,formatYearCaption:fI}),mI=function(e,t,n){return Ht(e,"do MMMM (EEEE)",n)},pI=function(){return"Month: "},gI=function(){return"Go to next month"},vI=function(){return"Go to previous month"},yI=function(e,t){return Ht(e,"cccc",t)},xI=function(e){return"Week n. ".concat(e)},wI=function(){return"Year: "},bI=Object.freeze({__proto__:null,labelDay:mI,labelMonthDropdown:pI,labelNext:gI,labelPrevious:vI,labelWeekNumber:xI,labelWeekday:yI,labelYearDropdown:wI});function SI(){var e="buttons",t=oI,n=P1,r={},s={},i=1,o={},a=new Date;return{captionLayout:e,classNames:t,formatters:hI,labels:bI,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function _I(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=Mt(r):t&&(i=new Date(t,0,1)),s?o=Um(s):n&&(o=new Date(n,11,31)),{fromDate:i?Ki(i):void 0,toDate:o?Ki(o):void 0}}var L1=m.createContext(void 0);function jI(e){var t,n=e.initialProps,r=SI(),s=_I(n),i=s.fromDate,o=s.toDate,a=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var c;(xu(n)||Da(n)||Aa(n))&&(c=n.onSelect);var u=ce(ce(ce({},r),n),{captionLayout:a,classNames:ce(ce({},r.classNames),n.classNames),components:ce({},n.components),formatters:ce(ce({},r.formatters),n.formatters),fromDate:i,labels:ce(ce({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ce(ce({},r.modifiers),n.modifiers),modifiersClassNames:ce(ce({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:ce(ce({},r.styles),n.styles),toDate:o});return l.jsx(L1.Provider,{value:u,children:e.children})}function Ae(){var e=m.useContext(L1);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function $1(e){var t=Ae(),n=t.locale,r=t.classNames,s=t.styles,i=t.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function EI(e){return l.jsx("svg",ce({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function F1(e){var t,n,r=e.onChange,s=e.value,i=e.children,o=e.caption,a=e.className,c=e.style,u=Ae(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:EI;return l.jsxs("div",{className:a,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function NI(e){var t,n=Ae(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var f=[];if(sI(r,s))for(var h=Mt(r),p=r.getMonth();p<=s.getMonth();p++)f.push(Sd(h,p));else for(var h=Mt(new Date),p=0;p<=11;p++)f.push(Sd(h,p));var y=function(b){var w=Number(b.target.value),v=Sd(Mt(e.displayMonth),w);e.onChange(v)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:F1;return l.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:o}),children:f.map(function(b){return l.jsx("option",{value:b.getMonth(),children:a(b,{locale:o})},b.getMonth())})})}function CI(e){var t,n=e.displayMonth,r=Ae(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,h=[];if(!s)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});for(var p=s.getFullYear(),y=i.getFullYear(),g=p;g<=y;g++)h.push(Rv(k1(new Date),g));var b=function(v){var x=Rv(Mt(n),Number(v.target.value));e.onChange(x)},w=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:F1;return l.jsx(w,{name:"years","aria-label":f(),className:c.dropdown_year,style:a.dropdown_year,onChange:b,value:n.getFullYear(),caption:d(n,{locale:o}),children:h.map(function(v){return l.jsx("option",{value:v.getFullYear(),children:d(v,{locale:o})},v.getFullYear())})})}function kI(e,t){var n=m.useState(e),r=n[0],s=n[1],i=t===void 0?r:t;return[i,s]}function TI(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,i=e.toDate,o=e.fromDate,a=e.numberOfMonths,c=a===void 0?1:a;if(i&&va(i,s)<0){var u=-1*(c-1);s=En(i,u)}return o&&va(s,o)<0&&(s=o),Mt(s)}function PI(){var e=Ae(),t=TI(e),n=kI(t,e.month),r=n[0],s=n[1],i=function(o){var a;if(!e.disableNavigation){var c=Mt(o);s(c),(a=e.onMonthChange)===null||a===void 0||a.call(e,c)}};return[r,i]}function RI(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=Mt(e),i=Mt(En(s,r)),o=va(i,s),a=[],c=0;c<o;c++){var u=En(s,c);a.push(u)}return n&&(a=a.reverse()),a}function OI(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Mt(e);if(!n)return En(a,o);var c=va(n,e);if(!(c<i))return En(a,o)}}function DI(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=Mt(e);if(!n)return En(a,-o);var c=va(a,n);if(!(c<=0))return En(a,-o)}}var B1=m.createContext(void 0);function AI(e){var t=Ae(),n=PI(),r=n[0],s=n[1],i=RI(r,t),o=OI(r,t),a=DI(r,t),c=function(f){return i.some(function(h){return Wm(f,h)})},u=function(f,h){c(f)||(h&&I1(f,h)?s(En(f,1+t.numberOfMonths*-1)):s(f))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:a,nextMonth:o,isDateDisplayed:c};return l.jsx(B1.Provider,{value:d,children:e.children})}function Ia(){var e=m.useContext(B1);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Ov(e){var t,n=Ae(),r=n.classNames,s=n.styles,i=n.components,o=Ia().goToMonth,a=function(d){o(En(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:$1,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(NI,{onChange:a,displayMonth:e.displayMonth}),l.jsx(CI,{onChange:a,displayMonth:e.displayMonth})]})}function II(e){return l.jsx("svg",ce({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function MI(e){return l.jsx("svg",ce({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var bc=m.forwardRef(function(e,t){var n=Ae(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),a=ce(ce({},s.button_reset),s.button);return e.style&&Object.assign(a,e.style),l.jsx("button",ce({},e,{ref:t,type:"button",className:o,style:a}))});function LI(e){var t,n,r=Ae(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var h=u(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),y=d(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),b=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:MI,w=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:II;return l.jsxs("div",{className:o.nav,style:a.nav,children:[!e.hidePrevious&&l.jsx(bc,{name:"previous-month","aria-label":h,className:p,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(b,{className:o.nav_icon,style:a.nav_icon}):l.jsx(w,{className:o.nav_icon,style:a.nav_icon})}),!e.hideNext&&l.jsx(bc,{name:"next-month","aria-label":y,className:g,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(w,{className:o.nav_icon,style:a.nav_icon}):l.jsx(b,{className:o.nav_icon,style:a.nav_icon})})]})}function Dv(e){var t=Ae().numberOfMonths,n=Ia(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(y){return Wm(e.displayMonth,y)}),c=a===0,u=a===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){r&&i(r)},p=function(){s&&i(s)};return l.jsx(LI,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:h,onNextClick:p})}function $I(e){var t,n=Ae(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:$1,u;return s?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=l.jsx(Ov,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(Ov,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(Dv,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Dv,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:i.caption,children:u})}function FI(e){var t=Ae(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?l.jsx("tfoot",{className:s,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function BI(e,t,n){for(var r=n?Rs(new Date):zn(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=St(r,i);s.push(o)}return s}function UI(){var e=Ae(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,a=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=BI(s,i,o);return l.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,f){return l.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:a(d,{locale:s})},f)})]})}function zI(){var e,t=Ae(),n=t.classNames,r=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:UI;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(i,{})})}function WI(e){var t=Ae(),n=t.locale,r=t.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:n})})}var Hm=m.createContext(void 0);function HI(e){if(!Da(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(Hm.Provider,{value:t,children:e.children})}return l.jsx(VI,{initialProps:e.initialProps,children:e.children})}function VI(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,i=t.max,o=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var g=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!g){var b=r?M1([],r):[];if(d.selected){var w=b.findIndex(function(v){return Ot(u,v)});b.splice(w,1)}else b.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,b,u,d,f)}}},a={disabled:[]};r&&a.disabled.push(function(u){var d=i&&r.length>i-1,f=r.some(function(h){return Ot(h,u)});return!!(d&&!f)});var c={selected:r,onDayClick:o,modifiers:a};return l.jsx(Hm.Provider,{value:c,children:n})}function Vm(){var e=m.useContext(Hm);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function qI(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?Ot(s,e)&&Ot(r,e)?void 0:Ot(s,e)?{from:s,to:void 0}:Ot(r,e)?void 0:Jf(r,e)?{from:e,to:s}:{from:r,to:e}:s?Jf(e,s)?{from:s,to:e}:{from:e,to:s}:r?I1(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var qm=m.createContext(void 0);function YI(e){if(!Aa(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(qm.Provider,{value:t,children:e.children})}return l.jsx(KI,{initialProps:e.initialProps,children:e.children})}function KI(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},i=s.from,o=s.to,a=t.min,c=t.max,u=function(p,y,g){var b,w;(b=t.onDayClick)===null||b===void 0||b.call(t,p,y,g);var v=qI(p,r);(w=t.onSelect)===null||w===void 0||w.call(t,v,p,y,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Ot(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),a&&(i&&!o&&d.disabled.push({after:bd(i,a-1),before:St(i,a-1)}),i&&o&&d.disabled.push({after:i,before:St(i,a-1)}),!i&&o&&d.disabled.push({after:bd(o,a-1),before:St(o,a-1)})),c){if(i&&!o&&(d.disabled.push({before:St(i,-c+1)}),d.disabled.push({after:St(i,c-1)})),i&&o){var f=$n(o,i)+1,h=c-f;d.disabled.push({before:bd(i,h)}),d.disabled.push({after:St(o,h)})}!i&&o&&(d.disabled.push({before:St(o,-c+1)}),d.disabled.push({after:St(o,c-1)}))}return l.jsx(qm.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function Ym(){var e=m.useContext(qm);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Il(e){return Array.isArray(e)?M1([],e):e!==void 0?[e]:[]}function GI(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=Il(s)}),t}var Nn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Nn||(Nn={}));var QI=Nn.Selected,qn=Nn.Disabled,JI=Nn.Hidden,XI=Nn.Today,_d=Nn.RangeEnd,jd=Nn.RangeMiddle,Ed=Nn.RangeStart,ZI=Nn.Outside;function eM(e,t,n){var r,s=(r={},r[QI]=Il(e.selected),r[qn]=Il(e.disabled),r[JI]=Il(e.hidden),r[XI]=[e.today],r[_d]=[],r[jd]=[],r[Ed]=[],r[ZI]=[],r);return e.fromDate&&s[qn].push({before:e.fromDate}),e.toDate&&s[qn].push({after:e.toDate}),Da(e)?s[qn]=s[qn].concat(t.modifiers[qn]):Aa(e)&&(s[qn]=s[qn].concat(n.modifiers[qn]),s[Ed]=n.modifiers[Ed],s[jd]=n.modifiers[jd],s[_d]=n.modifiers[_d]),s}var U1=m.createContext(void 0);function tM(e){var t=Ae(),n=Vm(),r=Ym(),s=eM(t,n,r),i=GI(t.modifiers),o=ce(ce({},s),i);return l.jsx(U1.Provider,{value:o,children:e.children})}function z1(){var e=m.useContext(U1);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function nM(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function rM(e){return!!(e&&typeof e=="object"&&"from"in e)}function sM(e){return!!(e&&typeof e=="object"&&"after"in e)}function iM(e){return!!(e&&typeof e=="object"&&"before"in e)}function oM(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function aM(e,t){var n,r=t.from,s=t.to;if(r&&s){var i=$n(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=$n(e,r)>=0&&$n(s,e)>=0;return o}return s?Ot(s,e):r?Ot(r,e):!1}function lM(e){return Bm(e)}function cM(e){return Array.isArray(e)&&e.every(Bm)}function uM(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(lM(n))return Ot(e,n);if(cM(n))return n.includes(e);if(rM(n))return aM(e,n);if(oM(n))return n.dayOfWeek.includes(e.getDay());if(nM(n)){var r=$n(n.before,e),s=$n(n.after,e),i=r>0,o=s<0,a=Jf(n.before,n.after);return a?o&&i:i||o}return sM(n)?$n(e,n.after)>0:iM(n)?$n(n.before,e)>0:typeof n=="function"?n(e):!1})}function Km(e,t,n){var r=Object.keys(t).reduce(function(i,o){var a=t[o];return uM(e,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Wm(e,n)&&(s.outside=!0),s}function dM(e,t){for(var n=Mt(e[0]),r=Um(e[e.length-1]),s,i,o=n;o<=r;){var a=Km(o,t),c=!a.disabled&&!a.hidden;if(!c){o=St(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=St(o,1)}return i||s}var fM=365;function W1(e,t){var n=t.moveBy,r=t.direction,s=t.context,i=t.modifiers,o=t.retry,a=o===void 0?{count:0,lastFocused:e}:o,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,f=s.locale,h={day:St,week:Qf,month:En,year:eA,startOfWeek:function(b){return s.ISOWeek?Rs(b):zn(b,{locale:f,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?T1(b):zm(b,{locale:f,weekStartsOn:c})}},p=h[n](e,r==="after"?1:-1);r==="before"&&u?p=tA([u,p]):r==="after"&&d&&(p=nA([d,p]));var y=!0;if(i){var g=Km(p,i);y=!g.disabled&&!g.hidden}return y?p:a.count>fM?a.lastFocused:W1(p,{moveBy:n,direction:r,context:s,modifiers:i,retry:ce(ce({},a),{count:a.count+1})})}var H1=m.createContext(void 0);function hM(e){var t=Ia(),n=z1(),r=m.useState(),s=r[0],i=r[1],o=m.useState(),a=o[0],c=o[1],u=dM(t.displayMonths,n),d=s??(a&&t.isDateDisplayed(a))?a:u,f=function(){c(s),i(void 0)},h=function(b){i(b)},p=Ae(),y=function(b,w){if(s){var v=W1(s,{moveBy:b,direction:w,context:p,modifiers:n});Ot(s,v)||(t.goToDate(v,s),h(v))}},g={focusedDay:s,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return l.jsx(H1.Provider,{value:g,children:e.children})}function Gm(){var e=m.useContext(H1);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function mM(e,t){var n=z1(),r=Km(e,n,t);return r}var Qm=m.createContext(void 0);function pM(e){if(!xu(e.initialProps)){var t={selected:void 0};return l.jsx(Qm.Provider,{value:t,children:e.children})}return l.jsx(gM,{initialProps:e.initialProps,children:e.children})}function gM(e){var t=e.initialProps,n=e.children,r=function(i,o,a){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,a),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,a);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,a)},s={selected:t.selected,onDayClick:r};return l.jsx(Qm.Provider,{value:s,children:n})}function V1(){var e=m.useContext(Qm);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function vM(e,t){var n=Ae(),r=V1(),s=Vm(),i=Ym(),o=Gm(),a=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,p=o.focusMonthBefore,y=o.focusMonthAfter,g=o.focusYearBefore,b=o.focusYearAfter,w=o.focusStartOfWeek,v=o.focusEndOfWeek,x=function(k){var j,D,L,W;xu(n)?(j=r.onDayClick)===null||j===void 0||j.call(r,e,t,k):Da(n)?(D=s.onDayClick)===null||D===void 0||D.call(s,e,t,k):Aa(n)?(L=i.onDayClick)===null||L===void 0||L.call(i,e,t,k):(W=n.onDayClick)===null||W===void 0||W.call(n,e,t,k)},S=function(k){var j;h(e),(j=n.onDayFocus)===null||j===void 0||j.call(n,e,t,k)},_=function(k){var j;f(),(j=n.onDayBlur)===null||j===void 0||j.call(n,e,t,k)},N=function(k){var j;(j=n.onDayMouseEnter)===null||j===void 0||j.call(n,e,t,k)},E=function(k){var j;(j=n.onDayMouseLeave)===null||j===void 0||j.call(n,e,t,k)},C=function(k){var j;(j=n.onDayPointerEnter)===null||j===void 0||j.call(n,e,t,k)},O=function(k){var j;(j=n.onDayPointerLeave)===null||j===void 0||j.call(n,e,t,k)},R=function(k){var j;(j=n.onDayTouchCancel)===null||j===void 0||j.call(n,e,t,k)},H=function(k){var j;(j=n.onDayTouchEnd)===null||j===void 0||j.call(n,e,t,k)},z=function(k){var j;(j=n.onDayTouchMove)===null||j===void 0||j.call(n,e,t,k)},M=function(k){var j;(j=n.onDayTouchStart)===null||j===void 0||j.call(n,e,t,k)},I=function(k){var j;(j=n.onDayKeyUp)===null||j===void 0||j.call(n,e,t,k)},K=function(k){var j;switch(k.key){case"ArrowLeft":k.preventDefault(),k.stopPropagation(),n.dir==="rtl"?a():c();break;case"ArrowRight":k.preventDefault(),k.stopPropagation(),n.dir==="rtl"?c():a();break;case"ArrowDown":k.preventDefault(),k.stopPropagation(),u();break;case"ArrowUp":k.preventDefault(),k.stopPropagation(),d();break;case"PageUp":k.preventDefault(),k.stopPropagation(),k.shiftKey?g():p();break;case"PageDown":k.preventDefault(),k.stopPropagation(),k.shiftKey?b():y();break;case"Home":k.preventDefault(),k.stopPropagation(),w();break;case"End":k.preventDefault(),k.stopPropagation(),v();break}(j=n.onDayKeyDown)===null||j===void 0||j.call(n,e,t,k)},T={onClick:x,onFocus:S,onBlur:_,onKeyDown:K,onKeyUp:I,onMouseEnter:N,onMouseLeave:E,onPointerEnter:C,onPointerLeave:O,onTouchCancel:R,onTouchEnd:H,onTouchMove:z,onTouchStart:M};return T}function yM(){var e=Ae(),t=V1(),n=Vm(),r=Ym(),s=xu(e)?t.selected:Da(e)?n.selected:Aa(e)?r.selected:void 0;return s}function xM(e){return Object.values(Nn).includes(e)}function wM(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(xM(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function bM(e,t){var n=ce({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=ce(ce({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function SM(e,t,n){var r,s,i,o=Ae(),a=Gm(),c=mM(e,t),u=vM(e,c),d=yM(),f=!!(o.onDayClick||o.mode!=="default");m.useEffect(function(){var N;c.outside||a.focusedDay&&f&&Ot(a.focusedDay,e)&&((N=n.current)===null||N===void 0||N.focus())},[a.focusedDay,e,n,f,c.outside]);var h=wM(o,c).join(" "),p=bM(o,c),y=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:WI,b=l.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),w={style:p,className:h,children:b,role:"gridcell"},v=a.focusTarget&&Ot(a.focusTarget,e)&&!c.outside,x=a.focusedDay&&Ot(a.focusedDay,e),S=ce(ce(ce({},w),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=x||v?0:-1,r)),u),_={isButton:f,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:S,divProps:w};return _}function _M(e){var t=m.useRef(null),n=SM(e.date,e.displayMonth,t);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(bc,ce({name:"day",ref:t},n.buttonProps)):l.jsx("div",ce({},n.divProps))}function jM(e){var t=e.number,n=e.dates,r=Ae(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:a});if(!s)return l.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:a}),h=function(p){s(t,n,p)};return l.jsx(bc,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function EM(e){var t,n,r=Ae(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,c=(t=a==null?void 0:a.Day)!==null&&t!==void 0?t:_M,u=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:jM,d;return o&&(d=l.jsx("td",{className:i.cell,style:s.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:i.row,style:s.row,children:[d,e.dates.map(function(f){return l.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:f})},tI(f))})]})}function Av(e,t,n){for(var r=n!=null&&n.ISOWeek?T1(t):zm(t,n),s=n!=null&&n.ISOWeek?Rs(e):zn(e,n),i=$n(r,s),o=[],a=0;a<=i;a++)o.push(St(s,a));var c=o.reduce(function(u,d){var f=n!=null&&n.ISOWeek?R1(d):D1(d,n),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function NM(e,t){var n=Av(Mt(e),Um(e),t);if(t!=null&&t.useFixedWeeks){var r=rI(e,t);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=Qf(i,6-r),a=Av(Qf(i,1),o,t);n.push.apply(n,a)}}return n}function CM(e){var t,n,r,s=Ae(),i=s.locale,o=s.classNames,a=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,f=s.weekStartsOn,h=s.firstWeekContainsDate,p=s.ISOWeek,y=NM(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:zI,b=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:EM,w=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:FI;return l.jsxs("table",{id:e.id,className:o.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(g,{}),l.jsx("tbody",{className:o.tbody,style:a.tbody,children:y.map(function(v){return l.jsx(b,{displayMonth:e.displayMonth,dates:v.dates,weekNumber:v.weekNumber},v.weekNumber)})}),l.jsx(w,{displayMonth:e.displayMonth})]})}function kM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var TM=kM()?m.useLayoutEffect:m.useEffect,Nd=!1,PM=0;function Iv(){return"react-day-picker-".concat(++PM)}function RM(e){var t,n=e??(Nd?Iv():null),r=m.useState(n),s=r[0],i=r[1];return TM(function(){s===null&&i(Iv())},[]),m.useEffect(function(){Nd===!1&&(Nd=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function OM(e){var t,n,r=Ae(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,c=Ia().displayMonths,u=RM(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,p=e.displayIndex===0,y=e.displayIndex===c.length-1,g=!p&&!y;s==="rtl"&&(t=[p,y],y=t[0],p=t[1]),p&&(f.push(i.caption_start),h=ce(ce({},h),o.caption_start)),y&&(f.push(i.caption_end),h=ce(ce({},h),o.caption_end)),g&&(f.push(i.caption_between),h=ce(ce({},h),o.caption_between));var b=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:$I;return l.jsxs("div",{className:f.join(" "),style:h,children:[l.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(CM,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function DM(e){var t=Ae(),n=t.classNames,r=t.styles;return l.jsx("div",{className:n.months,style:r.months,children:e.children})}function AM(e){var t,n,r=e.initialProps,s=Ae(),i=Gm(),o=Ia(),a=m.useState(!1),c=a[0],u=a[1];m.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var f=ce(ce({},s.styles.root),s.style),h=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,g){var b;return ce(ce({},y),(b={},b[g]=r[g],b))},{}),p=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:DM;return l.jsx("div",ce({className:d.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:l.jsx(p,{children:o.displayMonths.map(function(y,g){return l.jsx(OM,{displayIndex:g,displayMonth:y},g)})})}))}function IM(e){var t=e.children,n=iI(e,["children"]);return l.jsx(jI,{initialProps:n,children:l.jsx(AI,{children:l.jsx(pM,{initialProps:n,children:l.jsx(HI,{initialProps:n,children:l.jsx(YI,{initialProps:n,children:l.jsx(tM,{children:l.jsx(hM,{children:t})})})})})})})}function MM(e){return l.jsx(IM,ce({},e,{children:l.jsx(AM,{initialProps:e})}))}function bs({className:e,classNames:t,showOutsideDays:n=!0,...r}){return l.jsx(MM,{showOutsideDays:n,className:se("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:se(Lf({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:se(Lf({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>l.jsx(NN,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(tm,{className:"h-4 w-4"})},...r})}bs.displayName="Calendar";var Jm="Popover",[q1,HL]=Ms(Jm,[ro]),Ma=ro(),[LM,ts]=q1(Jm),Y1=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,a=Ma(t),c=m.useRef(null),[u,d]=m.useState(!1),[f=!1,h]=ks({prop:r,defaultProp:s,onChange:i});return l.jsx(gw,{...a,children:l.jsx(LM,{scope:t,contentId:rr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:o,children:n})})};Y1.displayName=Jm;var K1="PopoverAnchor",$M=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ts(K1,n),i=Ma(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return m.useEffect(()=>(o(),()=>a()),[o,a]),l.jsx(Kc,{...i,...r,ref:t})});$M.displayName=K1;var G1="PopoverTrigger",Q1=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ts(G1,n),i=Ma(n),o=xe(t,s.triggerRef),a=l.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":tS(s.open),...r,ref:o,onClick:re(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(Kc,{asChild:!0,...i,children:a})});Q1.displayName=G1;var Xm="PopoverPortal",[FM,BM]=q1(Xm,{forceMount:void 0}),J1=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=ts(Xm,t);return l.jsx(FM,{scope:t,forceMount:n,children:l.jsx(Gt,{present:n||i.open,children:l.jsx(Ea,{asChild:!0,container:s,children:r})})})};J1.displayName=Xm;var Gi="PopoverContent",X1=m.forwardRef((e,t)=>{const n=BM(Gi,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=ts(Gi,e.__scopePopover);return l.jsx(Gt,{present:r||i.open,children:i.modal?l.jsx(UM,{...s,ref:t}):l.jsx(zM,{...s,ref:t})})});X1.displayName=Gi;var UM=m.forwardRef((e,t)=>{const n=ts(Gi,e.__scopePopover),r=m.useRef(null),s=xe(t,r),i=m.useRef(!1);return m.useEffect(()=>{const o=r.current;if(o)return wm(o)},[]),l.jsx(lu,{as:Wr,allowPinchZoom:!0,children:l.jsx(Z1,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:re(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),zM=m.forwardRef((e,t)=>{const n=ts(Gi,e.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return l.jsx(Z1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Z1=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=ts(Gi,n),p=Ma(n);return xm(),l.jsx(ou,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Zi,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(dm,{"data-state":tS(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),eS="PopoverClose",WM=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ts(eS,n);return l.jsx(ue.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>s.onOpenChange(!1))})});WM.displayName=eS;var HM="PopoverArrow",VM=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ma(n);return l.jsx(fm,{...s,...r,ref:t})});VM.displayName=HM;function tS(e){return e?"open":"closed"}var qM=Y1,YM=Q1,KM=J1,nS=X1;const _i=qM,ji=YM,Ss=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>l.jsx(KM,{children:l.jsx(nS,{ref:s,align:t,sideOffset:n,className:se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ss.displayName=nS.displayName;const GM=async e=>{try{const{data:t,error:n}=await q.from("classes").insert({name:e.name}).select().single();if(n)throw new Error(`Failed to create class: ${n.message}`);return{id:t.id,className:t.name,rewardTitle:"Bidding Opportunities",capacity:e.capacity||7,students:[],bidders:[],selectedStudents:[],bidOpportunities:[]}}catch(t){throw console.error("Error creating class:",t),t}},QM=async e=>{var n,r,s,i,o;const t=new Date().toISOString();try{const{data:a,error:c}=await q.rpc("delete_class_atomic",{p_class_id:e,p_class_name:""});if(c)throw new Error(`Failed to delete class: ${c.message}`);if(!a||!a.success)throw new Error((a==null?void 0:a.error)||"Class deletion failed");const u={students:((n=a.deleted_counts)==null?void 0:n.students)||0,enrollments:((r=a.deleted_counts)==null?void 0:r.students)||0,opportunities:((s=a.deleted_counts)==null?void 0:s.opportunities)||0,bids:((i=a.deleted_counts)==null?void 0:i.bids)||0,tokenHistory:((o=a.deleted_counts)==null?void 0:o.token_history)||0};return{success:!0,classId:a.class_id,className:a.class_name,deletedRecords:u,timestamp:t}}catch(a){return console.error("Class deletion failed:",a),{success:!1,classId:e,className:"Unknown",deletedRecords:{students:0,enrollments:0,opportunities:0,bids:0,tokenHistory:0},error:a instanceof Error?a.message:"Unexpected error during deletion",timestamp:t}}},JM=async(e,t,n,r)=>{try{const{data:s,error:i}=await q.rpc("update_selection_results_atomic",{p_opportunity_id:e,p_selected_user_ids:n,p_all_bidder_ids:r});if(i)throw new Error(`Failed to update selection results: ${i.message}`)}catch(s){throw console.error("Error updating selection results:",s),s}},XM=async(e,t)=>{try{const{data:n,error:r}=await q.from("opportunities").insert({class_id:e,title:t.title,description:t.description,opens_at:t.opens_at,closes_at:t.bidding_closes_at||t.closes_at,event_date:new Date(t.event_date).toISOString().split("T")[0],capacity:t.capacity,status:"open"}).select().single();if(r)throw new Error(`Failed to create opportunity: ${r.message}`);return{id:n.id,date:n.event_date,bidOpenDate:n.opens_at,bidCloseDate:n.closes_at,title:n.title||t.title,description:n.description,bidders:[],selectedStudents:[],isOpen:!1,capacity:n.capacity}}catch(n){throw console.error("Error creating opportunity:",n),n}},ZM=async e=>{try{const{data:t,error:n}=await q.rpc("auto_select_and_refund_bids",{p_opportunity_id:e});if(n)throw new Error(`Failed to auto-select and refund: ${n.message}`);if(!t||!t.success)throw new Error((t==null?void 0:t.error)||"Auto-select and refund failed")}catch(t){throw console.error("Error in auto-select and refund:",t),t}},Xn=async e=>{try{let t=q.from("classes").select("id, name, is_archived, created_at").order("created_at",{ascending:!1});e!==void 0&&(t=t.eq("is_archived",e));const{data:n,error:r}=await t;if(r)throw new Error(`Failed to fetch classes: ${r.message}`);if(!n||n.length===0)return[];const s=[];for(const i of n){const o=await f1(i.id),{data:a,error:c}=await q.from("opportunities").select("*").eq("class_id",i.id).order("event_date",{ascending:!0});c&&console.error(`Failed to fetch opportunities for class ${i.id}:`,c.message);let u=[];for(const y of a||[]){const{data:g,error:b}=await q.from("bids").select(`
            id,
            user_id,
            is_winner,
            bid_status,
            submission_timestamp,
            users!inner(id, name, email, student_number)
          `).eq("opportunity_id",y.id).order("submission_timestamp",{ascending:!0});b&&console.error(`Failed to fetch bids for opportunity ${y.id}:`,b.message);const w=(g||[]).map(x=>({id:x.users.id,name:x.users.name,email:x.users.email,studentNumber:x.users.student_number,hasUsedToken:!0,hasBid:!0,bidStatus:x.bid_status})),v=(g||[]).filter(x=>x.is_winner===!0).map(x=>({id:x.users.id,name:x.users.name,email:x.users.email,studentNumber:x.users.student_number,hasUsedToken:!0,hasBid:!0,isSelected:!0,bidStatus:x.bid_status}));u.push({id:y.id,date:y.event_date,bidOpenDate:y.opens_at,title:y.title||`Bidding Opportunity - ${new Date(y.event_date).toLocaleDateString()}`,description:y.description,bidders:w,bidCloseDate:y.closes_at,selectedStudents:v,isOpen:y.status==="open",capacity:y.capacity})}const d=o.filter(y=>y.hasBid),f=[],h=new Set;u.forEach(y=>{y.selectedStudents.forEach(g=>{h.has(g.id)||(h.add(g.id),f.push(g))})});const p={id:i.id,className:i.name,rewardTitle:"Bidding Opportunities",capacity:7,isArchived:i.is_archived||!1,students:o,bidders:d,selectedStudents:f,bidOpportunities:u};s.push(p)}return s}catch(t){throw console.error("Error fetching classes:",t),t}},e4=async(e,t)=>{try{const n={};t.name&&(n.name=t.name);const{error:r}=await q.from("classes").update(n).eq("id",e);if(r)throw new Error(`Failed to update class: ${r.message}`)}catch(n){throw console.error("Error updating class:",n),n}},t4=async(e,t)=>{try{const{error:n}=await q.from("classes").update({is_archived:t}).eq("id",e);if(n)throw new Error(`Failed to update class archive status: ${n.message}`)}catch(n){throw console.error("Error updating class archive status:",n),n}},n4=async(e,t)=>{try{const n={};if(t.title!==void 0&&(n.title=t.title),t.description!==void 0&&(n.description=t.description),t.event_date){const i=new Date(t.event_date);if(isNaN(i.getTime()))throw new Error("Invalid event date provided");n.event_date=i.toISOString().split("T")[0]}t.opens_at&&(n.opens_at=t.opens_at),t.closes_at&&(n.closes_at=t.closes_at),t.capacity!==void 0&&(n.capacity=t.capacity);const{data:r,error:s}=await q.from("opportunities").update(n).eq("id",e).select();if(s)throw new Error(`Failed to update opportunity: ${s.message}`);return!!(r&&r.length>0)}catch(n){throw console.error("Error updating opportunity:",n),n}},r4=async e=>{try{if(!e)throw new Error("Opportunity ID is required");const{data:t,error:n}=await q.rpc("reset_opportunity_selection",{p_opportunity_id:e});if(n)throw new Error(`Failed to reset selection: ${n.message}`);if(!t||!t.success)throw new Error((t==null?void 0:t.error)||"Selection reset failed")}catch(t){throw console.error("Error resetting opportunity selection:",t),t}},s4=async e=>{try{const{data:t,error:n}=await q.from("opportunities").select("id, title, description").eq("id",e).single();if(n){if(n.code==="PGRST116")return;throw new Error(`Failed to check opportunity existence: ${n.message}`)}if(!t)return;const{error:r}=await q.from("opportunities").delete().eq("id",e);if(r)throw new Error(`Failed to delete opportunity: ${r.message}`)}catch(t){throw console.error("Error deleting opportunity:",t),t}},i4=({isOpen:e,onClose:t,opportunity:n,currentClass:r,onSave:s})=>{const[i,o]=m.useState((n==null?void 0:n.title)||""),[a,c]=m.useState((n==null?void 0:n.description)||""),[u,d]=m.useState(n?new Date(n.date):void 0),[f,h]=m.useState(n&&n.bidOpenDate?new Date(n.bidOpenDate):void 0),[p,y]=m.useState(n&&n.bidCloseDate?new Date(n.bidCloseDate):n?new Date(n.date):void 0),[g,b]=m.useState((n==null?void 0:n.capacity)||(r==null?void 0:r.capacity)),[w,v]=m.useState(!1),{toast:x}=vt(),S=E=>{const C=parseInt(E.target.value,10);!isNaN(C)&&C>=0?b(C):E.target.value===""&&b(0)},_=E=>{[8,9,27,13,35,36,37,38,39,40,46].indexOf(E.keyCode)!==-1||E.keyCode===65&&E.ctrlKey===!0||E.keyCode===67&&E.ctrlKey===!0||E.keyCode===86&&E.ctrlKey===!0||E.keyCode===88&&E.ctrlKey===!0||(E.shiftKey||E.keyCode<48||E.keyCode>57)&&(E.keyCode<96||E.keyCode>105)&&E.preventDefault()},N=async()=>{if(console.log("=== SAVE BUTTON CLICKED ==="),console.log("Current form state:",{title:i,description:a,date:u==null?void 0:u.toISOString(),biddingOpenDate:f==null?void 0:f.toISOString(),biddingCloseDate:p==null?void 0:p.toISOString(),capacity:g}),!n||!u||!f||!p||!r||g===void 0){console.log("=== VALIDATION FAILED ==="),console.log("Missing fields:",{opportunity:!!n,date:!!u,biddingOpenDate:!!f,biddingCloseDate:!!p,currentClass:!!r,capacity:g!==void 0}),x({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}console.log("=== VALIDATION PASSED ==="),v(!0);try{if(console.log("=== PREPARING DATA FOR SUPABASE ==="),console.log("Opportunity ID:",n.id),console.log("Data being prepared:",{opportunityId:n.id,title:i,description:a,event_date:u.toISOString(),opens_at:f.toISOString(),closes_at:p.toISOString(),capacity:g}),console.log("=== CALLING updateBidOpportunity FUNCTION ==="),!await n4(n.id,{title:i,description:a,event_date:u.toISOString(),opens_at:f.toISOString(),closes_at:p.toISOString(),capacity:g})){x({title:"Opportunity not found",description:"This opportunity may have been deleted. Please refresh the page.",variant:"destructive"}),t();return}console.log("=== DATABASE UPDATE COMPLETED ===");const C={...n,title:i,description:a,date:u.toISOString(),bidOpenDate:f.toISOString(),bidCloseDate:p.toISOString(),capacity:g};console.log("=== CALLING onSave CALLBACK ==="),s(C),x({title:"Changes saved successfully",description:"The bidding opportunity has been updated."}),console.log("=== CLOSING DIALOG ==="),t()}catch(E){console.error("Error saving changes:",E),x({title:"Failed to save changes",description:E instanceof Error?E.message:"An unexpected error occurred",variant:"destructive"})}finally{v(!1)}};return l.jsx(Ls,{open:e,onOpenChange:t,children:l.jsxs(Jr,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(Xr,{children:[l.jsx($s,{children:"Edit Bidding Opportunity"}),l.jsx(Zr,{children:"Modify the details for this bidding opportunity"})]}),l.jsx("div",{className:"space-y-6 py-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Opportunity Details"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"title",children:"Title"}),l.jsx(it,{id:"title",value:i,onChange:E=>o(E.target.value),disabled:w})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"description",children:"Description"}),l.jsx($m,{id:"description",value:a,onChange:E=>c(E.target.value),rows:3,disabled:w})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{children:"Event Date"}),l.jsxs(_i,{children:[l.jsx(ji,{asChild:!0,children:l.jsx(oe,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:w,children:u?Ht(u,"PPP"):l.jsx("span",{children:"Pick a date"})})}),l.jsx(Ss,{className:"w-auto p-0",children:l.jsx(bs,{mode:"single",selected:u,onSelect:d,initialFocus:!0})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{children:"Bidding Opens Date"}),l.jsxs(_i,{children:[l.jsx(ji,{asChild:!0,children:l.jsx(oe,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:w,children:f?Ht(f,"PPP"):l.jsx("span",{children:"Pick a date"})})}),l.jsx(Ss,{className:"w-auto p-0",children:l.jsx(bs,{mode:"single",selected:f,onSelect:h,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This is the date when students can start bidding for this opportunity"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{children:"Bidding Closes Date"}),l.jsxs(_i,{children:[l.jsx(ji,{asChild:!0,children:l.jsx(oe,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:w,children:p?Ht(p,"PPP"):l.jsx("span",{children:"Pick a date"})})}),l.jsx(Ss,{className:"w-auto p-0",children:l.jsx(bs,{mode:"single",selected:p,onSelect:y,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Students cannot bid after this date and time"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"capacity",children:"Capacity for this Opportunity"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(it,{id:"capacity",type:"number",value:g,onChange:S,onKeyDown:_,disabled:w,required:!0}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"students"})]})]})]})}),l.jsxs(oo,{children:[l.jsx(oe,{variant:"outline",onClick:t,disabled:w,children:"Cancel"}),l.jsx(oe,{onClick:N,disabled:w,children:w?l.jsxs(l.Fragment,{children:[l.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})};async function Sc(e){try{const{data:t,error:n}=await q.from("student_enrollments").select("user_id, tokens_remaining").eq("class_id",e);if(n)throw n;const r=(t==null?void 0:t.length)||0,s=(t==null?void 0:t.filter(f=>f.tokens_remaining>0).length)||0,{data:i,error:o}=await q.from("opportunities").select("id, description, event_date, capacity").eq("class_id",e);if(o)throw o;const a=(i==null?void 0:i.map(f=>f.id))||[];let c=0,u=0;const d=[];if(a.length>0){const{data:f,error:h}=await q.from("bids").select("id, opportunity_id, user_id, bid_status").in("opportunity_id",a);if(h)throw h;c=(f==null?void 0:f.length)||0,u=(f==null?void 0:f.filter(y=>y.bid_status==="auto_selected").length)||0;const p={};f==null||f.forEach(y=>{p[y.opportunity_id]=(p[y.opportunity_id]||0)+1}),i==null||i.forEach(y=>{d.push({opportunityId:y.id,description:y.description,eventDate:y.event_date,capacity:y.capacity||7,bidCount:p[y.id]||0})})}else i==null||i.forEach(f=>{d.push({opportunityId:f.id,description:f.description,eventDate:f.event_date,capacity:f.capacity||7,bidCount:0})});return{totalStudents:r,studentsWithTokens:s,tokensRefunded:u,totalBids:c,opportunities:d}}catch(t){return console.error("Error getting class bid statistics:",t),{totalStudents:0,studentsWithTokens:0,tokensRefunded:0,totalBids:0,opportunities:[]}}}function o4(e,t){const n=q.channel(`class-bids-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"bids"},async()=>{const r=await Sc(e);t(r)}).on("postgres_changes",{event:"*",schema:"public",table:"student_enrollments",filter:`class_id=eq.${e}`},async()=>{const r=await Sc(e);t(r)}).subscribe();return()=>{q.removeChannel(n)}}const a4=e=>{const[t,n]=m.useState({totalStudents:0,studentsWithTokens:0,studentsWhoBid:0,totalBids:0,opportunities:[]}),[r,s]=m.useState(!0),[i,o]=m.useState(null),a=m.useCallback(async()=>{if(e)try{s(!0),o(null),console.log("=== FETCHING BID STATISTICS ==="),console.log("Class ID:",e);const u=await Sc(e);console.log("Fetched statistics:",u),n(u)}catch(u){console.error("Error fetching bid statistics:",u),o(u instanceof Error?u.message:"Failed to fetch statistics")}finally{s(!1)}},[e]);m.useEffect(()=>{if(!e)return;console.log("=== SETTING UP REAL-TIME SUBSCRIPTION ==="),console.log("Class ID:",e),a();const u=o4(e,f=>{console.log("=== REAL-TIME STATISTICS UPDATE RECEIVED ==="),console.log("Updated statistics:",f),console.log("Previous statistics:",t),n(f)}),d=q.channel(`class-enrollments-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"student_enrollments",filter:`class_id=eq.${e}`},async f=>{if(console.log("=== STUDENT ENROLLMENT UPDATE RECEIVED ==="),console.log("Payload:",f),f.new&&f.old&&f.new.bidding_result!==f.old.bidding_result){console.log("Bidding result changed, refreshing statistics");const h=await Sc(e);n(h)}}).subscribe();return console.log("Real-time subscription established for class:",e),()=>{u(),q.removeChannel(d)}},[e,a]);const c=m.useCallback(()=>{console.log("=== MANUAL REFRESH TRIGGERED ==="),a()},[a]);return{statistics:t,isLoading:r,error:i,refresh:c}},l4=({classes:e,archivedClasses:t,currentClass:n,isViewingArchived:r=!1,onSelectClass:s,onCreateClass:i,onUpdateOpportunity:o,onRemoveClass:a,onChangePassword:c,onArchiveClass:u,onOpportunityCreated:d,onOpportunityDeleted:f})=>{var ye;const{toast:h}=vt(),[p,y]=m.useState(null),[g,b]=m.useState(null),[w,v]=m.useState(!1),[x,S]=m.useState(null),[_,N]=m.useState(Date.now()),[E,C]=m.useState({}),[O,R]=m.useState(!1),[H,z]=m.useState(""),[M,I]=m.useState(""),[K,T]=m.useState(void 0),[k,j]=m.useState(void 0),[D,L]=m.useState(void 0),[W,X]=m.useState(""),{statistics:G,isLoading:P,refresh:ee}=a4((n==null?void 0:n.id)||null),Z=async U=>{try{const{data:ie,error:ve}=await q.from("bids").select("id, user_id, submission_timestamp").eq("opportunity_id",U).order("submission_timestamp",{ascending:!0});if(ve)return console.error(`Error fetching bidders for opportunity ${U}:`,ve),[];if(!ie||ie.length===0)return[];const Ne=[...new Set(ie.map(kn=>kn.user_id))],{data:Ke,error:$a}=await q.from("users").select("id, name, email, student_number").in("id",Ne);if($a)return console.error(`Error fetching user details for opportunity ${U}:`,$a),[];const ss=new Map;return(Ke||[]).forEach(kn=>{ss.set(kn.id,kn)}),ie.map(kn=>{const yt=ss.get(kn.user_id);return{id:(yt==null?void 0:yt.id)||kn.user_id,name:(yt==null?void 0:yt.name)||"Unknown User",email:(yt==null?void 0:yt.email)||"",studentNumber:(yt==null?void 0:yt.student_number)||"",bidTimestamp:kn.submission_timestamp}})}catch(ie){return console.error("Error fetching opportunity bidders:",ie),[]}};m.useEffect(()=>{(async()=>{if(p&&(n!=null&&n.bidOpportunities)){const ie=await Z(p);C(ve=>({...ve,[p]:ie}))}})()},[p,n==null?void 0:n.bidOpportunities,_]),m.useEffect(()=>{n!=null&&n.id&&(console.log("=== DASHBOARD STATISTICS UPDATE ==="),console.log("Class ID:",n.id),console.log("Statistics:",G),console.log("Is Loading:",P),N(Date.now()))},[G,P,n==null?void 0:n.id]),m.useEffect(()=>{const U=()=>{console.log("=== BID SUBMITTED EVENT RECEIVED IN DASHBOARD ==="),ee()};return window.addEventListener("bidSubmitted",U),()=>{window.removeEventListener("bidSubmitted",U)}},[ee]),(ye=n==null?void 0:n.bidOpportunities)==null||ye.find(U=>U.id===p);const A=p?E[p]||[]:[],F=()=>{z(""),I(""),T(void 0),j(void 0),L(void 0),X("")},V=U=>{const ie=U.target.value;if(ie===""){X("");return}const ve=parseInt(ie,10);!isNaN(ve)&&ve>=0&&X(ie)},$=U=>{[8,9,27,13,37,38,39,40,46].indexOf(U.keyCode)!==-1||U.keyCode===65&&U.ctrlKey===!0||U.keyCode===67&&U.ctrlKey===!0||U.keyCode===86&&U.ctrlKey===!0||U.keyCode===88&&U.ctrlKey===!0||(U.shiftKey||U.keyCode<48||U.keyCode>57)&&(U.keyCode<96||U.keyCode>105)&&U.preventDefault()},Q=async()=>{const U=parseInt(W,10);if(!n||!H||!M||!K||!k||!D||isNaN(U)||U<0){h({title:"Missing information",description:"Please fill in all required fields with valid values",variant:"destructive"});return}R(!0);try{const ie=await XM(n.id,{title:H,description:M,event_date:K.toISOString(),opens_at:k.toISOString(),closes_at:D.toISOString(),capacity:U});d==null||d(ie),h({title:"Opportunity created",description:"The bidding opportunity has been created successfully"}),F(),v(!1),ee()}catch(ie){console.error("Error creating opportunity:",ie),h({title:"Failed to create opportunity",description:ie instanceof Error?ie.message:"An unexpected error occurred",variant:"destructive"})}finally{R(!1)}},te=async U=>{var Ne;const ie=(Ne=n==null?void 0:n.bidOpportunities)==null?void 0:Ne.find(Ke=>Ke.id===U),ve=(ie==null?void 0:ie.title)||"this opportunity";console.log("=== DASHBOARD DELETE HANDLER STARTED ==="),console.log("Opportunity ID:",U),console.log("Opportunity title:",ve),console.log("Current class ID:",n==null?void 0:n.id),S(U);try{console.log("=== CALLING deleteBidOpportunity FUNCTION ==="),await s4(U),console.log("=== deleteBidOpportunity COMPLETED SUCCESSFULLY ==="),f==null||f(U),console.log("=== LOCAL STATE UPDATED ==="),h({title:"Opportunity deleted",description:`"${ve}" has been permanently deleted`}),ee(),console.log("=== STATISTICS REFRESHED ===")}catch(Ke){console.error("=== DASHBOARD DELETE ERROR ==="),console.error("Error type:",typeof Ke),console.error("Error message:",Ke instanceof Error?Ke.message:Ke),console.error("Full error object:",Ke),console.error("Stack trace:",Ke instanceof Error?Ke.stack:"No stack trace"),h({title:"Failed to delete opportunity",description:Ke instanceof Error?Ke.message:"An unexpected error occurred",variant:"destructive"})}finally{S(null),console.log("=== DASHBOARD DELETE HANDLER COMPLETED ===")}},we=U=>{b(U)},le=U=>{n&&(o(U.id,U),ee(),h({title:"Changes saved",description:"The bidding opportunity has been updated"}))},Je=U=>{if(console.log("=== GETTING OPPORTUNITY BID COUNT ==="),console.log("Opportunity ID:",U),console.log("Current statistics:",G),!G||!G.opportunities)return console.log("No statistics or opportunities available"),0;const ie=G.opportunities.find(ve=>ve.opportunityId===U);return console.log("Found opportunity stats for",U,":",ie),console.log("Bid count:",(ie==null?void 0:ie.bidCount)||0),(ie==null?void 0:ie.bidCount)||0};return n?l.jsxs("div",{className:"container mx-auto p-4 md:p-6 space-y-8",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-heading font-bold",children:"Class Management"}),l.jsxs("p",{className:"text-muted-foreground text-lg",children:[r?"Viewing (Read-only)":"Managing",": ",n.className,r&&l.jsx(ae,{variant:"secondary",className:"ml-2 text-xs",children:"Archived"})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs(oe,{variant:"outline",onClick:ee,disabled:P||r,className:"flex items-center gap-2",children:[l.jsx(Wc,{className:`w-4 h-4 ${P?"animate-spin":""}`}),"Refresh Data"]}),!r&&l.jsxs(l.Fragment,{children:[l.jsxs(oe,{variant:"secondary",onClick:()=>u==null?void 0:u(n.id,!0),className:"flex items-center gap-2",children:[l.jsx(Sg,{className:"w-4 h-4"}),"Archive Class"]}),l.jsxs(oe,{variant:"destructive",onClick:()=>a==null?void 0:a(n.id),className:"flex items-center gap-2",children:[l.jsx(la,{size:16})," Remove Class"]})]}),r&&l.jsxs(oe,{variant:"outline",onClick:()=>u==null?void 0:u(n.id,!1),className:"flex items-center gap-2",children:[l.jsx(Sg,{className:"w-4 h-4"}),"Unarchive Class"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsxs(Ee,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Total Students"}),l.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold",children:P?l.jsx(Ye,{className:"w-6 h-6 animate-spin"}):(G==null?void 0:G.totalStudents)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Enrolled in class"})]})]}),l.jsxs(Ee,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Tokens Available"}),l.jsx(Ui,{className:"h-4 w-4 text-green-500"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:P?l.jsx(Ye,{className:"w-6 h-6 animate-spin"}):(G==null?void 0:G.studentsWithTokens)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to bid"})]})]}),l.jsxs(Ee,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Tokens Used"}),l.jsx(Ui,{className:"h-4 w-4 text-red-500"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:P?l.jsx(Ye,{className:"w-6 h-6 animate-spin"}):G?G.totalStudents-G.studentsWithTokens:0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Tokens in use"})]})]}),l.jsxs(Ee,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Tokens Refunded"}),l.jsx(ON,{className:"h-4 w-4 text-orange-500"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold text-orange-600",children:P?l.jsx(Ye,{className:"w-6 h-6 animate-spin"}):(G==null?void 0:G.tokensRefunded)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total refund events"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-heading font-bold",children:"Bidding Opportunities"}),l.jsxs("p",{className:"text-muted-foreground",children:["Manage bidding opportunities for Class: ",n.className]})]}),l.jsxs(oe,{onClick:()=>v(!0),className:"flex items-center gap-2",disabled:r,children:[l.jsx(ac,{className:"w-4 h-4"}),"Add Opportunity"]})]}),n.bidOpportunities&&n.bidOpportunities.length>0?l.jsx("div",{className:"space-y-4",children:l.jsx(Ee,{children:l.jsx(Ce,{className:"p-0",children:l.jsxs(Im,{children:[l.jsx(Mm,{children:l.jsxs(Si,{children:[l.jsx(_t,{children:"Title"}),l.jsx(_t,{children:"Capacity"}),l.jsx(_t,{children:"Event Date"}),l.jsx(_t,{children:"Status"}),l.jsx(_t,{children:"Current Bids"}),l.jsx(_t,{children:"Selected"}),l.jsx(_t,{children:"Actions"})]})}),l.jsx(Lm,{children:n.bidOpportunities.map(U=>{var ve;const ie=Je(U.id);return l.jsxs(l.Fragment,{children:[l.jsxs(Si,{className:p===U.id?"bg-academy-lightBlue/10":"",children:[l.jsx(mt,{className:"font-medium",children:U.title}),l.jsx(mt,{children:l.jsxs(ae,{variant:"outline",children:[U.capacity||n.capacity," students"]})}),l.jsx(mt,{children:xn(U.date)}),l.jsx(mt,{children:l.jsx(ae,{variant:tr(U)==="Open for Bidding"?"default":"secondary",children:tr(U)})}),l.jsx(mt,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ae,{variant:"default",className:"bg-blue-500",children:P?l.jsx(Ye,{className:"w-3 h-3 animate-spin"}):l.jsx("span",{children:ie},`count-${U.id}-${ie}-${_}`)},`bid-count-${U.id}-${_}`),ie>(U.capacity||n.capacity)&&l.jsx(ae,{variant:"destructive",className:"text-xs",children:"Over capacity"})]})}),l.jsx(mt,{children:((ve=U.selectedStudents)==null?void 0:ve.length)||0}),l.jsx(mt,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>y(p===U.id?null:U.id),className:"flex items-center gap-1",children:p===U.id?l.jsxs(l.Fragment,{children:[l.jsx(TN,{className:"w-4 h-4"}),"Hide Details"]}):l.jsxs(l.Fragment,{children:[l.jsx(PN,{className:"w-4 h-4"}),"View Details"]})}),l.jsx(oe,{variant:"outline",size:"sm",onClick:Ne=>{Ne.stopPropagation(),we(U)},disabled:r,children:l.jsx(DN,{className:"w-4 h-4"})}),l.jsx(oe,{variant:"destructive",size:"sm",onClick:()=>{window.confirm(`Are you sure you want to delete "${U.title}"? This action cannot be undone and will remove all associated bids.`)&&te(U.id)},disabled:x===U.id||r,children:x===U.id?l.jsx(Ye,{className:"w-4 h-4 animate-spin"}):l.jsx(la,{className:"w-4 h-4"})})]})})]},U.id),p===U.id&&l.jsx(Si,{children:l.jsx(mt,{colSpan:8,className:"p-0",children:l.jsxs("div",{className:"bg-blue-50/50 border-l-4 border-l-academy-blue p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-academy-blue",children:["Details of ",U.title]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx(je,{className:"text-sm font-medium text-gray-600",children:"Description"}),l.jsx("div",{className:"mt-2 p-3 bg-white rounded-md border",children:l.jsx("p",{className:"text-gray-800",children:U.description})}),l.jsxs("div",{className:"mt-4",children:[l.jsx(je,{className:"text-sm font-medium text-gray-600",children:"Bidding Opens"}),l.jsx("div",{className:"mt-2 p-3 bg-white rounded-md border",children:l.jsx("p",{className:"text-gray-800",children:U.bidOpenDate?xn(U.bidOpenDate):"1 week before event"})})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx(je,{className:"text-sm font-medium text-gray-600",children:"Bidding Closes"}),l.jsx("div",{className:"mt-2 p-3 bg-white rounded-md border",children:l.jsx("p",{className:"text-gray-800",children:U.bidCloseDate?xn(U.bidCloseDate):xn(U.date)})})]})]}),l.jsxs("div",{children:[l.jsx(je,{className:"text-sm font-medium text-gray-600",children:"Live Statistics"}),l.jsxs("div",{className:"mt-2 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Current Bids:"}),l.jsx("span",{className:"font-medium text-blue-600",children:P?l.jsx(Ye,{className:"w-4 h-4 animate-spin"}):ie},`detail-bid-count-${U.id}-${_}`)]}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Capacity:"}),l.jsxs("span",{className:"font-medium text-purple-600",children:[U.capacity||n.capacity," students"]})]})]})]})]}),l.jsxs("div",{className:"mt-4",children:[A.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsxs(je,{className:"text-sm font-medium text-gray-600 mb-3 block",children:["Student Bidders (",A.length,")"]}),l.jsxs("div",{className:"p-4 bg-white rounded-md border",children:[l.jsx("div",{className:"space-y-3",children:A.map((Ne,Ke)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm font-medium text-blue-600",children:Ke+1}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:Ne.name}),l.jsx("div",{className:"text-sm text-gray-500",children:Ne.email}),Ne.studentNumber&&l.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",Ne.studentNumber]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-700",children:["Submitted: ",new Date(Ne.bidTimestamp).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date(Ne.bidTimestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]},Ne.id))}),l.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:"Bidding Summary:"}),l.jsx("div",{className:"mt-1 text-gray-700",children:A.map((Ne,Ke)=>l.jsxs("span",{children:[Ne.name," (submitted: ",new Date(Ne.bidTimestamp).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})," ",new Date(Ne.bidTimestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),")",Ke<A.length-1?", ":""]},Ne.id))})]})})]})]}),A.length===0&&ie===0&&l.jsxs("div",{className:"mt-6",children:[l.jsx(je,{className:"text-sm font-medium text-gray-600 mb-3 block",children:"Student Bidders"}),l.jsx("div",{className:"p-4 bg-white rounded-md border text-center",children:l.jsx("div",{className:"text-gray-500 text-sm",children:"No students have placed bids for this opportunity yet."})})]})]})]})})})]})})})]})})})}):l.jsx(Ee,{children:l.jsxs(Ce,{className:"p-8 text-center",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Bidding Opportunities"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first bidding opportunity to get started."}),l.jsxs(oe,{onClick:()=>v(!0),children:[l.jsx(ac,{className:"w-4 h-4 mr-2"}),"Create First Opportunity"]})]})})]}),l.jsx(Ls,{open:w,onOpenChange:v,children:l.jsxs(Jr,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(Xr,{children:[l.jsx($s,{children:"Create New Bidding Opportunity"}),l.jsx(Zr,{children:"Add a new bidding opportunity for students to participate in"})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"title",children:"Title"}),l.jsx(it,{id:"title",value:H,onChange:U=>z(U.target.value),placeholder:"e.g., Dinner with Professor - Week 1",disabled:O})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"description",children:"Description"}),l.jsx($m,{id:"description",value:M,onChange:U=>I(U.target.value),placeholder:"Describe the opportunity in detail",rows:3,disabled:O})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{children:"Event Date"}),l.jsxs(_i,{children:[l.jsx(ji,{asChild:!0,children:l.jsx(oe,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:O,children:K?Ht(K,"PPP"):l.jsx("span",{children:"Pick the event date"})})}),l.jsx(Ss,{className:"w-auto p-0",children:l.jsx(bs,{mode:"single",selected:K,onSelect:T,initialFocus:!0})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{children:"Bidding Opens Date"}),l.jsxs(_i,{children:[l.jsx(ji,{asChild:!0,children:l.jsx(oe,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:O,children:k?Ht(k,"PPP"):l.jsx("span",{children:"Pick when bidding opens"})})}),l.jsx(Ss,{className:"w-auto p-0",children:l.jsx(bs,{mode:"single",selected:k,onSelect:j,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This is when students can start bidding for this opportunity"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{children:"Bidding Closes Date"}),l.jsxs(_i,{children:[l.jsx(ji,{asChild:!0,children:l.jsx(oe,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:O,children:D?Ht(D,"PPP"):l.jsx("span",{children:"Pick when bidding closes"})})}),l.jsx(Ss,{className:"w-auto p-0",children:l.jsx(bs,{mode:"single",selected:D,onSelect:L,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This is when bidding closes for this opportunity"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"capacity",children:"Capacity"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(it,{id:"capacity",type:"text",value:W,onChange:V,onKeyDown:$,placeholder:"0",disabled:O,required:!0}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"students"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Any positive number of students for this opportunity"})]})]}),l.jsxs(oo,{children:[l.jsx(oe,{variant:"outline",onClick:()=>v(!1),disabled:O,children:"Cancel"}),l.jsx(oe,{onClick:Q,disabled:O,children:O?l.jsxs(l.Fragment,{children:[l.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Opportunity"})]})]})}),g&&l.jsx(i4,{isOpen:!!g,onClose:()=>b(null),opportunity:g,currentClass:n,onSave:le})]}):l.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold",children:"Admin Dashboard"}),l.jsx(oe,{onClick:i,children:"Create New Class"})]}),l.jsx(Ee,{className:"mb-6",children:l.jsxs(Ce,{className:"p-6 flex flex-col items-center justify-center",children:[l.jsx("p",{className:"text-lg mb-4",children:"No class selected."}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Select a class from the sidebar to view its details and manage it."}),e.length===0&&l.jsx(oe,{onClick:i,children:"Create Your First Class"})]})})]})},c4=Ca("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),rn=m.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:se(c4({variant:t}),e),...n}));rn.displayName="Alert";const u4=m.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:se("mb-1 font-medium leading-none tracking-tight",e),...t}));u4.displayName="AlertTitle";const sn=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:se("text-sm [&_p]:leading-relaxed",e),...t}));sn.displayName="AlertDescription";function d4(e,t=[]){let n=[];function r(i,o){const a=m.createContext(o),c=n.length;n=[...n,o];function u(f){const{scope:h,children:p,...y}=f,g=(h==null?void 0:h[e][c])||a,b=m.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:b,children:p})}function d(f,h){const p=(h==null?void 0:h[e][c])||a,y=m.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,f4(s,...t)]}function f4(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Zm="Progress",ep=100,[h4,VL]=d4(Zm),[m4,p4]=h4(Zm),rS=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=g4,...o}=e;(s||s===0)&&!Mv(s)&&console.error(v4(`${s}`,"Progress"));const a=Mv(s)?s:ep;r!==null&&!Lv(r,a)&&console.error(y4(`${r}`,"Progress"));const c=Lv(r,a)?r:null,u=_c(c)?i(c,a):void 0;return l.jsx(m4,{scope:n,value:c,max:a,children:l.jsx(ue.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":_c(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":oS(c,a),"data-value":c??void 0,"data-max":a,...o,ref:t})})});rS.displayName=Zm;var sS="ProgressIndicator",iS=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=p4(sS,n);return l.jsx(ue.div,{"data-state":oS(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});iS.displayName=sS;function g4(e,t){return`${Math.round(e/t*100)}%`}function oS(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function _c(e){return typeof e=="number"}function Mv(e){return _c(e)&&!isNaN(e)&&e>0}function Lv(e,t){return _c(e)&&!isNaN(e)&&e<=t&&e>=0}function v4(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ep}\`.`}function y4(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ep} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var aS=rS,x4=iS;const lS=m.forwardRef(({className:e,value:t,...n},r)=>l.jsx(aS,{ref:r,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(x4,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));lS.displayName=aS.displayName;const w4=e=>e.name.toLowerCase().endsWith(".csv")?e.size>5*1024*1024?"File size must be less than 5MB":null:"File must be a CSV file (.csv extension)",b4=e=>{var u,d,f;const t=[],n=e.trim().split(`
`);if(n.length<2)return t.push("CSV file must contain at least a header row and one data row"),{data:[],errors:t};const r=n[0].split(",").map(h=>h.trim().toLowerCase()),s=r.findIndex(h=>h==="name"||h==="student name"),i=r.findIndex(h=>h==="email"||h==="email address"),o=r.findIndex(h=>h==="student number"||h==="student_number"||h==="id"||h==="student id"),a=[];if(s===-1&&a.push("Name"),i===-1&&a.push("Email"),o===-1&&a.push("Student Number"),a.length>0)return t.push(`Missing required columns: ${a.join(", ")}. All three fields (Name, Email, Student Number) are required for login.`),{data:[],errors:t};const c=[];for(let h=1;h<n.length;h++){const p=n[h].trim();if(!p)continue;const y=p.split(",").map(x=>x.trim());if(y.length<=Math.max(s,i,o)){t.push(`Row ${h+1}: Insufficient columns`);continue}const g=(u=y[s])==null?void 0:u.trim(),b=(d=y[i])==null?void 0:d.trim(),w=(f=y[o])==null?void 0:f.trim();if(!g){t.push(`Row ${h+1}: Name is required`);continue}if(!b){t.push(`Row ${h+1}: Email is required`);continue}if(!w){t.push(`Row ${h+1}: Student Number is required for login`);continue}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)){t.push(`Row ${h+1}: Invalid email format: ${b}`);continue}c.push({name:g,email:b.toLowerCase(),student_number:w,row:h+1})}return{data:c,errors:t}},S4=async e=>{try{const{data:t,error:n}=await q.from("student_enrollments").select("user_id").eq("class_id",e);if(n)throw new Error(`Failed to count existing enrollments: ${n.message}`);const r=(t==null?void 0:t.length)||0,{error:s}=await q.from("student_enrollments").delete().eq("class_id",e);if(s)throw new Error(`Failed to remove existing enrollments: ${s.message}`);return{removedCount:r,errors:[]}}catch(t){return console.error("Error removing existing enrollments:",t),{removedCount:0,errors:[t instanceof Error?t.message:"Unknown error removing existing enrollments"]}}},_4=e=>{const t=new Set,n=new Set,r=[],s=[];return e.forEach(i=>{const o=i.email.toLowerCase(),a=i.student_number.toLowerCase(),c=t.has(o),u=n.has(a);c||u?s.push(`Row ${i.row}: ${i.name} (Email: ${i.email}, Student #: ${i.student_number})`):(t.add(o),n.add(a),r.push(i))}),{cleanStudents:r,duplicates:s}},j4=async(e,t)=>{const n=[];let r=0;try{for(const s of e)try{const i=await u1({name:s.name,email:s.email,studentNumber:s.student_number});await d1({userId:i.id,classId:t,tokensRemaining:1,tokenStatus:"unused",biddingResult:"pending"}),r++}catch(i){console.error(`Error processing student ${s.name}:`,i),n.push(`Failed to process ${s.name}: ${i instanceof Error?i.message:"Unknown error"}`)}}catch(s){console.error("Unexpected error during upload:",s),n.push(`Unexpected error during upload: ${s instanceof Error?s.message:"Unknown error"}`)}return{success:r,errors:n}},E4=async(e,t)=>{const n={success:!1,recordsProcessed:0,errors:[],duplicatesSkipped:0,message:"",replacedCount:0};try{const r=w4(e);if(r)return n.errors.push(r),n.message="File validation failed",n;const s=await e.text(),{data:i,errors:o}=b4(s);if(o.length>0&&n.errors.push(...o),i.length===0)return n.message="No valid student data found in CSV file. Remember: Name, Email, and Student Number are all required.",n;const{cleanStudents:a,duplicates:c}=_4(i);if(n.duplicatesSkipped=c.length,c.length>0&&(n.errors.push(`Found ${c.length} duplicate entries within the CSV file:`),n.errors.push(...c)),a.length===0)return n.message="No valid unique students found in the CSV file after removing duplicates",n;const{removedCount:u,errors:d}=await S4(t);if(n.replacedCount=u,d.length>0)return n.errors.push(...d),n.message="Failed to remove existing enrollments",n;const{success:f,errors:h}=await j4(a,t);h.length>0&&n.errors.push(...h),n.recordsProcessed=f,n.success=f>0,n.success?(n.replacedCount>0?n.message=`Successfully uploaded ${f} students for this class`:n.message=`Successfully uploaded ${f} students to this class`,n.duplicatesSkipped>0&&(n.message+=` (${n.duplicatesSkipped} duplicates within CSV were skipped)`)):n.message="Failed to upload any students"}catch(r){console.error("CSV upload error:",r),n.errors.push(`Unexpected error: ${r instanceof Error?r.message:"Unknown error"}`),n.message="CSV upload failed due to unexpected error"}return n},N4=({classId:e,onUpload:t})=>{const[n,r]=m.useState(null),[s,i]=m.useState(!1),[o,a]=m.useState(null),[c,u]=m.useState(0),{toast:d}=vt(),f=y=>{y.target.files&&y.target.files[0]&&(r(y.target.files[0]),a(null))},h=()=>{u(0);const y=setInterval(()=>{u(g=>g>=90?(clearInterval(y),90):g+10)},200);return y},p=async()=>{if(!n){d({title:"No file selected",description:"Please select a CSV file to upload",variant:"destructive"});return}i(!0);const y=h();try{const g=await E4(n,e);clearInterval(y),u(100),a(g),g.success?(d({title:"Upload successful",description:g.message}),t([])):d({title:"Upload failed",description:g.message,variant:"destructive"})}catch(g){clearInterval(y),u(0);const b=g instanceof Error?g.message:"An unexpected error occurred";a({success:!1,recordsProcessed:0,errors:[b],duplicatesSkipped:0,message:"Upload failed due to an error"}),d({title:"Upload failed",description:b,variant:"destructive"})}finally{i(!1),r(null);const g=document.getElementById("csvFile");g&&(g.value="")}};return l.jsx(Ee,{children:l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"csvFile",children:"Upload CSV File"}),l.jsx(it,{id:"csvFile",type:"file",accept:".csv",onChange:f,disabled:s}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("p",{children:l.jsx("strong",{children:"REQUIRED COLUMNS:"})}),l.jsxs("p",{children:["• ",l.jsx("strong",{children:"Name"})," - Student's full name"]}),l.jsxs("p",{children:["• ",l.jsx("strong",{children:"Email"})," - Student's email address"]}),l.jsxs("p",{children:["• ",l.jsx("strong",{children:"Student Number"})," - Student's ID number (required for login)"]}),l.jsx("p",{className:"text-amber-600 font-medium",children:"⚠️ All three fields are required for student login"}),l.jsx("p",{children:"• Supported format: CSV (.csv)"})]})]}),n&&!s&&l.jsxs(rn,{children:[l.jsx(RN,{className:"h-4 w-4"}),l.jsxs(sn,{children:[l.jsx("strong",{children:"Selected file:"})," ",n.name," (",(n.size/1024).toFixed(1)," KB)"]})]}),s&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ye,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{className:"text-sm",children:"Replacing students in database..."})]}),l.jsx(lS,{value:c,className:"w-full"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Removing existing students and uploading new data..."})]}),o&&l.jsx("div",{className:"space-y-3",children:l.jsxs(rn,{variant:o.success?"default":"destructive",children:[o.success?l.jsx(Fx,{className:"h-4 w-4"}):l.jsx(kN,{className:"h-4 w-4"}),l.jsxs(sn,{children:[l.jsx("strong",{children:o.success?"Success!":"Upload Failed"}),l.jsx("br",{}),o.message]})]})}),l.jsx(oe,{onClick:p,disabled:!n||s,className:"w-full bg-red-600 hover:bg-red-700",children:s?l.jsxs(l.Fragment,{children:[l.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Replacing Students..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Wc,{className:"w-4 h-4 mr-2"}),"Upload or Replace Students CSV Data"]})}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Template:"}),l.jsx(oe,{variant:"outline",size:"sm",onClick:()=>{const y=`Name,Email,Student Number
John Doe,john.doe@example.com,ST2024001
Jane Smith,jane.smith@example.com,A123456
Bob Wilson,bob.wilson@example.com,B789012`,g=new Blob([y],{type:"text/csv"}),b=window.URL.createObjectURL(g),w=document.createElement("a");w.href=b,w.download="student_template.csv",w.click(),window.URL.revokeObjectURL(b)},children:"Download CSV Template"})]})]})})},C4=({open:e,onOpenChange:t,classId:n,onStudentAdded:r})=>{const[s,i]=m.useState(""),[o,a]=m.useState(""),[c,u]=m.useState(""),[d,f]=m.useState(!1),{toast:h}=vt(),p=b=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b),y=async b=>{var w,v;if(b.preventDefault(),!s.trim()||!o.trim()||!c.trim()){h({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}if(!p(o)){h({title:"Invalid Email",description:"Please enter a valid email address",variant:"destructive"});return}f(!0);try{const{data:x}=await q.from("student_enrollments").select("user_id").eq("class_id",n).eq("user_id",((v=(w=await q.from("users").select("id").eq("email",o.toLowerCase()).maybeSingle())==null?void 0:w.data)==null?void 0:v.id)||"").maybeSingle();if(x){h({title:"Student Already Enrolled",description:"This student is already enrolled in this class",variant:"destructive"}),f(!1);return}const S=await u1({name:s.trim(),email:o.toLowerCase().trim(),studentNumber:c.trim()}),{data:_}=await q.from("student_enrollments").select("user_id").eq("class_id",n).eq("user_id",S.id).maybeSingle();if(_){h({title:"Student Already Enrolled",description:"This student is already enrolled in this class",variant:"destructive"}),f(!1);return}await d1({userId:S.id,classId:n,tokensRemaining:1,tokenStatus:"unused",biddingResult:"pending"}),h({title:"Student Added",description:`${s} has been successfully added to the class`}),i(""),a(""),u(""),r(),t(!1)}catch(x){console.error("Error adding student:",x),h({title:"Error",description:x instanceof Error?x.message:"Failed to add student. Please try again.",variant:"destructive"})}finally{f(!1)}},g=()=>{i(""),a(""),u(""),t(!1)};return l.jsx(Ls,{open:e,onOpenChange:t,children:l.jsxs(Jr,{className:"sm:max-w-[425px]",children:[l.jsxs(Xr,{children:[l.jsx($s,{children:"Add Student"}),l.jsx(Zr,{children:"Add a new student to this class. Enter their information below."})]}),l.jsxs("form",{onSubmit:y,children:[l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsxs(je,{htmlFor:"name",children:["Name ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(it,{id:"name",value:s,onChange:b=>i(b.target.value),placeholder:"Enter student's full name",disabled:d,required:!0})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsxs(je,{htmlFor:"email",children:["Email ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(it,{id:"email",type:"email",value:o,onChange:b=>a(b.target.value),placeholder:"Enter student's email",disabled:d,required:!0})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsxs(je,{htmlFor:"studentNumber",children:["Student Number ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(it,{id:"studentNumber",value:c,onChange:b=>u(b.target.value),placeholder:"Enter student number",disabled:d,required:!0})]})]}),l.jsxs(oo,{children:[l.jsx(oe,{type:"button",variant:"outline",onClick:g,disabled:d,children:"Cancel"}),l.jsx(oe,{type:"submit",disabled:d,children:d?l.jsxs(l.Fragment,{children:[l.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Adding..."]}):"Add Student"})]})]})]})})},k4=({open:e,onOpenChange:t,student:n,classId:r,onStudentRemoved:s})=>{const[i,o]=m.useState(!1),[a,c]=m.useState(null),{toast:u}=vt(),d=async()=>{if(n){o(!0),c(null);try{const h=await TD(n.id,r);if(!h.success){h.hasBids?c("Student cannot be removed since they have already placed a bid"):c(h.error||"Failed to remove student");return}const p=h.userDeleted?`${n.name} has been removed from the class and their account has been deleted`:`${n.name} has been removed from the class`;u({title:"Student Removed",description:p}),s(),t(!1)}catch(h){console.error("Error removing student:",h),c(h instanceof Error?h.message:"An unexpected error occurred")}finally{o(!1)}}},f=()=>{c(null),t(!1)};return n?l.jsx(Ls,{open:e,onOpenChange:t,children:l.jsxs(Jr,{className:"sm:max-w-[425px]",children:[l.jsxs(Xr,{children:[l.jsxs($s,{className:"flex items-center gap-2",children:[l.jsx(la,{className:"w-5 h-5 text-destructive"}),"Remove Student"]}),l.jsx(Zr,{children:"This action will remove the student from this class."})]}),l.jsxs("div",{className:"py-4 space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",n.name]}),l.jsxs("p",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email]}),l.jsxs("p",{className:"text-sm",children:[l.jsx("span",{className:"font-medium",children:"Student Number:"})," ",n.studentNumber||"N/A"]})]}),a?l.jsxs(rn,{variant:"destructive",children:[l.jsx(lc,{className:"h-4 w-4"}),l.jsx(sn,{children:a})]}):l.jsxs(rn,{children:[l.jsx(lc,{className:"h-4 w-4"}),l.jsx(sn,{children:"Are you sure you want to remove this student from the class? This action cannot be undone."})]})]}),l.jsxs(oo,{children:[l.jsx(oe,{type:"button",variant:"outline",onClick:f,disabled:i,children:a?"Close":"Cancel"}),!a&&l.jsx(oe,{type:"button",variant:"destructive",onClick:d,disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Removing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(la,{className:"mr-2 h-4 w-4"}),"Remove Student"]})})]})]})}):null},T4=({currentClass:e,onStudentUpdate:t})=>{const[n,r]=m.useState(e.students),[s,i]=m.useState(""),[o,a]=m.useState(!1),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(null),[y,g]=m.useState({total:0,available:0,used:0,refunded:0}),{toast:b}=vt();m.useEffect(()=>{r(e.students)},[e]),m.useEffect(()=>{const C=q.channel(`class-students-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"student_enrollments",filter:`class_id=eq.${e.id}`},O=>{console.log("Student enrollment update received:",O),w(O)}).on("postgres_changes",{event:"*",schema:"public",table:"users"},O=>{console.log("User update received:",O),v()}).subscribe();return()=>{q.removeChannel(C)}},[e.id]);const w=async C=>{const{eventType:O,new:R,old:H}=C;if(await x(),O==="UPDATE"&&R){const{data:z}=await q.from("users").select("name").eq("id",R.user_id).single(),M=(H==null?void 0:H.tokens_remaining)>0,I=R.tokens_remaining<=0;M&&I&&z&&b({title:"Token Status Updated",description:`${z.name} has used their token`})}},v=async C=>{await x()};m.useEffect(()=>{(async()=>{try{const{data:O}=await q.from("opportunities").select("id").eq("class_id",e.id);if(O&&O.length>0){const R=O.map(T=>T.id),{data:H}=await q.from("bids").select("id").in("opportunity_id",R).eq("bid_status","auto_selected"),z=n.length,M=n.filter(T=>T.hasUsedToken===!0).length,I=z-M,K=(H==null?void 0:H.length)||0;g({total:z,available:I,used:M,refunded:K})}else{const R=n.length,H=n.filter(M=>M.hasUsedToken===!0).length,z=R-H;g({total:R,available:z,used:H,refunded:0})}}catch(O){console.error("Error fetching refunded count:",O);const R=n.length,H=n.filter(M=>M.hasUsedToken===!0).length,z=R-H;g({total:R,available:z,used:H,refunded:0})}})()},[n,e.id]);const x=async()=>{a(!0);try{const C=await f1(e.id);r(C),t(C),b({title:"Data Refreshed",description:"Student data has been updated from the database"})}catch(C){console.error("Error refreshing student data:",C),b({title:"Refresh Failed",description:"Failed to refresh student data",variant:"destructive"})}finally{a(!1)}},S=n.filter(C=>C.name.toLowerCase().includes(s.toLowerCase())||C.email.toLowerCase().includes(s.toLowerCase())),_=async()=>{await x()},N=C=>{p(C),f(!0)},E=async()=>{await x()};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs(Ee,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Total Students"}),l.jsx(zi,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold",children:y.total}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Enrolled in class"})]})]}),l.jsxs(Ee,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Tokens Available"}),l.jsx(Ui,{className:"h-4 w-4 text-green-500"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.available}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to bid"})]})]}),l.jsxs(Ee,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Tokens Used"}),l.jsx(Ef,{className:"h-4 w-4 text-red-500"})]}),l.jsxs(Ce,{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:y.used}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Tokens in use"})]})]})]}),y.used>0&&l.jsxs(rn,{children:[l.jsx(Ef,{className:"h-4 w-4"}),l.jsxs(sn,{children:[l.jsxs("strong",{children:[y.used," student",y.used>1?"s have":" has"]})," used their token for bidding"]})]}),l.jsxs(Ee,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(Fe,{className:"text-lg font-heading flex items-center gap-2",children:[l.jsx(zi,{className:"w-5 h-5"}),"Student List - Real-time Updates"]}),l.jsx(Fs,{children:"Live view of student token status and bidding activity"})]}),l.jsx(oe,{onClick:x,disabled:o,variant:"outline",size:"sm",children:o?l.jsx(Ye,{className:"w-4 h-4 animate-spin"}):l.jsx(Wc,{className:"w-4 h-4"})})]}),l.jsxs(Ce,{children:[l.jsxs("div",{className:"mb-4 flex gap-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(je,{htmlFor:"search",className:"sr-only",children:"Search"}),l.jsx(it,{id:"search",placeholder:"Search by name or email...",value:s,onChange:C=>i(C.target.value)})]}),l.jsxs(oe,{onClick:()=>u(!0),disabled:e.isArchived,className:"whitespace-nowrap",children:[l.jsx(ac,{className:"w-4 h-4 mr-2"}),"Add Student"]})]}),S.length===0?l.jsx("p",{className:"text-center text-muted-foreground py-4",children:n.length===0?"No students in this class yet.":"No students match your search"}):l.jsxs(Im,{children:[l.jsx(Mm,{children:l.jsxs(Si,{children:[l.jsx(_t,{children:"Name"}),l.jsx(_t,{children:"Email"}),l.jsx(_t,{children:"Student Number"}),l.jsx(_t,{children:"Token Status"}),l.jsx(_t,{children:"Bid Status"}),l.jsx(_t,{children:"Tokens Remaining"}),l.jsx(_t,{className:"text-right",children:"Remove Student"})]})}),l.jsx(Lm,{children:S.map(C=>l.jsxs(Si,{className:C.hasUsedToken===!0?"bg-red-50":"bg-green-50",children:[l.jsx(mt,{className:"font-medium",children:C.name}),l.jsx(mt,{children:C.email}),l.jsx(mt,{children:C.studentNumber||"N/A"}),l.jsx(mt,{children:C.hasUsedToken===!0?l.jsx(ae,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Token Unavailable"}):l.jsx(ae,{className:"bg-green-100 text-green-800",children:"Token Available"})}),l.jsx(mt,{children:C.hasBid===!0?l.jsx(ae,{variant:"default",children:"Bid Submitted"}):l.jsx(ae,{variant:"outline",children:"No Bid"})}),l.jsx(mt,{children:l.jsx(ae,{variant:"outline",children:C.tokensRemaining??(C.hasUsedToken===!0?0:1)})}),l.jsx(mt,{className:"text-right",children:l.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>N(C),disabled:e.isArchived,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:l.jsx(la,{className:"w-4 h-4"})})})]},C.id))})]})]})]}),l.jsx(C4,{open:c,onOpenChange:u,classId:e.id,onStudentAdded:_}),l.jsx(k4,{open:d,onOpenChange:f,student:h,classId:e.id,onStudentRemoved:E})]})},P4=({currentClass:e,isViewingArchived:t=!1,onUpdateStudents:n})=>{const[r,s]=m.useState(!1),{toast:i}=vt();if(!e)return l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold mb-6",children:"Manage Students"}),l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Please select a class to manage students"})]});const o=async()=>{s(!0);try{const u=(await Xn()).find(d=>d.id===e.id);u&&n(u.students)}catch(c){console.error("Error refreshing students:",c),i({title:"Error refreshing data",description:"Failed to refresh student list from database",variant:"destructive"})}finally{s(!1)}},a=async()=>{s(!0);try{const u=(await Xn()).find(d=>d.id===e.id);u&&(n(u.students),i({title:"Students refreshed",description:"Student list has been updated from the database"}))}catch(c){console.error("Error refreshing students:",c),i({title:"Error refreshing data",description:"Failed to refresh student list from database",variant:"destructive"})}finally{s(!1)}};return l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h1",{className:"text-2xl font-heading font-bold",children:[t?"View Students":"Manage Students"," - ",e.className,t&&l.jsx(ae,{variant:"secondary",className:"ml-2",children:"Archived (Read-only)"})]}),l.jsx(oe,{onClick:a,disabled:r||t,variant:"outline",children:r?"Refreshing...":"Refresh from Database"})]}),l.jsxs(pa,{defaultValue:"manage",className:"space-y-6",children:[l.jsxs(Vi,{children:[l.jsx(Zt,{value:"manage",children:"Manage Students"}),l.jsx(Zt,{value:"upload",disabled:t,children:"Upload Students"})]}),l.jsx(en,{value:"manage",children:l.jsx(T4,{currentClass:e,onStudentUpdate:n})}),l.jsx(en,{value:"upload",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(N4,{classId:e.id,onUpload:o}),l.jsxs(Ee,{children:[l.jsx($e,{children:l.jsx(Fe,{className:"text-lg font-heading",children:"Upload Instructions"})}),l.jsx(Ce,{children:l.jsxs("div",{className:"space-y-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Required CSV Format:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Name"})," - Student's full name"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Email"})," - Student's email address"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Student Number"})," - Required for login"]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Token Management:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[l.jsx("li",{children:"Each student starts with 1 available token"}),l.jsx("li",{children:"Tokens are used when students submit bids"}),l.jsx("li",{children:"Token status updates in real-time"}),l.jsx("li",{children:"Admin can monitor token usage live"})]})]})]})})]})]})})]})]})};function R4(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var O4=[" ","Enter","ArrowUp","ArrowDown"],D4=[" ","Enter"],La="Select",[wu,bu,A4]=Jh(La),[co,qL]=Ms(La,[A4,ro]),Su=ro(),[I4,ns]=co(La),[M4,L4]=co(La),cS=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,g=Su(t),[b,w]=m.useState(null),[v,x]=m.useState(null),[S,_]=m.useState(!1),N=su(u),[E=!1,C]=ks({prop:r,defaultProp:s,onChange:i}),[O,R]=ks({prop:o,defaultProp:a,onChange:c}),H=m.useRef(null),z=b?y||!!b.closest("form"):!0,[M,I]=m.useState(new Set),K=Array.from(M).map(T=>T.props.value).join(";");return l.jsx(gw,{...g,children:l.jsxs(I4,{required:p,scope:t,trigger:b,onTriggerChange:w,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:rr(),value:O,onValueChange:R,open:E,onOpenChange:C,dir:N,triggerPointerDownPosRef:H,disabled:h,children:[l.jsx(wu.Provider,{scope:t,children:l.jsx(M4,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(T=>{I(k=>new Set(k).add(T))},[]),onNativeOptionRemove:m.useCallback(T=>{I(k=>{const j=new Set(k);return j.delete(T),j})},[]),children:n})}),z?l.jsxs(AS,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:T=>R(T.target.value),disabled:h,form:y,children:[O===void 0?l.jsx("option",{value:""}):null,Array.from(M)]},K):null]})})};cS.displayName=La;var uS="SelectTrigger",dS=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Su(n),o=ns(uS,n),a=o.disabled||r,c=xe(t,o.onTriggerChange),u=bu(n),d=m.useRef("touch"),[f,h,p]=IS(g=>{const b=u().filter(x=>!x.disabled),w=b.find(x=>x.value===o.value),v=MS(b,g,w);v!==void 0&&o.onValueChange(v.value)}),y=g=>{a||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(Kc,{asChild:!0,...i,children:l.jsx(ue.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":DS(o.value)?"":void 0,...s,ref:c,onClick:re(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:re(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:re(s.onKeyDown,g=>{const b=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(b&&g.key===" ")&&O4.includes(g.key)&&(y(),g.preventDefault())})})})});dS.displayName=uS;var fS="SelectValue",hS=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=e,c=ns(fS,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=xe(t,c.onValueNodeChange);return ct(()=>{u(d)},[u,d]),l.jsx(ue.span,{...a,ref:f,style:{pointerEvents:"none"},children:DS(c.value)?l.jsx(l.Fragment,{children:o}):i})});hS.displayName=fS;var $4="SelectIcon",mS=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(ue.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});mS.displayName=$4;var F4="SelectPortal",pS=e=>l.jsx(Ea,{asChild:!0,...e});pS.displayName=F4;var Os="SelectContent",gS=m.forwardRef((e,t)=>{const n=ns(Os,e.__scopeSelect),[r,s]=m.useState();if(ct(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Is.createPortal(l.jsx(vS,{scope:e.__scopeSelect,children:l.jsx(wu.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),i):null}return l.jsx(yS,{...e,ref:t})});gS.displayName=Os;var fn=10,[vS,rs]=co(Os),B4="SelectContentImpl",yS=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:b,...w}=e,v=ns(Os,n),[x,S]=m.useState(null),[_,N]=m.useState(null),E=xe(t,A=>S(A)),[C,O]=m.useState(null),[R,H]=m.useState(null),z=bu(n),[M,I]=m.useState(!1),K=m.useRef(!1);m.useEffect(()=>{if(x)return wm(x)},[x]),xm();const T=m.useCallback(A=>{const[F,...V]=z().map(te=>te.ref.current),[$]=V.slice(-1),Q=document.activeElement;for(const te of A)if(te===Q||(te==null||te.scrollIntoView({block:"nearest"}),te===F&&_&&(_.scrollTop=0),te===$&&_&&(_.scrollTop=_.scrollHeight),te==null||te.focus(),document.activeElement!==Q))return},[z,_]),k=m.useCallback(()=>T([C,x]),[T,C,x]);m.useEffect(()=>{M&&k()},[M,k]);const{onOpenChange:j,triggerPointerDownPosRef:D}=v;m.useEffect(()=>{if(x){let A={x:0,y:0};const F=$=>{var Q,te;A={x:Math.abs(Math.round($.pageX)-(((Q=D.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round($.pageY)-(((te=D.current)==null?void 0:te.y)??0))}},V=$=>{A.x<=10&&A.y<=10?$.preventDefault():x.contains($.target)||j(!1),document.removeEventListener("pointermove",F),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",F),document.addEventListener("pointerup",V,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",V,{capture:!0})}}},[x,j,D]),m.useEffect(()=>{const A=()=>j(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[j]);const[L,W]=IS(A=>{const F=z().filter(Q=>!Q.disabled),V=F.find(Q=>Q.ref.current===document.activeElement),$=MS(F,A,V);$&&setTimeout(()=>$.ref.current.focus())}),X=m.useCallback((A,F,V)=>{const $=!K.current&&!V;(v.value!==void 0&&v.value===F||$)&&(O(A),$&&(K.current=!0))},[v.value]),G=m.useCallback(()=>x==null?void 0:x.focus(),[x]),P=m.useCallback((A,F,V)=>{const $=!K.current&&!V;(v.value!==void 0&&v.value===F||$)&&H(A)},[v.value]),ee=r==="popper"?Xf:xS,Z=ee===Xf?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:b}:{};return l.jsx(vS,{scope:n,content:x,viewport:_,onViewportChange:N,itemRefCallback:X,selectedItem:C,onItemLeave:G,itemTextRefCallback:P,focusSelectedItem:k,selectedItemText:R,position:r,isPositioned:M,searchRef:L,children:l.jsx(lu,{as:Wr,allowPinchZoom:!0,children:l.jsx(ou,{asChild:!0,trapped:v.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:re(s,A=>{var F;(F=v.trigger)==null||F.focus({preventScroll:!0}),A.preventDefault()}),children:l.jsx(Zi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(ee,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:A=>A.preventDefault(),...w,...Z,onPlaced:()=>I(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:re(w.onKeyDown,A=>{const F=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!F&&A.key.length===1&&W(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let $=z().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(A.key)&&($=$.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const Q=A.target,te=$.indexOf(Q);$=$.slice(te+1)}setTimeout(()=>T($)),A.preventDefault()}})})})})})})});yS.displayName=B4;var U4="SelectItemAlignedPosition",xS=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=ns(Os,n),o=rs(Os,n),[a,c]=m.useState(null),[u,d]=m.useState(null),f=xe(t,E=>d(E)),h=bu(n),p=m.useRef(!1),y=m.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:w,focusSelectedItem:v}=o,x=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&g&&b&&w){const E=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),R=w.getBoundingClientRect();if(i.dir!=="rtl"){const Q=R.left-C.left,te=O.left-Q,we=E.left-te,le=E.width+we,Je=Math.max(le,C.width),ye=window.innerWidth-fn,U=Gf(te,[fn,Math.max(fn,ye-Je)]);a.style.minWidth=le+"px",a.style.left=U+"px"}else{const Q=C.right-R.right,te=window.innerWidth-O.right-Q,we=window.innerWidth-E.right-te,le=E.width+we,Je=Math.max(le,C.width),ye=window.innerWidth-fn,U=Gf(te,[fn,Math.max(fn,ye-Je)]);a.style.minWidth=le+"px",a.style.right=U+"px"}const H=h(),z=window.innerHeight-fn*2,M=g.scrollHeight,I=window.getComputedStyle(u),K=parseInt(I.borderTopWidth,10),T=parseInt(I.paddingTop,10),k=parseInt(I.borderBottomWidth,10),j=parseInt(I.paddingBottom,10),D=K+T+M+j+k,L=Math.min(b.offsetHeight*5,D),W=window.getComputedStyle(g),X=parseInt(W.paddingTop,10),G=parseInt(W.paddingBottom,10),P=E.top+E.height/2-fn,ee=z-P,Z=b.offsetHeight/2,A=b.offsetTop+Z,F=K+T+A,V=D-F;if(F<=P){const Q=H.length>0&&b===H[H.length-1].ref.current;a.style.bottom="0px";const te=u.clientHeight-g.offsetTop-g.offsetHeight,we=Math.max(ee,Z+(Q?G:0)+te+k),le=F+we;a.style.height=le+"px"}else{const Q=H.length>0&&b===H[0].ref.current;a.style.top="0px";const we=Math.max(P,K+g.offsetTop+(Q?X:0)+Z)+V;a.style.height=we+"px",g.scrollTop=F-P+g.offsetTop}a.style.margin=`${fn}px 0`,a.style.minHeight=L+"px",a.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,a,u,g,b,w,i.dir,r]);ct(()=>x(),[x]);const[S,_]=m.useState();ct(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const N=m.useCallback(E=>{E&&y.current===!0&&(x(),v==null||v(),y.current=!1)},[x,v]);return l.jsx(W4,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(ue.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});xS.displayName=U4;var z4="SelectPopperPosition",Xf=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=fn,...i}=e,o=Su(n);return l.jsx(dm,{...o,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xf.displayName=z4;var[W4,tp]=co(Os,{}),Zf="SelectViewport",wS=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=rs(Zf,n),o=tp(Zf,n),a=xe(t,i.onViewportChange),c=m.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(wu.Slot,{scope:n,children:l.jsx(ue.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:re(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-fn*2,g=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),w=Math.max(g,b);if(w<y){const v=w+p,x=Math.min(y,v),S=v-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});wS.displayName=Zf;var bS="SelectGroup",[H4,V4]=co(bS),q4=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=rr();return l.jsx(H4,{scope:n,id:s,children:l.jsx(ue.div,{role:"group","aria-labelledby":s,...r,ref:t})})});q4.displayName=bS;var SS="SelectLabel",_S=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=V4(SS,n);return l.jsx(ue.div,{id:s.id,...r,ref:t})});_S.displayName=SS;var jc="SelectItem",[Y4,jS]=co(jc),ES=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=e,a=ns(jc,n),c=rs(jc,n),u=a.value===r,[d,f]=m.useState(i??""),[h,p]=m.useState(!1),y=xe(t,v=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,v,r,s)}),g=rr(),b=m.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Y4,{scope:n,value:r,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(v=>{f(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(wu.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(ue.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:re(o.onFocus,()=>p(!0)),onBlur:re(o.onBlur,()=>p(!1)),onClick:re(o.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:re(o.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:re(o.onPointerDown,v=>{b.current=v.pointerType}),onPointerMove:re(o.onPointerMove,v=>{var x;b.current=v.pointerType,s?(x=c.onItemLeave)==null||x.call(c):b.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(o.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:re(o.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(D4.includes(v.key)&&w(),v.key===" "&&v.preventDefault())})})})})});ES.displayName=jc;var Po="SelectItemText",NS=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,o=ns(Po,n),a=rs(Po,n),c=jS(Po,n),u=L4(Po,n),[d,f]=m.useState(null),h=xe(t,w=>f(w),c.onItemTextChange,w=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=m.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return ct(()=>(g(y),()=>b(y)),[g,b,y]),l.jsxs(l.Fragment,{children:[l.jsx(ue.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Is.createPortal(i.children,o.valueNode):null]})});NS.displayName=Po;var CS="SelectItemIndicator",kS=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return jS(CS,n).isSelected?l.jsx(ue.span,{"aria-hidden":!0,...r,ref:t}):null});kS.displayName=CS;var eh="SelectScrollUpButton",TS=m.forwardRef((e,t)=>{const n=rs(eh,e.__scopeSelect),r=tp(eh,e.__scopeSelect),[s,i]=m.useState(!1),o=xe(t,r.onScrollButtonChange);return ct(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(RS,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});TS.displayName=eh;var th="SelectScrollDownButton",PS=m.forwardRef((e,t)=>{const n=rs(th,e.__scopeSelect),r=tp(th,e.__scopeSelect),[s,i]=m.useState(!1),o=xe(t,r.onScrollButtonChange);return ct(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(RS,{...e,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});PS.displayName=th;var RS=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=rs("SelectScrollButton",n),o=m.useRef(null),a=bu(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),ct(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(ue.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:re(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:re(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:re(s.onPointerLeave,()=>{c()})})}),K4="SelectSeparator",OS=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(ue.div,{"aria-hidden":!0,...r,ref:t})});OS.displayName=K4;var nh="SelectArrow",G4=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Su(n),i=ns(nh,n),o=rs(nh,n);return i.open&&o.position==="popper"?l.jsx(fm,{...s,...r,ref:t}):null});G4.displayName=nh;function DS(e){return e===""||e===void 0}var AS=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=m.useRef(null),i=xe(t,s),o=R4(n);return m.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),l.jsx(Na,{asChild:!0,children:l.jsx("select",{...r,ref:i,defaultValue:n})})});AS.displayName="BubbleSelect";function IS(e){const t=Qe(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function MS(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let o=Q4(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Q4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var J4=cS,LS=dS,X4=hS,Z4=mS,eL=pS,$S=gS,tL=wS,FS=_S,BS=ES,nL=NS,rL=kS,US=TS,zS=PS,WS=OS;const sL=J4,iL=X4,HS=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(LS,{ref:r,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(Z4,{asChild:!0,children:l.jsx($x,{className:"h-4 w-4 opacity-50"})})]}));HS.displayName=LS.displayName;const VS=m.forwardRef(({className:e,...t},n)=>l.jsx(US,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(CN,{className:"h-4 w-4"})}));VS.displayName=US.displayName;const qS=m.forwardRef(({className:e,...t},n)=>l.jsx(zS,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx($x,{className:"h-4 w-4"})}));qS.displayName=zS.displayName;const YS=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(eL,{children:l.jsxs($S,{ref:s,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(VS,{}),l.jsx(tL,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(qS,{})]})}));YS.displayName=$S.displayName;const oL=m.forwardRef(({className:e,...t},n)=>l.jsx(FS,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));oL.displayName=FS.displayName;const KS=m.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(BS,{ref:r,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(rL,{children:l.jsx(EN,{className:"h-4 w-4"})})}),l.jsx(nL,{children:t})]}));KS.displayName=BS.displayName;const aL=m.forwardRef(({className:e,...t},n)=>l.jsx(WS,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));aL.displayName=WS.displayName;const lL=({currentClass:e,isViewingArchived:t=!1,onSelectionComplete:n})=>{var H,z;const[r,s]=m.useState(null),[i,o]=m.useState({}),[a,c]=m.useState({}),[u,d]=m.useState(!0),[f,h]=m.useState(!1),[p,y]=m.useState([]),[g,b]=m.useState(!1),{toast:w}=vt(),v=e.bidOpportunities||[];m.useEffect(()=>{v.length>0&&!r&&s(v[0].id)},[v,r]),m.useEffect(()=>{if(r&&e.bidOpportunities){const M=e.bidOpportunities.find(I=>I.id===r);M&&M.selectedStudents?(console.log("Loading selected students from database:",M.selectedStudents),y(M.selectedStudents)):y([])}},[r,e.bidOpportunities]);const x=async M=>{try{const{data:I,error:K}=await q.from("bids").select(`
          id,
          user_id,
          bid_status,
          submission_timestamp
        `).eq("opportunity_id",M).order("submission_timestamp",{ascending:!1});if(K)return console.error(`Error fetching bids for opportunity ${M}:`,K),[];if(!I||I.length===0)return[];const T=[...new Set(I.map(L=>L.user_id))],{data:k,error:j}=await q.from("users").select("id, name, email, student_number").in("id",T);if(j)return console.error(`Error fetching users for opportunity ${M}:`,j),[];const D=new Map((k==null?void 0:k.map(L=>[L.id,L]))||[]);return I.map(L=>{const W=D.get(L.user_id);return{id:(W==null?void 0:W.id)||L.user_id,name:(W==null?void 0:W.name)||"Unknown User",email:(W==null?void 0:W.email)||"",studentNumber:W==null?void 0:W.student_number,bidTimestamp:L.submission_timestamp,bidStatus:L.bid_status}}).filter(L=>L.name!=="Unknown User")}catch(I){return console.error("Error fetching bidders:",I),[]}},S=async()=>{if(v.length===0){d(!1);return}try{const M={},I={};for(const K of v){const{data:T,error:k}=await q.from("bids").select(`
            id, 
            submission_timestamp,
            bid_status,
            user_id
          `).eq("opportunity_id",K.id);if(k){console.error(`Error fetching bids for opportunity ${K.id}:`,k);continue}const j=(T==null?void 0:T.length)||0;if(M[K.id]={opportunityId:K.id,bidCount:j,lastUpdated:new Date().toISOString()},j>0){const D=[...new Set(T.map(G=>G.user_id))],{data:L,error:W}=await q.from("users").select("id, name, email, student_number").in("id",D);if(W){console.error(`Error fetching users for opportunity ${K.id}:`,W),I[K.id]=[];continue}const X=new Map((L==null?void 0:L.map(G=>[G.id,G]))||[]);I[K.id]=T.map(G=>{const P=X.get(G.user_id);return{id:(P==null?void 0:P.id)||G.user_id,name:(P==null?void 0:P.name)||"Unknown User",email:(P==null?void 0:P.email)||"",studentNumber:P==null?void 0:P.student_number,bidTimestamp:G.submission_timestamp,bidStatus:G.bid_status}}).filter(G=>G.name!=="Unknown User")}else I[K.id]=[]}o(M),c(I)}catch(M){console.error("Error fetching bid counts:",M),w({title:"Error Loading Data",description:"Failed to fetch bid counts from database",variant:"destructive"})}finally{d(!1)}};m.useEffect(()=>{if(v.length===0)return;const M=v.map(I=>q.channel(`bids-${I.id}`).on("postgres_changes",{event:"*",schema:"public",table:"bids",filter:`opportunity_id=eq.${I.id}`},async T=>{console.log("Real-time bid update:",T),o(k=>{let D=(k[I.id]||{opportunityId:I.id,bidCount:0,lastUpdated:""}).bidCount;return T.eventType==="INSERT"?(D+=1,w({title:"New Bid Placed",description:`A student has placed a bid for ${I.title}`})):T.eventType==="DELETE"&&(D=Math.max(0,D-1),w({title:"Bid Removed",description:`A bid was removed from ${I.title}`})),{...k,[I.id]:{opportunityId:I.id,bidCount:D,lastUpdated:new Date().toISOString()}}});try{const k=await x(I.id);c(j=>({...j,[I.id]:k}))}catch(k){console.error("Error refreshing bidders after real-time update:",k)}}).subscribe());return S(),()=>{M.forEach(I=>q.removeChannel(I))}},[v,w]);const _=async()=>{b(!0),await S(),b(!1),w({title:"Data Refreshed",description:"Bid counts have been updated from the database"})},N=async()=>{var I;if(!r){w({title:"No Opportunity Selected",description:"Please select a bidding opportunity first",variant:"destructive"});return}const M=((I=i[r])==null?void 0:I.bidCount)||0;if(M===0){w({title:"No Bids Available",description:"No students have placed bids for this opportunity yet",variant:"destructive"});return}h(!0);try{const T=(a[r]||[]).map(G=>({id:G.id,name:G.name,email:G.email,studentNumber:G.studentNumber,hasUsedToken:!0,hasBid:!0}));await new Promise(G=>setTimeout(G,1e3));const k=v.find(G=>G.id===r),j=(k==null?void 0:k.capacity)||e.capacity,D=new Date,L=k!=null&&k.bidCloseDate?new Date(k.bidCloseDate):null,W=L?D>=L:!1;let X;if(W&&M<=j)console.log("=== AUTOMATIC SELECTION TRIGGERED ==="),console.log("Bid count:",M,"Capacity:",j),await ZM(r),X=T.map(G=>({...G,bidStatus:"auto_selected"})),w({title:"Automatic Selection Complete",description:`All ${X.length} bidders have been automatically selected and their tokens have been refunded.`});else{console.log("=== RANDOM SELECTION TRIGGERED ==="),console.log("Bid count:",M,"Capacity:",j);const G=Math.min(j,T.length);X=[...T].sort(()=>Math.random()-.5).slice(0,G);try{const ee=X.map(A=>A.id),Z=T.map(A=>A.id);await JM(r,e.id,ee,Z),console.log("Selection results successfully updated in database")}catch(ee){console.error("Error updating selection results in database:",ee),w({title:"Database Update Warning",description:"Selection completed but failed to update database records. Please check the console for details.",variant:"destructive"})}w({title:"Random Selection Complete",description:`${X.length} student${X.length!==1?"s":""} randomly selected.`})}y(X),n(X,r),console.log("=== REFRESHING BIDDER DATA AFTER SELECTION ==="),await S(),console.log("Bidder data refreshed successfully")}catch(K){console.error("Selection error:",K),w({title:"Selection Failed",description:"An error occurred during the selection process",variant:"destructive"})}finally{h(!1)}},E=async()=>{if(r){h(!0);try{console.log("=== STARTING SELECTION RESET ==="),console.log("Opportunity ID:",r),await r4(r),console.log("=== DATABASE RESET COMPLETED ==="),y([]),await S(),n([],r),w({title:"Selection Reset",description:"Selection has been cleared and all student results reset to pending."})}catch(M){console.error("Error resetting selection:",M),w({title:"Reset Failed",description:M instanceof Error?M.message:"An unexpected error occurred during reset",variant:"destructive"})}finally{h(!1)}}},C=v.find(M=>M.id===r),O=r&&((H=i[r])==null?void 0:H.bidCount)||0,R=r?a[r]||[]:[];return v.length===0?l.jsx("div",{className:"container mx-auto p-4",children:l.jsx(Ee,{children:l.jsxs(Ce,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-xl mb-4",children:"No Bidding Opportunities"}),l.jsx("p",{className:"text-muted-foreground",children:"Create some bidding opportunities first to run the selection process."})]})})}):l.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[l.jsxs(Ee,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between",children:[l.jsx("div",{children:l.jsxs(Fe,{className:"text-xl font-heading flex items-center gap-2",children:[l.jsx(Nf,{className:"w-5 h-5"}),"Selection Process - Real-time Monitoring"]})}),l.jsx(oe,{onClick:_,disabled:g||u||t,variant:"outline",size:"sm",children:g?l.jsx(Ye,{className:"w-4 h-4 animate-spin"}):l.jsx(Wc,{className:"w-4 h-4"})})]}),l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Bidding Opportunity:"}),l.jsxs(sL,{value:r||"",onValueChange:s,disabled:u,children:[l.jsx(HS,{className:"w-full",children:l.jsx(iL,{placeholder:"Choose a bidding opportunity"})}),l.jsx(YS,{children:v.map(M=>{var K;const I=((K=i[M.id])==null?void 0:K.bidCount)||0;return l.jsx(KS,{value:M.id,children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsxs("span",{children:[M.title," - ",xn(M.date)]}),l.jsx(ae,{variant:"outline",className:"ml-2",children:u?"...":`${I} bids`})]})},M.id)})})]})]}),C&&l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium text-lg",children:C.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ef,{className:"w-4 h-4 text-blue-500"}),l.jsx(ae,{variant:"default",className:"animate-pulse",children:u?l.jsx(Ye,{className:"w-3 h-3 animate-spin"}):`${O} Live Bids`})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Event Date:"}),l.jsx("div",{className:"font-medium",children:xn(C.date)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Capacity:"}),l.jsxs("div",{className:"font-medium",children:[C.capacity||e.capacity," students"]})]})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Description:"}),l.jsx("div",{className:"mt-1",children:C.description})]}),l.jsxs(rn,{children:[l.jsx(zi,{className:"h-4 w-4"}),l.jsxs(sn,{children:[l.jsxs("strong",{children:[O," student",O!==1?"s":""]})," ",O===1?"has":"have"," placed bids for this opportunity.",t&&l.jsx("span",{className:"text-blue-600 font-medium",children:" This is historical data from an archived class."}),(()=>{if(t)return null;const M=new Date,I=C!=null&&C.bidCloseDate?new Date(C.bidCloseDate):null,K=I?M>=I:!1,T=(C==null?void 0:C.capacity)||e.capacity;return O===0?l.jsx("span",{className:"text-gray-600",children:" Waiting for bids..."}):K&&O<=T?l.jsx("span",{className:"text-green-600 font-medium",children:" All bidders will be automatically selected and tokens refunded."}):O>T?l.jsx("span",{className:"text-blue-600 font-medium",children:" Random selection will be required."}):l.jsx("span",{className:"text-yellow-600 font-medium",children:" Bidding still open. Selection type will be determined when bidding closes."})})()]})]}),R.length>0&&l.jsxs("div",{className:"mt-4 p-4 bg-white rounded-md border",children:[l.jsxs("h4",{className:"font-medium text-sm mb-3 flex items-center gap-2",children:[l.jsx(IN,{className:"w-4 h-4"}),"Students Who Have Placed Bids (",R.length,")"]}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:R.map((M,I)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600",children:I+1}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:M.name}),l.jsx("div",{className:"text-xs text-gray-500",children:M.email}),M.studentNumber&&l.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",M.studentNumber]})]})]}),l.jsx("div",{className:"text-right",children:l.jsx(ae,{variant:"outline",className:`text-xs mt-1 ${p.length===0||!p.some(K=>K.id===M.id)?p.length===0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:p.length===0||!p.some(K=>K.id===M.id)?p.length===0?"pending":"rejected":"selected"})})]},M.id))})]}),((z=i[C.id])==null?void 0:z.lastUpdated)&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(i[C.id].lastUpdated).toLocaleTimeString()]})]})]})]}),l.jsx("div",{className:"text-center space-y-6",children:!t&&p.length===0?l.jsx(oe,{onClick:N,disabled:f||O===0||!r,size:"lg",className:"px-12 py-6 text-xl font-semibold bg-blue-600 hover:bg-blue-700 shadow-lg",children:f?l.jsxs(l.Fragment,{children:[l.jsx(Ye,{className:"w-6 h-6 mr-3 animate-spin"}),"Selecting Students..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Nf,{className:"w-6 h-6 mr-3"}),"Start Random Selection"]})}):!t&&p.length>0?l.jsx(oe,{onClick:E,variant:"outline",size:"lg",className:"px-12 py-6 text-xl font-semibold",children:"Reset Selection"}):t?l.jsx("div",{className:"text-center py-4",children:l.jsx(ae,{variant:"outline",className:"text-lg px-4 py-2",children:"Archived Class - View Only Mode"})}):null}),l.jsxs(Ee,{children:[l.jsx($e,{className:"text-center",children:l.jsxs(Fe,{className:"text-2xl font-bold flex items-center justify-center gap-2",children:[l.jsx(zi,{className:"w-6 h-6"}),"Selected Students"]})}),l.jsx(Ce,{children:p.length>0?l.jsxs("div",{className:"space-y-4",children:[p.map(M=>l.jsxs("div",{className:"p-6 bg-green-50 border-2 border-green-200 rounded-lg text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-800 mb-2",children:["🎉 ",M.name]}),l.jsx("div",{className:"text-lg text-green-600 mb-1",children:M.email}),M.studentNumber&&l.jsxs("div",{className:"text-sm text-green-500",children:["Student #: ",M.studentNumber]})]},M.id)),l.jsx("div",{className:"text-center pt-4",children:l.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["🎊 Congratulations! ",p.length," student",p.length!==1?"s have":" has"," been selected!"]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),l.jsx("p",{className:"text-xl text-gray-500 mb-2",children:"No students selected yet"}),l.jsx("p",{className:"text-gray-400",children:'Select an opportunity and click "Start Random Selection" to begin'})]})})]})]})},cL=({currentClass:e,isViewingArchived:t=!1,onSelectionComplete:n})=>{const{toast:r}=vt(),s=(i,o)=>{const a=localStorage.getItem("classData");if(a)try{const u=JSON.parse(a).map(d=>{if(d.id===(e==null?void 0:e.id)){const f={...d,selectedStudents:i};return o&&d.bidOpportunities&&(f.bidOpportunities=d.bidOpportunities.map(h=>h.id===o?{...h,selectedStudents:i}:h)),f}return d});localStorage.setItem("classData",JSON.stringify(u)),console.log("Selection results saved to localStorage:",{selectedStudents:i,opportunityId:o})}catch(c){console.error("Error updating class data:",c)}n(i,o),r({title:"Selection saved",description:"The selection results have been saved and are now visible to students."})};return e?(!e.bidOpportunities||e.bidOpportunities.length===0)&&e.bidders.length===0?l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsxs("h1",{className:"text-2xl font-heading font-bold mb-6",children:["Selection Process - ",e.className]}),l.jsx(Ee,{children:l.jsxs(Ce,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-xl mb-4",children:"No bids available"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"No students have placed a bid for the current reward yet."})]})})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6 text-center",children:[l.jsxs("h1",{className:"text-2xl font-heading font-bold",children:[t?"View Selection Results":"Selection Process"," - ",e.className,t&&l.jsx(ae,{variant:"secondary",className:"ml-2",children:"Archived (Read-only)"})]}),l.jsx("p",{className:"text-muted-foreground",children:t?"View historical bid data and selection results":"Monitor real-time bids and conduct random selection"})]}),l.jsx(lL,{currentClass:e,isViewingArchived:t,onSelectionComplete:s})]}):l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold mb-6",children:"Selection Process"}),l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Please select a class to run the selection process"})]})};async function uL(e){const{userId:t,opportunityId:n}=e;try{const{data:r,error:s}=await q.from("opportunities").select("id, class_id, title, description").eq("id",n).single();if(s)return{success:!1,errorMessage:`Opportunity not found: ${s.message}`};const{data:i,error:o}=await q.from("student_enrollments").select("*").eq("user_id",t).eq("class_id",r.class_id).single();if(o)return{success:!1,errorMessage:`Student not enrolled in this class: ${o.message}`};if(i.tokens_remaining<=0)return{success:!1,errorMessage:"No tokens remaining"};const{data:a,error:c}=await q.from("bids").select("id").eq("user_id",t).eq("opportunity_id",n).maybeSingle();if(c)return{success:!1,errorMessage:`Error checking existing bid: ${c.message}`};if(a)return{success:!1,errorMessage:"You have already placed a bid for this opportunity"};const{data:u,error:d}=await q.rpc("submit_student_bid_secure",{p_bid_amount:1,p_user_id:t,p_opportunity_id:n});if(d)return{success:!1,errorMessage:`Bid submission failed: ${d.message}`};if(!u||!u.success)return{success:!1,errorMessage:(u==null?void 0:u.error_message)||"Bid submission failed"};const{data:f,error:h}=await q.from("users").select("*").eq("id",t).single(),{data:p,error:y}=await q.from("student_enrollments").select("*").eq("user_id",t).eq("class_id",r.class_id).single();if(h||y||!f||!p)return{success:!0,bidId:u.bid_id,timestamp:new Date().toISOString()};const g={id:f.id,name:f.name,email:f.email,studentNumber:f.student_number||"",hasUsedToken:p.tokens_remaining<=0,hasBid:p.token_status==="used",tokensRemaining:p.tokens_remaining,tokenStatus:p.token_status,biddingResult:p.bidding_result};return{success:!0,bidId:u.bid_id,updatedStudent:g,timestamp:new Date().toISOString()}}catch(r){return console.error("Error during bid submission:",r),{success:!1,errorMessage:r instanceof Error?r.message:"Unexpected error occurred"}}}async function dL(e){const{userId:t,opportunityId:n}=e;try{const{data:r,error:s}=await q.from("opportunities").select("id, class_id, title, description").eq("id",n).single();if(s)return{success:!1,errorMessage:`Opportunity not found: ${s.message}`};const{data:i,error:o}=await q.from("bids").select("id").eq("user_id",t).eq("opportunity_id",n).maybeSingle();if(o)return{success:!1,errorMessage:`Error checking existing bid: ${o.message}`};if(!i)return{success:!1,errorMessage:"No bid found to withdraw"};const{data:a,error:c}=await q.rpc("withdraw_bid_secure",{p_user_id:t,p_opportunity_id:n});if(c)return{success:!1,errorMessage:`Bid withdrawal failed: ${c.message}`};if(!a||!a.success)return{success:!1,errorMessage:(a==null?void 0:a.error)||"Bid withdrawal failed"};const{data:u,error:d}=await q.from("users").select("*").eq("id",t).single(),{data:f,error:h}=await q.from("student_enrollments").select("*").eq("user_id",t).eq("class_id",r.class_id).single();return d||h||!u||!f?{success:!0,timestamp:new Date().toISOString()}:{success:!0,updatedStudent:{id:u.id,name:u.name,email:u.email,studentNumber:u.student_number||"",hasUsedToken:f.tokens_remaining<=0,hasBid:f.token_status==="used",tokensRemaining:f.tokens_remaining,tokenStatus:f.token_status,biddingResult:f.bidding_result},timestamp:new Date().toISOString()}}catch(r){return console.error("Error during bid withdrawal:",r),{success:!1,errorMessage:r instanceof Error?r.message:"Unexpected error occurred"}}}const fL=()=>{const[e,t]=m.useState({isSubmitting:!1,isWithdrawing:!1,lastBidResponse:null,lastWithdrawResponse:null,error:null}),{toast:n}=vt(),r=m.useCallback(async i=>{t(o=>({...o,isSubmitting:!0,error:null}));try{const o=await uL(i);return t(a=>({...a,isSubmitting:!1,lastBidResponse:o,error:o.success?null:o.errorMessage||"Bid submission failed"})),o.success?n({title:"Bid Submitted Successfully",description:"Your token has been used and your bid is recorded"}):n({title:"Bid Submission Failed",description:o.errorMessage||"You may not have permission to bid on this opportunity",variant:"destructive"}),o}catch(o){const a=o instanceof Error?o.message:"Unexpected error";return t(c=>({...c,isSubmitting:!1,error:a})),n({title:"Bid Submission Error",description:a,variant:"destructive"}),{success:!1,errorMessage:a}}},[n]),s=m.useCallback(async i=>{t(o=>({...o,isWithdrawing:!0,error:null}));try{const o=await dL(i);return t(a=>({...a,isWithdrawing:!1,lastWithdrawResponse:o,error:o.success?null:o.errorMessage||"Bid withdrawal failed"})),o.success?n({title:"Bid Withdrawn Successfully",description:"Your bid has been withdrawn and your token has been restored"}):n({title:"Bid Withdrawal Failed",description:o.errorMessage||"Failed to withdraw your bid",variant:"destructive"}),o}catch(o){const a=o instanceof Error?o.message:"Unexpected error";return t(c=>({...c,isWithdrawing:!1,error:a})),n({title:"Bid Withdrawal Error",description:a,variant:"destructive"}),{success:!1,errorMessage:a}}},[n]);return{...e,submitBid:r,withdrawBid:s}},hL=({student:e,classConfig:t,onBidSubmitted:n,onBidWithdrawal:r})=>{const[s,i]=m.useState("opportunity-0"),[o,a]=m.useState(e),[c,u]=m.useState(!1),{isSubmitting:d,isWithdrawing:f,lastBidResponse:h,error:p,submitBid:y,withdrawBid:g}=fL(),b=t.bidOpportunities||[];m.useEffect(()=>{(async()=>{if(!(!(e!=null&&e.id)||!(t!=null&&t.id))){u(!0);try{const{data:_,error:N}=await q.from("users").select("*").eq("id",e.id).single(),{data:E,error:C}=await q.from("student_enrollments").select("*").eq("user_id",e.id).eq("class_id",t.id).single();if(E&&_&&!C&&!N){const O=E.token_status==="used",R={id:_.id,name:_.name,email:_.email,studentNumber:_.student_number,hasUsedToken:E.tokens_remaining<=0,hasBid:O,tokensRemaining:E.tokens_remaining,tokenStatus:E.token_status,biddingResult:E.bidding_result};console.log("=== ENHANCED BID CARD STATUS UPDATE ==="),console.log("Database enrollment:",E),console.log("Bidding result from enrollment:",E.bidding_result),console.log("Updated student for bid card:",R),a(R)}}catch(_){console.error("Error fetching student status in bid card:",_)}finally{u(!1)}}})();const S=q.channel(`student-enrollment-${e.id}-${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"student_enrollments",filter:`user_id=eq.${e.id}.and.class_id=eq.${t.id}`},_=>{console.log("=== BID CARD REAL-TIME UPDATE ==="),console.log("Payload:",_);const N=_.new,E={...e,hasUsedToken:N.tokens_remaining<=0,hasBid:N.token_status==="used",tokensRemaining:N.tokens_remaining,tokenStatus:N.token_status,biddingResult:N.bidding_result};a(E)}).subscribe();return()=>{q.removeChannel(S)}},[e.id,t.id]),m.useEffect(()=>{a(e)},[e]);const w=async x=>{var E;if(console.log("=== FRONTEND BID SUBMISSION STARTED ==="),console.log("Current student:",o),console.log("Opportunity ID:",x),console.log("Student has used token:",(o==null?void 0:o.hasUsedToken)===!0),!o||o.hasUsedToken===!0)return;const S=b.find(C=>C.id===x);if(!S){Hs.error("Opportunity not found");return}if(!Ho(S)){Hs.error("This opportunity is not currently open for bidding");return}if((E=S.bidders)==null?void 0:E.some(C=>C.id===o.id)){Hs.error("You have already placed a bid on this opportunity");return}const N=await y({userId:o.id,opportunityId:x});console.log("=== BID SUBMISSION RESPONSE ==="),console.log("Response:",N),N.success&&N.bidId&&N.updatedStudent?(console.log("=== BID SUBMISSION SUCCESSFUL ==="),console.log("Calling onBidSubmitted callback"),N.updatedStudent&&a(N.updatedStudent),setTimeout(()=>{console.log("=== TRIGGERING ADMIN DASHBOARD REFRESH ==="),window.dispatchEvent(new CustomEvent("bidSubmitted",{detail:{opportunityId:x,studentId:o.id}}))},500),n==null||n(N.bidId,N.updatedStudent||o,x)):(console.log("=== BID SUBMISSION FAILED ==="),console.log("Error:",N.errorMessage))},v=async x=>{var E;if(console.log("=== FRONTEND BID WITHDRAWAL STARTED ==="),console.log("Current student:",o),console.log("Opportunity ID:",x),!o)return;const S=b.find(C=>C.id===x);if(!S){Hs.error("Opportunity not found");return}if(!Ho(S)){Hs.error("Bid withdrawal is only allowed while bidding is still open");return}if(!((E=S.bidders)==null?void 0:E.some(C=>C.id===o.id))){Hs.error("No bid found to withdraw");return}const N=await g({userId:o.id,opportunityId:x});console.log("=== BID WITHDRAWAL RESPONSE ==="),console.log("Response:",N),N.success&&N.updatedStudent?(console.log("=== BID WITHDRAWAL SUCCESSFUL ==="),console.log("Calling onBidWithdrawal callback"),a(N.updatedStudent),setTimeout(()=>{console.log("=== TRIGGERING ADMIN DASHBOARD REFRESH ==="),window.dispatchEvent(new CustomEvent("bidWithdrawn",{detail:{opportunityId:x,studentId:o.id}}))},500),r==null||r(N.updatedStudent,x)):(console.log("=== BID WITHDRAWAL FAILED ==="),console.log("Error:",N.errorMessage))};return b.length===0?l.jsxs(Ee,{className:"w-full max-w-md",children:[l.jsxs($e,{children:[l.jsx(Fe,{className:"text-xl font-heading",children:t.rewardTitle}),l.jsx(Fs,{children:t.rewardDescription})]}),l.jsx(Ce,{children:l.jsx("p",{className:"text-center py-4",children:"No bid opportunities available at this time."})})]}):l.jsxs(Ee,{className:"w-full max-w-md",children:[l.jsx($e,{children:l.jsxs(Fe,{className:"text-xl font-heading flex items-center gap-2",children:[l.jsx(Ui,{className:"w-5 h-5"}),t.rewardTitle]})}),l.jsxs(Ce,{children:[t.isArchived&&l.jsxs(rn,{className:"mb-4",children:[l.jsx(lc,{className:"h-4 w-4"}),l.jsx(sn,{children:"This class has been archived. You can view your bid history and results, but cannot place new bids or make changes."})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"text-sm font-medium",children:"Your Token Status:"}),c?l.jsx(ae,{variant:"outline",className:"animate-pulse",children:"Loading..."}):(o==null?void 0:o.hasUsedToken)===!0||(o==null?void 0:o.tokenStatus)==="used"?l.jsx(ae,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Token Unavailable"}):l.jsx(ae,{className:"bg-green-100 text-green-800",children:"Token Available"})]}),l.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:(o==null?void 0:o.tokenStatus)==="used"||(o==null?void 0:o.hasUsedToken)===!0?l.jsx(ae,{variant:"secondary",className:"bg-red-100 text-red-800 animate-pulse",children:"Token Used"}):l.jsx(ae,{className:"bg-green-100 text-green-800",children:"Token Available"})}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["User: ",o==null?void 0:o.name," | Status: ",(o==null?void 0:o.tokenStatus)==="used"||(o==null?void 0:o.hasUsedToken)===!0?"Token Used":"Ready to Bid",(o==null?void 0:o.tokensRemaining)!==void 0&&l.jsxs("span",{children:[" | Tokens: ",o.tokensRemaining]}),(o==null?void 0:o.biddingResult)&&o.biddingResult!=="pending"&&l.jsxs("span",{children:[" | Result: ",o.biddingResult==="won"?"Selected":"Not Selected"]})]})]})]}),l.jsxs(pa,{value:s,onValueChange:i,className:"w-full",children:[l.jsx(Vi,{className:"grid grid-cols-5 mb-4",children:b.map((x,S)=>l.jsxs(Zt,{value:`opportunity-${S}`,children:["#",S+1]},x.id))}),b.map((x,S)=>{var C,O,R,H;const _=(C=x.bidders)==null?void 0:C.some(z=>z.id===(o==null?void 0:o.id));(O=x.selectedStudents)==null||O.some(z=>z.id===(o==null?void 0:o.id));const N=(R=x.bidders)==null?void 0:R.find(z=>z.id===(o==null?void 0:o.id)),E=(o==null?void 0:o.hasUsedToken)!==!0&&tr(x)==="Open for Bidding"&&!_;return l.jsx(en,{value:`opportunity-${S}`,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg",children:x.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:x.description})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Event Date:"}),l.jsx("span",{className:"font-medium",children:xn(x.date)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Bidding Opens:"}),l.jsx("span",{className:"font-medium text-green-600",children:x.bidOpenDate?xn(x.bidOpenDate):"Not specified"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Bidding Closes:"}),l.jsx("span",{className:"font-medium text-red-600",children:x.bidCloseDate?xn(x.bidCloseDate):"Not specified"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Status:"}),_?l.jsx("div",{className:"flex items-center gap-2",children:(N==null?void 0:N.bidStatus)==="auto_selected"?l.jsx(ae,{className:"bg-green-500 text-white",children:"🎉 Selected Automatically"}):o.biddingResult==="won"?l.jsx(ae,{className:"bg-green-500 text-white",children:"🎉 Selected"}):o.biddingResult==="lost"?l.jsx(ae,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Not Selected"}):l.jsx(ae,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"Pending Selection"})}):l.jsx(ae,{variant:"outline",className:"text-gray-400",children:"No Bid"})]}),l.jsx("div",{children:(()=>{const z=tr(x),M=z==="Open for Bidding"?"default":"secondary";return l.jsx(ae,{variant:M,children:z})})()}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Capacity:"}),l.jsxs(ae,{variant:"outline",children:[x.capacity||t.capacity," students"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Current Bids:"}),l.jsxs(ae,{variant:"outline",children:[((H=x.bidders)==null?void 0:H.length)||0," students"]})]}),((N==null?void 0:N.bidStatus)==="auto_selected"||(o==null?void 0:o.biddingResult)==="won")&&_&&l.jsxs(rn,{children:[l.jsx(Fx,{className:"h-4 w-4"}),l.jsx(sn,{children:(N==null?void 0:N.bidStatus)==="auto_selected"?"🎉 Congratulations! You have been automatically selected for this opportunity and your token has been refunded!":"🎉 Congratulations! You have been selected for this opportunity!"})]}),p&&l.jsxs(rn,{variant:"destructive",children:[l.jsx(lc,{className:"h-4 w-4"}),l.jsx(sn,{children:p})]}),l.jsx(oe,{className:"w-full mt-4",onClick:()=>w(x.id),disabled:!E||d||f||(e==null?void 0:e.tokenStatus)==="used"||t.isArchived,children:d?l.jsxs(l.Fragment,{children:[l.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting Bid..."]}):_?"Bid Already Submitted":t.isArchived?"Class Archived - View Only":(o==null?void 0:o.tokenStatus)==="used"||(o==null?void 0:o.hasUsedToken)===!0?"Token Unavailable":tr(x)!=="Open for Bidding"?"Bidding Not Open":"Use Token to Bid"}),_&&Ho(x)&&!t.isArchived&&l.jsx(oe,{variant:"outline",className:"w-full mt-2",onClick:()=>v(x.id),disabled:d||f,children:f?l.jsxs(l.Fragment,{children:[l.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Withdrawing Bid..."]}):l.jsxs(l.Fragment,{children:[l.jsx(AN,{className:"w-4 h-4 mr-2"}),"Withdraw Bid Submission"]})})]})},x.id)})]})]})]})},mL=({classes:e,currentClass:t,onSelectClass:n,isCollapsed:r=!1,currentStudent:s})=>{const[i,o]=m.useState(null);return l.jsx("div",{className:se("fixed left-0 top-16 h-[calc(100vh-64px)] bg-white border-r border-gray-200 shadow-sm transition-all duration-300 z-40",r?"w-16":"w-80"),children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsx("div",{className:"flex items-center justify-between",children:!r&&l.jsx("h2",{className:"text-lg font-heading font-semibold text-gray-900",children:"My Classes"})})}),l.jsx(Am,{className:"flex-1 p-2",children:l.jsx("div",{className:"space-y-2",children:e.length===0?l.jsx("div",{className:se("text-center py-8",r&&"px-2"),children:r?l.jsx(oc,{className:"w-6 h-6 mx-auto text-gray-400"}):l.jsxs(l.Fragment,{children:[l.jsx(oc,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No classes enrolled"}),l.jsx("p",{className:"text-xs text-gray-400",children:"Contact your instructor to get enrolled"})]})}):e.map(a=>{var h,p,y;const c=((h=a.bidOpportunities)==null?void 0:h.length)||0,u=((p=a.bidOpportunities)==null?void 0:p.filter(g=>Ho(g)).length)||0,d=a.students.find(g=>g.id===(s==null?void 0:s.id)),f=(d==null?void 0:d.hasUsedToken)===!0||(d==null?void 0:d.tokenStatus)==="used";return l.jsx(Ee,{className:se("cursor-pointer transition-all duration-200 hover:shadow-md",(t==null?void 0:t.id)===a.id?"border-academy-blue bg-academy-blue/5 shadow-sm":"border-gray-200 hover:border-gray-300",r&&"p-2"),onClick:()=>n(a.id),onMouseEnter:()=>o(a.id),onMouseLeave:()=>o(null),children:r?l.jsx("div",{className:"flex items-center justify-center p-2",children:l.jsx("div",{className:"w-8 h-8 rounded-full bg-academy-blue/10 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-semibold text-academy-blue",children:a.className.charAt(0).toUpperCase()})})}):l.jsxs(l.Fragment,{children:[l.jsxs($e,{className:"pb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Fe,{className:"text-base font-semibold text-gray-900 truncate",children:[a.className,a.isArchived&&l.jsx(ae,{variant:"secondary",className:"ml-2 text-xs",children:"Archived"})]}),(t==null?void 0:t.id)===a.id&&l.jsx(tm,{className:"w-4 h-4 text-academy-blue"})]}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:a.rewardTitle})]}),l.jsx(Ce,{className:"pt-0",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Lx,{className:"w-3 h-3 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Opportunities"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ae,{variant:"outline",className:"text-xs px-1 py-0",children:c}),u>0&&l.jsxs(ae,{className:"text-xs px-1 py-0 bg-green-500",children:[u," open"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ui,{className:"w-3 h-3 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Token"})]}),l.jsx(ae,{variant:f?"secondary":"default",className:`text-xs px-1 py-0 ${f?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:f?"Used":"Available"})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(zi,{className:"w-3 h-3 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Students"})]}),l.jsx(ae,{variant:"outline",className:"text-xs px-1 py-0",children:((y=a.students)==null?void 0:y.length)||0})]})]})})]})},a.id)})})}),!r&&l.jsx("div",{className:"p-4 border-t border-gray-100",children:l.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[e.length," ",e.length===1?"class":"classes"," enrolled"]})})]})})};async function $v(e,t){try{const{data:n,error:r}=await q.from("opportunities").select("*").eq("id",e).maybeSingle();if(r||!n)return console.error("Error fetching opportunity:",r),null;const{data:s}=await q.from("bids").select(`
        id,
        user_id,
        bid_amount,
        is_winner,
        bid_status,
        submission_timestamp,
        users!inner(id, name, email, student_number)
      `).eq("opportunity_id",e),{data:i}=await q.from("student_enrollments").select("*").eq("class_id",t),o=(s||[]).map(u=>{const d=i==null?void 0:i.find(f=>f.user_id===u.user_id);return{id:u.users.id,name:u.users.name,email:u.users.email,studentNumber:u.users.student_number||"",hasUsedToken:d?d.tokens_remaining<=0:!1,hasBid:!0,tokensRemaining:(d==null?void 0:d.tokens_remaining)||0,tokenStatus:(d==null?void 0:d.token_status)||"unused",biddingResult:(d==null?void 0:d.bidding_result)||"pending",bidStatus:u.bid_status}}),{data:a}=await q.from("bids").select(`
        id,
        user_id,
        users!inner(id, name, email, student_number)
      `).eq("opportunity_id",e).eq("is_winner",!0),c=(a||[]).map(u=>{const d=i==null?void 0:i.find(f=>f.user_id===u.user_id);return{id:u.users.id,name:u.users.name,email:u.users.email,studentNumber:u.users.student_number||"",hasUsedToken:d?d.tokens_remaining<=0:!1,hasBid:!0,tokensRemaining:(d==null?void 0:d.tokens_remaining)||0,tokenStatus:(d==null?void 0:d.token_status)||"unused",biddingResult:(d==null?void 0:d.bidding_result)||"pending"}});return{id:n.id,title:n.title,description:n.description,date:n.date,capacity:n.capacity,biddingStartTime:n.bidding_start_time,biddingEndTime:n.bidding_end_time,bidders:o,selectedStudents:c}}catch(n){return console.error("Error fetching opportunity with bidders:",n),null}}function pL(e,t){const n=q.channel(`opportunities-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"opportunities",filter:`class_id=eq.${e}`},async r=>{console.log("=== NEW OPPORTUNITY CREATED ===",r);const s=await $v(r.new.id,e);s&&t({type:"INSERT",opportunity:s})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"opportunities",filter:`class_id=eq.${e}`},async r=>{console.log("=== OPPORTUNITY UPDATED ===",r);const s=await $v(r.new.id,e);s&&t({type:"UPDATE",opportunity:s})}).on("postgres_changes",{event:"DELETE",schema:"public",table:"opportunities",filter:`class_id=eq.${e}`},r=>{console.log("=== OPPORTUNITY DELETED ===",r),t({type:"DELETE",opportunityId:r.old.id})}).subscribe();return()=>{q.removeChannel(n)}}function gL(e,t){const n=q.channel(`class-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"classes",filter:`id=eq.${e}`},r=>{console.log("=== CLASS UPDATED ===",r),t({classId:r.new.id,updates:{className:r.new.name,capacity:r.new.capacity,isArchived:r.new.is_archived}})}).subscribe();return()=>{q.removeChannel(n)}}function vL(e,t){const n=q.channel(`bids-${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"bids"},async r=>{const{data:s}=await q.from("opportunities").select("id, class_id").eq("id",r.new.opportunity_id).maybeSingle();if(s&&s.class_id===e){console.log("=== BID PLACED ===",r);const{count:i}=await q.from("bids").select("*",{count:"exact",head:!0}).eq("opportunity_id",r.new.opportunity_id);t({opportunityId:r.new.opportunity_id,totalBidders:i||0})}}).on("postgres_changes",{event:"DELETE",schema:"public",table:"bids"},async r=>{const{data:s}=await q.from("opportunities").select("id, class_id").eq("id",r.old.opportunity_id).maybeSingle();if(s&&s.class_id===e){console.log("=== BID WITHDRAWN ===",r);const{count:i}=await q.from("bids").select("*",{count:"exact",head:!0}).eq("opportunity_id",r.old.opportunity_id);t({opportunityId:r.old.opportunity_id,totalBidders:i||0})}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"bids"},async r=>{const{data:s}=await q.from("opportunities").select("id, class_id").eq("id",r.new.opportunity_id).maybeSingle();if(s&&s.class_id===e){console.log("=== BID UPDATED ===",r);const{count:i}=await q.from("bids").select("*",{count:"exact",head:!0}).eq("opportunity_id",r.new.opportunity_id);t({opportunityId:r.new.opportunity_id,totalBidders:i||0})}}).subscribe();return()=>{q.removeChannel(n)}}function yL(e,t,n){const r=q.channel(`enrollment-deletion-${e}-${t}`).on("postgres_changes",{event:"DELETE",schema:"public",table:"student_enrollments",filter:`user_id=eq.${e}`},s=>{s.old.class_id===t&&(console.log("=== ENROLLMENT DELETED ===",s),n())}).subscribe();return()=>{q.removeChannel(r)}}function xL(e,t,n){const r=q.channel(`user-enrollment-${e}-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"student_enrollments",filter:`user_id=eq.${e}`},async s=>{if(s.new.class_id!==t)return;const i=s.new,{data:o}=await q.from("users").select("*").eq("id",e).single(),{data:a}=await q.from("bids").select(`
            id,
            opportunity_id,
            is_winner,
            bid_status,
            opportunities!inner(class_id)
          `).eq("user_id",e).eq("opportunities.class_id",t);if(o){const c=i.bidding_result,u={id:o.id,name:o.name,email:o.email,studentNumber:o.student_number||"",hasUsedToken:i.tokens_remaining<=0,hasBid:a&&a.length>0||i.token_status==="used",tokensRemaining:i.tokens_remaining,tokenStatus:i.token_status,biddingResult:c};n(u)}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"users",filter:`id=eq.${e}`},async s=>{const i=s.new,{data:o}=await q.from("student_enrollments").select("*").eq("user_id",e).eq("class_id",t).single();if(await q.from("bids").select(`
            id,
            opportunity_id,
            is_winner,
            bid_status,
            opportunities!inner(class_id)
          `).eq("user_id",e).eq("opportunities.class_id",t),o){const a=o.token_status==="used",c={id:i.id,name:i.name,email:i.email,studentNumber:i.student_number||"",hasUsedToken:o.tokens_remaining<=0,hasBid:a,tokensRemaining:o.tokens_remaining,tokenStatus:o.token_status,biddingResult:o.bidding_result};n(c)}}).subscribe();return()=>{q.removeChannel(r)}}const GS=({onBidSubmitted:e,onBidWithdrawal:t}={})=>{var C,O,R,H,z,M,I,K;const{toast:n}=vt(),r=ru(),s=nu(),i=((C=s.state)==null?void 0:C.student)||null,o=((O=s.state)==null?void 0:O.enrolledClassIds)||[],[a,c]=m.useState(i),[u,d]=m.useState([]),[f,h]=m.useState(null),[p,y]=m.useState(!1),[g,b]=m.useState(!0),[w,v]=m.useState(!1);m.useEffect(()=>{(async()=>{var k;if(!i||o.length===0){console.log("No student or enrolled classes found"),b(!1);return}try{b(!0);const{data:j,error:D}=await q.from("student_enrollments").select("*").eq("user_id",i.id);if(D||!j||j.length===0){console.log("=== ENROLLMENT VERIFICATION FAILED ==="),n({title:"Access Denied",description:"You are no longer enrolled in any classes. Redirecting to login...",variant:"destructive",duration:5e3}),setTimeout(()=>{r("/",{replace:!0})},2e3),b(!1);return}const L=j.map(ee=>ee.class_id),X=(await Xn()).filter(ee=>L.includes(ee.id));if(X.length===0){n({title:"No classes found",description:"Your enrolled classes could not be loaded. Redirecting to login...",variant:"destructive"}),setTimeout(()=>{r("/",{replace:!0})},2e3),b(!1);return}const G=X.map(ee=>{var F;const Z=(F=i.enrollments)==null?void 0:F.find(V=>V.classId===ee.id),A=ee.students.find(V=>V.id===i.id);if(A&&Z){const V={...A,hasUsedToken:Z.tokensRemaining<=0,hasBid:Z.tokenStatus==="used",tokensRemaining:Z.tokensRemaining,tokenStatus:Z.tokenStatus,biddingResult:Z.biddingResult};return{...ee,students:ee.students.map($=>$.id===i.id?V:$)}}return ee});d(G),h(G[0]);const P=(k=i.enrollments)==null?void 0:k[0];P&&c({...i,hasUsedToken:P.tokensRemaining<=0,hasBid:P.tokenStatus==="used",tokensRemaining:P.tokensRemaining,tokenStatus:P.tokenStatus,biddingResult:P.biddingResult})}catch(j){console.error("Error loading classes:",j),n({title:"Error loading data",description:"Failed to load class information",variant:"destructive"})}finally{b(!1)}})()},[i,o,n,r]),m.useEffect(()=>{if(!(a!=null&&a.id)||!(f!=null&&f.id)){console.log("Skipping real-time subscription setup: student or currentClass not ready.");return}console.log("=== SETTING UP REAL-TIME SUBSCRIPTIONS ==="),console.log("Student ID:",a.id,"Class ID:",f.id);let T=null;(async()=>{v(!0);try{const{data:P,error:ee}=await q.from("users").select("*").eq("id",a.id).single(),{data:Z,error:A}=await q.from("student_enrollments").select("*").eq("user_id",a.id).eq("class_id",f.id).single();if(Z&&P&&!A&&!ee){const F=Z.token_status==="used",V={id:P.id,name:P.name,email:P.email,studentNumber:P.student_number,hasUsedToken:Z.tokens_remaining<=0,hasBid:F,tokensRemaining:Z.tokens_remaining,tokenStatus:Z.token_status,biddingResult:Z.bidding_result};console.log("=== INITIAL STATUS FETCH ==="),console.log("Database enrollment:",Z),console.log("Bidding result from enrollment table:",Z.bidding_result),console.log("Updated student:",V),c(V),h($=>$&&{...$,students:$.students.map(Q=>Q.id===V.id?V:Q)})}}catch(P){console.error("Error fetching initial status:",P)}finally{v(!1)}})();const j=pL(f.id,P=>{console.log("=== OPPORTUNITY CHANGE RECEIVED ===",P),h(ee=>{if(!ee)return ee;let Z=[...ee.bidOpportunities];if(P.type==="INSERT"&&P.opportunity)Z.push(P.opportunity),n({title:"New Opportunity Available",description:`${P.opportunity.title} has been added`});else if(P.type==="UPDATE"&&P.opportunity)Z=Z.map(A=>A.id===P.opportunity.id?P.opportunity:A);else if(P.type==="DELETE"&&P.opportunityId){const A=Z.find(F=>F.id===P.opportunityId);Z=Z.filter(F=>F.id!==P.opportunityId),A&&n({title:"Opportunity Removed",description:`${A.title} has been removed`,variant:"destructive"})}return{...ee,bidOpportunities:Z}}),d(ee=>ee.map(Z=>{if(Z.id===f.id){let A=[...Z.bidOpportunities];return P.type==="INSERT"&&P.opportunity?A.push(P.opportunity):P.type==="UPDATE"&&P.opportunity?A=A.map(F=>F.id===P.opportunity.id?P.opportunity:F):P.type==="DELETE"&&P.opportunityId&&(A=A.filter(F=>F.id!==P.opportunityId)),{...Z,bidOpportunities:A}}return Z}))}),D=gL(f.id,P=>{console.log("=== CLASS CHANGE RECEIVED ===",P),h(ee=>ee&&{...ee,...P.updates}),d(ee=>ee.map(Z=>Z.id===P.classId?{...Z,...P.updates}:Z))}),L=vL(f.id,P=>{console.log("=== BID ACTIVITY RECEIVED ===",P),h(ee=>{if(!ee)return ee;const Z=ee.bidOpportunities.map(A=>A.id===P.opportunityId?{...A,bidders:A.bidders}:A);return{...ee,bidOpportunities:Z}})}),W=yL(a.id,f.id,()=>{console.log("=== STUDENT REMOVED FROM CLASS ==="),n({title:"Access Revoked",description:"You have been removed from this class. Redirecting to login...",variant:"destructive",duration:5e3}),setTimeout(()=>{r("/",{replace:!0})},3e3)});T=setInterval(async()=>{try{const{data:P,error:ee}=await q.from("student_enrollments").select("*").eq("user_id",a.id).eq("class_id",f.id).maybeSingle();(ee||!P)&&(console.log("=== ENROLLMENT NO LONGER EXISTS ==="),n({title:"Access Revoked",description:"You are no longer enrolled in this class. Redirecting to login...",variant:"destructive",duration:5e3}),setTimeout(()=>{r("/",{replace:!0})},3e3))}catch(P){console.error("Error verifying enrollment:",P)}},3e4);const G=xL(a.id,f.id,async P=>{console.log("=== REAL-TIME UPDATE RECEIVED ==="),console.log("Updated student data:",P),console.log("Bidding result from real-time update:",P.biddingResult),console.log("Token status:",P.tokenStatus),console.log("Tokens remaining:",P.tokensRemaining),P.hasBid=P.tokenStatus==="used";const ee=a,Z=(ee==null?void 0:ee.tokenStatus)!==P.tokenStatus,A=(ee==null?void 0:ee.biddingResult)!==P.biddingResult;if(console.log("=== BIDDING RESULT COMPARISON ==="),console.log("Previous bidding result:",ee==null?void 0:ee.biddingResult),console.log("New bidding result:",P.biddingResult),console.log("Bidding result changed:",A),console.log("=== UPDATING STUDENT STATE ==="),c(P),h(F=>{if(!F)return F;const V=F.bidOpportunities.map($=>{let Q=[...$.selectedStudents];$.bidders.some(le=>le.id===P.id)&&(P.biddingResult==="won"?Q.some(le=>le.id===P.id)||Q.push(P):(P.biddingResult==="lost"||P.biddingResult==="pending")&&(Q=Q.filter(le=>le.id!==P.id)));const we=$.bidders.map(le=>le.id===P.id?P:le);return{...$,selectedStudents:Q,bidders:we}});return{...F,students:F.students.map($=>$.id===P.id?P:$),bidders:F.bidders.map($=>$.id===P.id?P:$),selectedStudents:F.selectedStudents.map($=>$.id===P.id?P:$),bidOpportunities:V}}),d(F=>F.map(V=>V.id===f.id?{...V,students:V.students.map($=>$.id===P.id?P:$),bidders:V.bidders.map($=>$.id===P.id?P:$),selectedStudents:V.selectedStudents.map($=>$.id===P.id?P:$),bidOpportunities:V.bidOpportunities.map($=>{let Q=[...$.selectedStudents];$.bidders.some(le=>le.id===P.id)&&(P.biddingResult==="won"?Q.some(le=>le.id===P.id)||Q.push(P):(P.biddingResult==="lost"||P.biddingResult==="pending")&&(Q=Q.filter(le=>le.id!==P.id)));const we=$.bidders.map(le=>le.id===P.id?P:le);return{...$,selectedStudents:Q,bidders:we}})}:V)),Z&&P.tokenStatus==="used"&&n({title:"Token Status Updated",description:"Your token has been used for bidding. You can now see your bid status."}),A&&P.biddingResult!=="pending"){console.log("=== BIDDING RESULT CHANGED ==="),console.log("Previous result:",ee==null?void 0:ee.biddingResult),console.log("New result:",P.biddingResult);const F=P.biddingResult==="won"?"🎉 Congratulations! You have been selected for the opportunity!":"Unfortunately, you were not selected this time. Better luck next time!";n({title:"Bidding Result Updated",description:F,duration:P.biddingResult==="won"?1e4:5e3})}});return()=>{j(),D(),L(),G(),W(),T&&clearInterval(T)}},[a==null?void 0:a.id,f==null?void 0:f.id,n,r]);const x=T=>{const k=u.find(j=>j.id===T);k&&h(k)};if(g)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Ye,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-academy-blue"}),l.jsx("h2",{className:"text-xl font-heading font-semibold mb-2",children:"Loading your classes..."}),l.jsx("p",{className:"text-muted-foreground",children:"Please wait while we fetch your data"})]})});if(!a||u.length===0)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold mb-6",children:"Student Dashboard"}),l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Please log in to view your dashboard"}),l.jsx("div",{className:"flex justify-center",children:l.jsx(oe,{onClick:()=>r("/"),children:"Back to Login"})})]})});const S=(T,k,j)=>{if(c(k),f){const D={...f,students:f.students.map(L=>L.id===k.id?k:L),bidders:f.bidders.some(L=>L.id===k.id)?f.bidders.map(L=>L.id===k.id?k:L):[...f.bidders,k],bidOpportunities:f.bidOpportunities.map(L=>{if(L.id===j){const W=L.bidders.some(X=>X.id===k.id)?L.bidders.map(X=>X.id===k.id?k:X):[...L.bidders,k];return{...L,bidders:W}}return L})};h(D),d(L=>L.map(W=>W.id===f.id?D:W))}e&&e(T,k,j),n({title:"Bid placed successfully",description:"You have placed a bid for the opportunity."})},_=(T,k)=>{if(c(T),f){const j={...f,students:f.students.map(D=>D.id===T.id?T:D),bidders:f.bidders.filter(D=>D.id!==T.id),bidOpportunities:f.bidOpportunities.map(D=>D.id===k?{...D,bidders:D.bidders.filter(L=>L.id!==T.id),selectedStudents:D.selectedStudents.filter(L=>L.id!==T.id)}:D)};h(j),d(D=>D.map(L=>L.id===f.id?j:L))}t&&t(T,k),n({title:"Bid withdrawn successfully",description:"Your bid has been withdrawn and your token has been restored."})},N=()=>{r("/")},E=(R=f==null?void 0:f.bidOpportunities)==null?void 0:R.find(T=>T.bidders&&T.bidders.some(k=>k.id===a.id));return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white border-b relative z-50",children:l.jsxs("div",{className:"container mx-auto p-4 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>y(!p),className:"md:hidden",children:p?l.jsx(Ux,{className:"w-5 h-5"}):l.jsx(Hc,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-2xl font-heading font-bold text-academy-blue mb-4 md:mb-0",children:"Student Dashboard"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",a.name]}),l.jsxs(Ls,{children:[l.jsx($b,{asChild:!0,children:l.jsx(oe,{variant:"ghost",size:"icon",title:"Help",children:l.jsx(Bx,{className:"w-5 h-5"})})}),l.jsx(Jr,{children:l.jsxs(Xr,{children:[l.jsx($s,{children:"Technical Support"}),l.jsxs(Zr,{children:["If you have any technical problems, please contact Alice at:",l.jsx("a",{href:"mailto:zcahkwn@ucl.ac.uk",className:"block mt-2 text-blue-600 hover:underline font-medium",children:"zcahkwn@ucl.ac.uk"})]})]})})]}),l.jsx(oe,{variant:"outline",onClick:N,children:"Logout"})]})]})}),l.jsx(mL,{classes:u,currentClass:f,onSelectClass:x,isCollapsed:p,currentStudent:a}),l.jsx("main",{className:`min-h-[calc(100vh-64px)] transition-all duration-300 ${p?"ml-16":"ml-80"}`,children:l.jsx("div",{className:"container mx-auto p-4 max-w-6xl",children:f?l.jsxs(pa,{defaultValue:"overview",className:"space-y-6",children:[l.jsxs(Vi,{className:"grid grid-cols-3 mb-6",children:[l.jsx(Zt,{value:"overview",children:"Overview"}),l.jsx(Zt,{value:"opportunities",children:"Opportunities"}),l.jsx(Zt,{value:"profile",children:"Profile"})]}),l.jsx(en,{value:"overview",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Ee,{children:[l.jsxs($e,{children:[l.jsx(Fe,{className:"text-xl font-heading",children:f.className}),f.isArchived&&l.jsx(ae,{variant:"secondary",className:"w-fit mt-2",children:"Archived (View-only)"})]}),l.jsx(Ce,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-gray-700",children:((H=f.students)==null?void 0:H.length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Students"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-academy-blue",children:((z=f.bidOpportunities)==null?void 0:z.length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Opportunities"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:((M=f.bidOpportunities)==null?void 0:M.filter(T=>Ho(T)).length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Open for Bidding"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.tokenStatus)==="used"||(a==null?void 0:a.hasUsedToken)===!0?l.jsx("span",{className:"text-red-600",children:"0"}):l.jsx("span",{className:"text-green-600",children:"1"})}),l.jsx("div",{className:"text-sm text-gray-600",children:"Tokens Available"})]})]})})]}),l.jsxs(Ee,{children:[l.jsx($e,{children:l.jsxs(Fe,{className:"text-lg font-heading flex items-center gap-2",children:[l.jsx(Ui,{className:"w-5 h-5"}),"Token Status"]})}),l.jsxs(Ce,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Your bidding token:"}),(a==null?void 0:a.tokenStatus)==="used"||(a==null?void 0:a.hasUsedToken)===!0?l.jsx(ae,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Token Used"}):l.jsx(ae,{className:"bg-academy-blue animate-pulse",children:"Token Available"})]}),E&&(a==null?void 0:a.biddingResult)&&l.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[l.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[l.jsx(Nf,{className:"w-4 h-4"}),"Your Bid Status"]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[l.jsx("div",{className:"font-medium",children:"Event"}),l.jsx("div",{className:"font-medium",children:"Status"}),l.jsx("div",{className:"font-medium",children:"Result"}),l.jsx("div",{children:E.title}),l.jsx("div",{children:l.jsx(ae,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800",children:"Bid Submitted"})}),l.jsx("div",{children:(()=>{var k;const T=(k=E==null?void 0:E.bidders)==null?void 0:k.find(j=>j.id===a.id);return(T==null?void 0:T.bidStatus)==="auto_selected"?l.jsx(ae,{variant:"default",className:"bg-green-500 text-white text-xs animate-bounce",children:"🎉 Selected Automatically"}):a.biddingResult==="won"?l.jsx(ae,{variant:"default",className:"bg-green-500 text-white text-xs animate-bounce",children:"🎉 Selected"}):a.biddingResult==="lost"?l.jsx(ae,{variant:"secondary",className:"bg-red-100 text-red-800 text-xs",children:"Not Selected"}):l.jsx(ae,{variant:"outline",className:"bg-yellow-100 text-yellow-800 text-xs animate-pulse",children:"Pending Selection"})})()})]}),l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:l.jsxs("div",{className:"text-xs text-gray-600",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Token Status:"}),l.jsx("span",{className:a.tokenStatus==="used"?"text-red-600 font-medium":"text-green-600 font-medium",children:a.tokenStatus==="used"?"Used":"Available"})]}),a.tokensRemaining!==void 0&&l.jsxs("div",{className:"flex justify-between mt-1",children:[l.jsx("span",{children:"Tokens Remaining:"}),l.jsx("span",{className:"font-medium",children:a.tokensRemaining})]}),(()=>{var k;const T=(k=E==null?void 0:E.bidders)==null?void 0:k.find(j=>j.id===a.id);return(T==null?void 0:T.bidStatus)==="selected automatically"?l.jsxs("div",{className:"flex justify-between mt-1",children:[l.jsx("span",{children:"Selection Type:"}),l.jsx("span",{className:"font-medium text-green-600",children:"Automatic (Token Refunded)"})]}):null})()]})})]})]})]}),l.jsxs(Ee,{children:[l.jsx($e,{children:l.jsxs(Fe,{className:"text-lg font-heading flex items-center gap-2",children:[l.jsx(Lx,{className:"w-5 h-5"}),"Recent Opportunities"]})}),l.jsx(Ce,{children:l.jsx("div",{className:"space-y-3 max-h-72 overflow-y-auto",children:((I=f.bidOpportunities)==null?void 0:I.slice(0,5).map(T=>l.jsxs("div",{className:"p-3 border rounded-md flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:T.title}),l.jsx("div",{className:"text-sm text-muted-foreground",children:xn(T.date)})]}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx(ae,{variant:tr(T)==="Open for Bidding"?"default":"secondary",className:"mb-1",children:tr(T)}),T.bidders&&T.bidders.some(k=>k.id===a.id)&&l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("span",{className:"text-xs text-academy-blue font-medium",children:"✓ Bid Submitted"}),(()=>{var j;const k=(j=T.bidders)==null?void 0:j.find(D=>D.id===a.id);return(k==null?void 0:k.bidStatus)==="auto_selected"?l.jsx(ae,{className:"text-xs bg-green-500 text-white",children:"🎉 Selected Automatically"}):a.biddingResult&&a.biddingResult!=="pending"?l.jsx(ae,{variant:a.biddingResult==="won"?"default":"secondary",className:`text-xs ${a.biddingResult==="won"?"bg-green-500 text-white":"bg-red-100 text-red-800"}`,children:a.biddingResult==="won"?"🎉 Selected":"Not Selected"}):null})()]})]})]},T.id)))||l.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No opportunities available yet"})})})]})]})}),l.jsx(en,{value:"opportunities",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(hL,{student:a,classConfig:f,onBidSubmitted:S,onBidWithdrawal:_}),l.jsxs(Ee,{className:"h-full",children:[l.jsxs($e,{children:[l.jsx(Fe,{className:"text-lg font-heading",children:"All Opportunities"}),l.jsx(Fs,{children:"Complete list of bidding opportunities for this class"})]}),l.jsx(Ce,{children:l.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:((K=f.bidOpportunities)==null?void 0:K.map(T=>l.jsxs("div",{className:"p-4 border rounded-md",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"font-medium",children:T.title}),l.jsx(ae,{variant:tr(T)==="Open for Bidding"?"default":"secondary",children:tr(T)})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:T.description}),l.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[l.jsxs("span",{children:["Event: ",xn(T.date)]}),l.jsxs("span",{children:["Capacity: ",T.capacity||f.capacity," students"]})]}),T.bidders&&T.bidders.some(k=>k.id===a.id)&&l.jsx("div",{className:"mt-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ae,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800",children:"Bid Submitted"}),(()=>{var j;const k=(j=T.bidders)==null?void 0:j.find(D=>D.id===a.id);return(k==null?void 0:k.bidStatus)==="auto_selected"?l.jsx(ae,{className:"text-xs bg-green-500 text-white",children:"🎉 Selected Automatically"}):a.biddingResult&&a.biddingResult!=="pending"?l.jsx(ae,{variant:a.biddingResult==="won"?"default":"secondary",className:`text-xs ${a.biddingResult==="won"?"bg-green-500 text-white":"bg-red-100 text-red-800"}`,children:a.biddingResult==="won"?"🎉 Selected":"Not Selected"}):null})()]})})]},T.id)))||l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No opportunities available yet"})})})]})]})}),l.jsx(en,{value:"profile",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(Ee,{children:[l.jsx($e,{children:l.jsx(Fe,{className:"text-lg font-heading",children:"Your Information"})}),l.jsx(Ce,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Name:"}),l.jsx("div",{className:"col-span-2 font-medium",children:a.name})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Email:"}),l.jsx("div",{className:"col-span-2",children:a.email})]}),a.studentNumber&&l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Student Number:"}),l.jsx("div",{className:"col-span-2",children:a.studentNumber})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Classes Enrolled:"}),l.jsx("div",{className:"col-span-2",children:u.length})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Token Status:"}),l.jsx("div",{className:"col-span-2",children:l.jsx(ae,{variant:(a==null?void 0:a.tokenStatus)==="used"?"secondary":"default",className:`text-xs ${(a==null?void 0:a.tokenStatus)==="used"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:(a==null?void 0:a.tokenStatus)==="used"?"Token Used":"Token Available"})})]})]})})]}),l.jsxs(Ee,{children:[l.jsx($e,{children:l.jsx(Fe,{className:"text-lg font-heading",children:"Class Summary"})}),l.jsx(Ce,{children:l.jsx("div",{className:"space-y-4",children:u.map(T=>{var j,D;const k=T.students.find(L=>L.id===a.id);return l.jsxs("div",{className:"p-3 border rounded-md",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"font-medium",children:T.className}),l.jsx(ae,{variant:(k==null?void 0:k.tokenStatus)==="used"||(k==null?void 0:k.hasUsedToken)===!0?"secondary":"default",children:(k==null?void 0:k.tokenStatus)==="used"||(k==null?void 0:k.hasUsedToken)===!0?"Token Used":"Token Available"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[((j=T.bidOpportunities)==null?void 0:j.length)||0," opportunities •",((D=T.bidders)==null?void 0:D.filter(L=>L.id===a.id).length)||0," bids placed",void 0]})]},T.id)})})})]})]})})]}):l.jsx(Ee,{children:l.jsxs(Ce,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-xl mb-4",children:"No Class Selected"}),l.jsx("p",{className:"text-muted-foreground",children:"Select a class from the sidebar to view its details and opportunities."})]})})})})]})};function wL(){const[e,t]=m.useState(!1),[n,r]=m.useState(!1),[s,i]=m.useState(null),[o,a]=m.useState(null),[c,u]=m.useState([]),[d,f]=m.useState([]),[h,p]=m.useState(!1),[y,g]=m.useState("dashboard"),[b,w]=m.useState(!0),[v,x]=m.useState(!1),[S,_]=m.useState(!1),[N,E]=m.useState(""),[C,O]=m.useState(!1),{toast:R}=vt();m.useEffect(()=>{localStorage.getItem("adminSession")==="true"&&t(!0)},[]),m.useEffect(()=>{(async()=>{try{w(!0);const F=await Xn(!1),V=await Xn(!0);u(F),f(V);const $=localStorage.getItem("currentClassId");if($){const Q=F.find(te=>te.id===$)||V.find(te=>te.id===$);Q?a(Q):localStorage.removeItem("currentClassId")}else F.length>0&&a(F[0])}catch(F){console.error("Error loading classes:",F);try{console.log("Attempting to load from localStorage as fallback");const V=localStorage.getItem("classData");if(V){const $=JSON.parse(V),Q=$.filter(le=>!le.isArchived),te=$.filter(le=>le.isArchived);u(Q),f(te);const we=localStorage.getItem("currentClassId");if(we){const le=$.find(Je=>Je.id===we);le&&a(le)}else Q.length>0&&a(Q[0]);R({title:"Working offline",description:"Using locally stored data. Some features may be limited.",variant:"default"})}else R({title:"No data available",description:"Please ensure Supabase is configured or create a new class to get started.",variant:"destructive"})}catch(V){console.error("Error loading from localStorage:",V),R({title:"Error loading data",description:"Failed to load classes from database and local storage. Please check your connection.",variant:"destructive"})}}finally{w(!1)}})()},[R]),m.useEffect(()=>{o?localStorage.setItem("currentClassId",o.id):localStorage.removeItem("currentClassId")},[o]);const H=A=>{A&&(t(!0),localStorage.setItem("adminSession","true"))},z=()=>{t(!1),r(!1),i(null),a(null),localStorage.removeItem("adminSession")},M=A=>{const F=c.find(V=>V.id===A)||d.find(V=>V.id===A);F&&a(F)},I=A=>{p(A),A?d.length>0?a(d[0]):a(null):c.length>0?a(c[0]):a(null)},K=()=>{_(!0)},T=async()=>{if(!N){R({title:"Missing information",description:"Please provide a class name",variant:"destructive"});return}O(!0);try{const A=await GM({name:N,rewardTitle:"Bidding Opportunities",capacity:7}),F=[...c,A];u(F),a(A),_(!1),E("");const V=[...F,...d];localStorage.setItem("classData",JSON.stringify(V)),R({title:"Class created successfully",description:`Class "${N}" has been created and saved to the database`})}catch(A){console.error("Error creating class:",A),R({title:"Failed to create class",description:A instanceof Error?A.message:"An unexpected error occurred",variant:"destructive"})}finally{O(!1)}},k=A=>{if(!o)return;const F={...o,students:A},V=c.map($=>$.id===o.id?F:$);u(V),a(F),localStorage.setItem("classData",JSON.stringify(V))},j=async(A,F)=>{if(o)try{const V=await Xn();u(V);const $=V.find(Q=>Q.id===o.id);$&&a($),localStorage.setItem("classData",JSON.stringify(V)),A.length>0?R({title:"Selection saved",description:`${A.length} student${A.length!==1?"s have":" has"} been selected and results are now visible to students.`}):R({title:"Selection reset",description:"All selections have been cleared and student results reset."})}catch(V){console.error("Error refreshing classes after selection:",V),R({title:"Error updating display",description:"Selection was processed but failed to refresh display. Please refresh the page.",variant:"destructive"})}},D=async(A,F)=>{if(!o)return;const V=o.bidOpportunities.map(te=>te.id===A?F:te),$={...o,bidOpportunities:V},Q=c.map(te=>te.id===o.id?$:te);u(Q),a($),localStorage.setItem("classData",JSON.stringify(Q))},L=A=>{if(!o)return;const F={...o,bidOpportunities:[...o.bidOpportunities,A]},V=c.map($=>$.id===o.id?F:$);u(V),a(F),localStorage.setItem("classData",JSON.stringify(V))},W=A=>{if(!o)return;const F=o.bidOpportunities.filter(Q=>Q.id!==A),V={...o,bidOpportunities:F},$=c.map(Q=>Q.id===o.id?V:Q);u($),a(V),localStorage.setItem("classData",JSON.stringify($))},X=async(A,F,V)=>{if(!(!o||!s))try{const $=await Xn(),Q=$.find(te=>te.id===o.id);if(Q){const te=Q.students.map(ie=>ie.id===F.id?F:ie),we=Q.bidOpportunities.map(ie=>{if(ie.id===V){const Ne=ie.bidders.some(Ke=>Ke.id===F.id)?ie.bidders:[...ie.bidders,F];return{...ie,bidders:Ne}}return ie}),Je=Q.bidders.some(ie=>ie.id===F.id)?Q.bidders:[...Q.bidders,F],ye={...Q,students:te,bidders:Je,bidOpportunities:we},U=$.map(ie=>ie.id===o.id?ye:ie);u(U),a(ye),i(F),localStorage.setItem("classData",JSON.stringify(U))}}catch($){console.error("Error refreshing class data after bid:",$);const Q=o.students.map(U=>U.id===F.id?F:U),te=o.bidOpportunities.map(U=>{if(U.id===V){const ve=U.bidders.some(Ne=>Ne.id===F.id)?U.bidders:[...U.bidders,F];return{...U,bidders:ve}}return U}),le=o.bidders.some(U=>U.id===F.id)?o.bidders:[...o.bidders,F],Je={...o,students:Q,bidders:le,bidOpportunities:te},ye=c.map(U=>U.id===o.id?Je:U);u(ye),a(Je),localStorage.setItem("classData",JSON.stringify(ye))}},G=(A,F,V)=>{if(!o||!s)return;const $=o.students.map(ye=>ye.id===F.id?F:ye),Q=o.bidOpportunities.map(ye=>{if(ye.id===V){const U=ye.bidders.filter(ie=>ie.id!==F.id);return{...ye,bidders:U}}return ye}),we=F.bids.length>0?o.bidders:o.bidders.filter(ye=>ye.id!==F.id),le={...o,students:$,bidders:we,bidOpportunities:Q},Je=c.map(ye=>ye.id===o.id?le:ye);u(Je),a(le),i(F),localStorage.setItem("classData",JSON.stringify(Je))},P=async(A,F)=>{try{await t4(A,F);const V=await Xn(!1),$=await Xn(!0);u(V),f($);const Q=[...V,...$];if(localStorage.setItem("classData",JSON.stringify(Q)),o&&o.id===A)if(F)a(V.length>0?V[0]:null);else{const te=V.find(we=>we.id===A);te&&(a(te),p(!1))}R({title:F?"Class archived":"Class unarchived",description:`The class has been ${F?"archived":"unarchived"} successfully`})}catch(V){console.error("Error updating class archive status:",V),R({title:"Error",description:V instanceof Error?V.message:"Failed to update class archive status",variant:"destructive"})}},ee=async A=>{const F=c.find($=>$.id===A);if(!F){R({title:"Class not found",description:"The class to delete could not be found",variant:"destructive"});return}if(window.confirm(`Are you sure you want to delete "${F.className}"? This action cannot be undone and will remove all associated data including students, bids, and opportunities.`))try{const $=await QM(A);if($.success){const Q=c.filter(te=>te.id!==A);u(Q),o&&o.id===A&&a(Q.length>0?Q[0]:null),localStorage.setItem("classData",JSON.stringify(Q));try{const te=await PD();te.success&&te.deletedCount>0?R({title:"Class and users cleaned up",description:`${$.className} deleted and ${te.deletedCount} orphaned user${te.deletedCount!==1?"s":""} removed`}):R({title:"Class deleted successfully",description:`${$.className} and ${Object.values($.deletedRecords).reduce((we,le)=>we+le,0)} related records have been removed`})}catch(te){console.error("Error during orphaned user cleanup:",te),R({title:"Class deleted",description:`${$.className} deleted successfully`})}}else R({title:"Class deletion failed",description:$.error||"Failed to delete the class and its associated data.",variant:"destructive"})}catch($){console.error("Error during class deletion:",$),R({title:"Class deletion failed",description:$ instanceof Error?$.message:"An unexpected error occurred",variant:"destructive"})}},Z=async(A,F)=>{try{await e4(A,{password:F});const V=c.map(Q=>Q.id===A?{...Q,password:F}:Q);u(V),o&&o.id===A&&a({...o,password:F});const $=[...V,...d];localStorage.setItem("classData",JSON.stringify($)),R({title:"Password updated successfully",description:"The class password has been updated in the database"})}catch(V){console.error("Error updating password:",V),R({title:"Failed to update password",description:V instanceof Error?V.message:"An unexpected error occurred",variant:"destructive"})}};return b?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(_g,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-heading font-semibold mb-2",children:"Loading..."}),l.jsx("p",{className:"text-muted-foreground",children:"Fetching data from database"})]})}):e?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white border-b relative z-50",children:l.jsxs("div",{className:"container mx-auto p-4 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>x(!v),className:"md:hidden",children:v?l.jsx(Ux,{className:"w-5 h-5"}):l.jsx(Hc,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-2xl font-heading font-bold text-academy-blue mb-4 md:mb-0",children:"Token Bidding Platform - Admin"})]}),l.jsx(oe,{variant:"outline",onClick:z,children:"Logout"})]})}),l.jsx(KD,{classes:c,archivedClasses:d,currentClass:o,onSelectClass:M,onCreateClass:K,isCollapsed:v,viewArchivedClasses:h,onToggleArchiveView:I,onUnarchiveClass:P}),l.jsx("main",{className:`min-h-[calc(100vh-64px)] transition-all duration-300 ${v?"ml-16":"ml-80"}`,children:l.jsx("div",{className:"container mx-auto p-4",children:l.jsxs(pa,{value:y,onValueChange:g,children:[l.jsxs(Vi,{className:"grid grid-cols-3 mb-6",children:[l.jsx(Zt,{value:"dashboard",children:"Dashboard"}),l.jsx(Zt,{value:"students",children:"Students"}),l.jsx(Zt,{value:"selection",children:"Selection"})]}),l.jsx(en,{value:"dashboard",children:l.jsx(l4,{classes:c,archivedClasses:d,currentClass:o,isViewingArchived:h,onSelectClass:M,onCreateClass:K,onUpdateOpportunity:D,onRemoveClass:ee,onChangePassword:Z,onArchiveClass:P,onOpportunityCreated:L,onOpportunityDeleted:W})}),l.jsx(en,{value:"students",children:l.jsx(P4,{currentClass:o,isViewingArchived:h,onUpdateStudents:k})}),l.jsx(en,{value:"selection",children:l.jsx(cL,{currentClass:o,isViewingArchived:h,onSelectionComplete:j})})]})})}),l.jsx(Ls,{open:S,onOpenChange:_,children:l.jsxs(Jr,{children:[l.jsxs(Xr,{children:[l.jsx($s,{children:"Create New Class"}),l.jsx(Zr,{children:"Enter the class name to create a new class."})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"className",children:"Class Name"}),l.jsx(it,{id:"className",value:N,onChange:A=>E(A.target.value),placeholder:"e.g., Economics 101",disabled:C})]})}),l.jsxs(oo,{children:[l.jsx(oe,{variant:"outline",onClick:()=>_(!1),disabled:C,children:"Cancel"}),l.jsx(oe,{onClick:T,disabled:C,children:C?l.jsxs(l.Fragment,{children:[l.jsx(_g,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Class"})]})]})})]}):n&&s&&o?l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsx(GS,{student:s,classConfig:o,onBidSubmitted:X,onBidWithdrawal:G,onLogout:z})}):l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-4xl",children:[l.jsx("div",{className:"text-center mb-8",children:l.jsx("h1",{className:"text-3xl md:text-4xl font-heading font-bold text-academy-blue mb-3",children:"Token Bidding Platform"})}),l.jsxs(pa,{defaultValue:"student",className:"w-full",children:[l.jsxs(Vi,{className:"grid grid-cols-2 mb-8",children:[l.jsx(Zt,{value:"student",children:"Student Login"}),l.jsx(Zt,{value:"admin",children:"Admin Login"})]}),l.jsx(en,{value:"student",className:"flex justify-center",children:l.jsx(OD,{classes:[...c,...d],onLogin:()=>{}})}),l.jsx(en,{value:"admin",className:"flex justify-center",children:l.jsx(lO,{onLogin:H})})]})]})}),l.jsx("footer",{className:"border-t bg-white py-4 text-center text-sm text-muted-foreground",children:l.jsx("div",{className:"container mx-auto",children:"Token Bidding Platform"})})]})}const bL=()=>{const e=nu();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},SL=()=>{const[e,t]=m.useState(""),[n,r]=m.useState(""),[s,i]=m.useState(""),[o,a]=m.useState(!1),{toast:c}=vt(),u=ru(),d=async f=>{if(f.preventDefault(),!e||!n||!s){c({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}if(n!==s){c({title:"Password mismatch",description:"Passwords do not match",variant:"destructive"});return}if(n.length<8){c({title:"Password too short",description:"Password must be at least 8 characters long",variant:"destructive"});return}if(!/^[a-zA-Z0-9_]{3,50}$/.test(e)){c({title:"Invalid username",description:"Username must be 3-50 characters and contain only letters, numbers, and underscores",variant:"destructive"});return}a(!0);try{const p=await(await fetch("https://ttdbvnmuwwzayzzbosyi.supabase.co/functions/v1/register-admin",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0ZGJ2bm11d3d6YXl6emJvc3lpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5ODc2NTYsImV4cCI6MjA2NTU2MzY1Nn0.JGNJn1iu0wwhLiu34gTEjuK-aK5aAMzJWlbrkB5VQ2Y"},body:JSON.stringify({username:e,password:n})})).json();p.success?(c({title:"Registration successful",description:`Admin account "${e}" has been created successfully`}),setTimeout(()=>{u("/")},2e3)):c({title:"Registration failed",description:p.error||"Failed to create admin account",variant:"destructive"})}catch(h){console.error("Registration error:",h),c({title:"Registration failed",description:"An error occurred during registration. Please try again.",variant:"destructive"})}finally{a(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"flex items-center justify-center mb-4",children:l.jsx("div",{className:"w-12 h-12 bg-academy-blue rounded-full flex items-center justify-center",children:l.jsx(jg,{className:"w-6 h-6 text-white"})})}),l.jsx("h1",{className:"text-3xl font-heading font-bold text-academy-blue mb-2",children:"Admin Registration"}),l.jsx("p",{className:"text-muted-foreground",children:"Create a new admin account for the Token Bidding Platform"})]}),l.jsxs(Ee,{children:[l.jsxs($e,{children:[l.jsxs(Fe,{className:"text-2xl font-heading flex items-center gap-2",children:[l.jsx(Eg,{className:"w-5 h-5"}),"Create Admin Account"]}),l.jsx(Fs,{children:"Choose a username and secure password for your admin account"})]}),l.jsxs("form",{onSubmit:d,children:[l.jsxs(Ce,{className:"space-y-4",children:[l.jsxs(rn,{children:[l.jsx(jg,{className:"h-4 w-4"}),l.jsxs(sn,{children:[l.jsx("strong",{children:"Security Notice:"})," Admin accounts have full access to all classes and student data."]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"username",children:"Username"}),l.jsx(it,{id:"username",type:"text",value:e,onChange:f=>t(f.target.value),placeholder:"Enter admin username",required:!0,disabled:o,pattern:"[a-zA-Z0-9_]{3,50}",title:"Username must be 3-50 characters and contain only letters, numbers, and underscores"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"3-50 characters, letters, numbers, and underscores only"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"password",children:"Password"}),l.jsx(it,{id:"password",type:"password",value:n,onChange:f=>r(f.target.value),placeholder:"Enter secure password",required:!0,disabled:o,minLength:8}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Minimum 8 characters required"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(je,{htmlFor:"confirmPassword",children:"Confirm Password"}),l.jsx(it,{id:"confirmPassword",type:"password",value:s,onChange:f=>i(f.target.value),placeholder:"Confirm your password",required:!0,disabled:o,minLength:8})]}),n&&s&&n!==s&&l.jsx(rn,{variant:"destructive",children:l.jsx(sn,{children:"Passwords do not match"})})]}),l.jsxs(cu,{className:"flex flex-col space-y-3",children:[l.jsx(oe,{type:"submit",className:"w-full",disabled:o||n!==s,children:o?l.jsxs(l.Fragment,{children:[l.jsx(Ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Eg,{className:"w-4 h-4 mr-2"}),"Create Admin Account"]})}),l.jsxs(oe,{type:"button",variant:"outline",onClick:()=>u("/"),disabled:o,className:"w-full",children:[l.jsx(jN,{className:"w-4 h-4 mr-2"}),"Back to Login"]})]})]})]}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an admin account?"," ",l.jsx("button",{onClick:()=>u("/"),className:"text-academy-blue hover:underline font-medium",disabled:o,children:"Sign in here"})]})})]})}),l.jsx("footer",{className:"border-t bg-white py-4 text-center text-sm text-muted-foreground",children:l.jsx("div",{className:"container mx-auto",children:"Token Bidding Platform - Admin Registration"})})]})},_L=new zT,jL=()=>l.jsx(HT,{client:_L,children:l.jsxs(xT,{children:[l.jsx(vC,{}),l.jsx(qC,{}),l.jsx(MP,{children:l.jsxs(DP,{children:[l.jsx(ko,{path:"/",element:l.jsx(wL,{})}),l.jsx(ko,{path:"/student",element:l.jsx(GS,{})}),l.jsx(ko,{path:"/admin-register",element:l.jsx(SL,{})}),l.jsx(ko,{path:"*",element:l.jsx(bL,{})})]})})]})});lx(document.getElementById("root")).render(l.jsx(jL,{}));
