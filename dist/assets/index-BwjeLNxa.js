var tm=e=>{throw TypeError(e)};var gu=(e,t,n)=>t.has(e)||tm("Cannot "+n);var F=(e,t,n)=>(gu(e,t,"read from private field"),n?n.call(e):t.get(e)),xe=(e,t,n)=>t.has(e)?tm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),le=(e,t,n,r)=>(gu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),at=(e,t,n)=>(gu(e,t,"access private method"),n);var ka=(e,t,n,r)=>({set _(s){le(e,t,s,n)},get _(){return F(e,t,r)}});function W1(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function H1(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Fv={exports:{}},hc={},Uv={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=Symbol.for("react.element"),V1=Symbol.for("react.portal"),q1=Symbol.for("react.fragment"),Y1=Symbol.for("react.strict_mode"),G1=Symbol.for("react.profiler"),K1=Symbol.for("react.provider"),Q1=Symbol.for("react.context"),X1=Symbol.for("react.forward_ref"),J1=Symbol.for("react.suspense"),Z1=Symbol.for("react.memo"),e_=Symbol.for("react.lazy"),nm=Symbol.iterator;function t_(e){return e===null||typeof e!="object"?null:(e=nm&&e[nm]||e["@@iterator"],typeof e=="function"?e:null)}var Bv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zv=Object.assign,Wv={};function Uo(e,t,n){this.props=e,this.context=t,this.refs=Wv,this.updater=n||Bv}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hv(){}Hv.prototype=Uo.prototype;function Kf(e,t,n){this.props=e,this.context=t,this.refs=Wv,this.updater=n||Bv}var Qf=Kf.prototype=new Hv;Qf.constructor=Kf;zv(Qf,Uo.prototype);Qf.isPureReactComponent=!0;var rm=Array.isArray,Vv=Object.prototype.hasOwnProperty,Xf={current:null},qv={key:!0,ref:!0,__self:!0,__source:!0};function Yv(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Vv.call(t,r)&&!qv.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:aa,type:e,key:o,ref:i,props:s,_owner:Xf.current}}function n_(e,t){return{$$typeof:aa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jf(e){return typeof e=="object"&&e!==null&&e.$$typeof===aa}function r_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sm=/\/+/g;function vu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?r_(""+e.key):t.toString(36)}function il(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case aa:case V1:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+vu(i,0):r,rm(s)?(n="",e!=null&&(n=e.replace(sm,"$&/")+"/"),il(s,t,n,"",function(u){return u})):s!=null&&(Jf(s)&&(s=n_(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(sm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",rm(e))for(var a=0;a<e.length;a++){o=e[a];var c=r+vu(o,a);i+=il(o,t,n,c,s)}else if(c=t_(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=r+vu(o,a++),i+=il(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ta(e,t,n){if(e==null)return e;var r=[],s=0;return il(e,r,"","",function(o){return t.call(n,o,s++)}),r}function s_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var wt={current:null},al={transition:null},o_={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:al,ReactCurrentOwner:Xf};function Gv(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Ta,forEach:function(e,t,n){Ta(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ta(e,function(){t++}),t},toArray:function(e){return Ta(e,function(t){return t})||[]},only:function(e){if(!Jf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};pe.Component=Uo;pe.Fragment=q1;pe.Profiler=G1;pe.PureComponent=Kf;pe.StrictMode=Y1;pe.Suspense=J1;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o_;pe.act=Gv;pe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zv({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Xf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Vv.call(t,c)&&!qv.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:aa,type:e.type,key:s,ref:o,props:r,_owner:i}};pe.createContext=function(e){return e={$$typeof:Q1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:K1,_context:e},e.Consumer=e};pe.createElement=Yv;pe.createFactory=function(e){var t=Yv.bind(null,e);return t.type=e,t};pe.createRef=function(){return{current:null}};pe.forwardRef=function(e){return{$$typeof:X1,render:e}};pe.isValidElement=Jf;pe.lazy=function(e){return{$$typeof:e_,_payload:{_status:-1,_result:e},_init:s_}};pe.memo=function(e,t){return{$$typeof:Z1,type:e,compare:t===void 0?null:t}};pe.startTransition=function(e){var t=al.transition;al.transition={};try{e()}finally{al.transition=t}};pe.unstable_act=Gv;pe.useCallback=function(e,t){return wt.current.useCallback(e,t)};pe.useContext=function(e){return wt.current.useContext(e)};pe.useDebugValue=function(){};pe.useDeferredValue=function(e){return wt.current.useDeferredValue(e)};pe.useEffect=function(e,t){return wt.current.useEffect(e,t)};pe.useId=function(){return wt.current.useId()};pe.useImperativeHandle=function(e,t,n){return wt.current.useImperativeHandle(e,t,n)};pe.useInsertionEffect=function(e,t){return wt.current.useInsertionEffect(e,t)};pe.useLayoutEffect=function(e,t){return wt.current.useLayoutEffect(e,t)};pe.useMemo=function(e,t){return wt.current.useMemo(e,t)};pe.useReducer=function(e,t,n){return wt.current.useReducer(e,t,n)};pe.useRef=function(e){return wt.current.useRef(e)};pe.useState=function(e){return wt.current.useState(e)};pe.useSyncExternalStore=function(e,t,n){return wt.current.useSyncExternalStore(e,t,n)};pe.useTransition=function(){return wt.current.useTransition()};pe.version="18.3.1";Uv.exports=pe;var p=Uv.exports;const V=$v(p),Kv=W1({__proto__:null,default:V},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_=p,a_=Symbol.for("react.element"),l_=Symbol.for("react.fragment"),c_=Object.prototype.hasOwnProperty,u_=i_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d_={key:!0,ref:!0,__self:!0,__source:!0};function Qv(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)c_.call(t,r)&&!d_.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:a_,type:e,key:o,ref:i,props:s,_owner:u_.current}}hc.Fragment=l_;hc.jsx=Qv;hc.jsxs=Qv;Fv.exports=hc;var l=Fv.exports,Xv={exports:{}},Wt={},Jv={exports:{}},Zv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,O){var T=E.length;E.push(O);e:for(;0<T;){var R=T-1>>>1,A=E[R];if(0<s(A,O))E[R]=O,E[T]=A,T=R;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var O=E[0],T=E.pop();if(T!==O){E[0]=T;e:for(var R=0,A=E.length,I=A>>>1;R<I;){var q=2*(R+1)-1,ce=E[q],re=q+1,X=E[re];if(0>s(ce,T))re<A&&0>s(X,ce)?(E[R]=X,E[re]=T,R=re):(E[R]=ce,E[q]=T,R=q);else if(re<A&&0>s(X,T))E[R]=X,E[re]=T,R=re;else break e}}return O}function s(E,O){var T=E.sortIndex-O.sortIndex;return T!==0?T:E.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,h=null,f=3,g=!1,w=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(E){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=E)r(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function S(E){if(m=!1,b(E),!w)if(n(c)!==null)w=!0,U(_);else{var O=n(u);O!==null&&M(S,O.startTime-E)}}function _(E,O){w=!1,m&&(m=!1,v(j),j=-1),g=!0;var T=f;try{for(b(O),h=n(c);h!==null&&(!(h.expirationTime>O)||E&&!L());){var R=h.callback;if(typeof R=="function"){h.callback=null,f=h.priorityLevel;var A=R(h.expirationTime<=O);O=e.unstable_now(),typeof A=="function"?h.callback=A:h===n(c)&&r(c),b(O)}else r(c);h=n(c)}if(h!==null)var I=!0;else{var q=n(u);q!==null&&M(S,q.startTime-O),I=!1}return I}finally{h=null,f=T,g=!1}}var C=!1,N=null,j=-1,$=5,B=-1;function L(){return!(e.unstable_now()-B<$)}function k(){if(N!==null){var E=e.unstable_now();B=E;var O=!0;try{O=N(!0,E)}finally{O?P():(C=!1,N=null)}}else C=!1}var P;if(typeof y=="function")P=function(){y(k)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,W=D.port2;D.port1.onmessage=k,P=function(){W.postMessage(null)}}else P=function(){x(k,0)};function U(E){N=E,C||(C=!0,P())}function M(E,O){j=x(function(){E(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,U(_))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var T=f;f=O;try{return E()}finally{f=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,O){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var T=f;f=E;try{return O()}finally{f=T}},e.unstable_scheduleCallback=function(E,O,T){var R=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?R+T:R):T=R,E){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=T+A,E={id:d++,callback:O,priorityLevel:E,startTime:T,expirationTime:A,sortIndex:-1},T>R?(E.sortIndex=T,t(u,E),n(c)===null&&E===n(u)&&(m?(v(j),j=-1):m=!0,M(S,T-R))):(E.sortIndex=A,t(c,E),w||g||(w=!0,U(_))),E},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(E){var O=f;return function(){var T=f;f=O;try{return E.apply(this,arguments)}finally{f=T}}}})(Zv);Jv.exports=Zv;var f_=Jv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_=p,Bt=f_;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ey=new Set,Di={};function js(e,t){Co(e,t),Co(e+"Capture",t)}function Co(e,t){for(Di[e]=t,e=0;e<t.length;e++)ey.add(t[e])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xd=Object.prototype.hasOwnProperty,p_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,om={},im={};function m_(e){return xd.call(im,e)?!0:xd.call(om,e)?!1:p_.test(e)?im[e]=!0:(om[e]=!0,!1)}function g_(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function v_(e,t,n,r){if(t===null||typeof t>"u"||g_(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ot[e]=new bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ot[t]=new bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ot[e]=new bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ot[e]=new bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ot[e]=new bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ot[e]=new bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ot[e]=new bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ot[e]=new bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ot[e]=new bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zf=/[\-:]([a-z])/g;function eh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zf,eh);ot[t]=new bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zf,eh);ot[t]=new bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zf,eh);ot[t]=new bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ot[e]=new bt(e,1,!1,e.toLowerCase(),null,!1,!1)});ot.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ot[e]=new bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function th(e,t,n,r){var s=ot.hasOwnProperty(t)?ot[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(v_(t,n,s,r)&&(n=null),r||s===null?m_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ir=h_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pa=Symbol.for("react.element"),Hs=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),nh=Symbol.for("react.strict_mode"),wd=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),ny=Symbol.for("react.context"),rh=Symbol.for("react.forward_ref"),bd=Symbol.for("react.suspense"),Sd=Symbol.for("react.suspense_list"),sh=Symbol.for("react.memo"),mr=Symbol.for("react.lazy"),ry=Symbol.for("react.offscreen"),am=Symbol.iterator;function ei(e){return e===null||typeof e!="object"?null:(e=am&&e[am]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Object.assign,yu;function hi(e){if(yu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yu=t&&t[1]||""}return`
`+yu+e}var xu=!1;function wu(e,t){if(!e||xu)return"";xu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{xu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hi(e):""}function y_(e){switch(e.tag){case 5:return hi(e.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 2:case 15:return e=wu(e.type,!1),e;case 11:return e=wu(e.type.render,!1),e;case 1:return e=wu(e.type,!0),e;default:return""}}function _d(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vs:return"Fragment";case Hs:return"Portal";case wd:return"Profiler";case nh:return"StrictMode";case bd:return"Suspense";case Sd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ny:return(e.displayName||"Context")+".Consumer";case ty:return(e._context.displayName||"Context")+".Provider";case rh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case sh:return t=e.displayName||null,t!==null?t:_d(e.type)||"Memo";case mr:t=e._payload,e=e._init;try{return _d(e(t))}catch{}}return null}function x_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _d(t);case 8:return t===nh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function w_(e){var t=sy(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ra(e){e._valueTracker||(e._valueTracker=w_(e))}function oy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sy(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ed(e,t){var n=t.checked;return Be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Lr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iy(e,t){t=t.checked,t!=null&&th(e,"checked",t,!1)}function Cd(e,t){iy(e,t);var n=Lr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Nd(e,t.type,Lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Nd(e,t,n){(t!=="number"||Cl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pi=Array.isArray;function no(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Lr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function jd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return Be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function um(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(pi(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Lr(n)}}function ay(e,t){var n=Lr(t.value),r=Lr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ly(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ly(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oa,cy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oa=Oa||document.createElement("div"),Oa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ai(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b_=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(e){b_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xi[t]=xi[e]})});function uy(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xi.hasOwnProperty(e)&&xi[e]?(""+t).trim():t+"px"}function dy(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=uy(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var S_=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Td(e,t){if(t){if(S_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Pd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=null;function oh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Od=null,ro=null,so=null;function fm(e){if(e=ua(e)){if(typeof Od!="function")throw Error(H(280));var t=e.stateNode;t&&(t=yc(t),Od(e.stateNode,e.type,t))}}function fy(e){ro?so?so.push(e):so=[e]:ro=e}function hy(){if(ro){var e=ro,t=so;if(so=ro=null,fm(e),t)for(e=0;e<t.length;e++)fm(t[e])}}function py(e,t){return e(t)}function my(){}var bu=!1;function gy(e,t,n){if(bu)return e(t,n);bu=!0;try{return py(e,t,n)}finally{bu=!1,(ro!==null||so!==null)&&(my(),hy())}}function Ii(e,t){var n=e.stateNode;if(n===null)return null;var r=yc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Dd=!1;if(er)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){Dd=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{Dd=!1}function __(e,t,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var wi=!1,Nl=null,jl=!1,Ad=null,E_={onError:function(e){wi=!0,Nl=e}};function C_(e,t,n,r,s,o,i,a,c){wi=!1,Nl=null,__.apply(E_,arguments)}function N_(e,t,n,r,s,o,i,a,c){if(C_.apply(this,arguments),wi){if(wi){var u=Nl;wi=!1,Nl=null}else throw Error(H(198));jl||(jl=!0,Ad=u)}}function ks(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hm(e){if(ks(e)!==e)throw Error(H(188))}function j_(e){var t=e.alternate;if(!t){if(t=ks(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return hm(s),e;if(o===r)return hm(s),t;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function yy(e){return e=j_(e),e!==null?xy(e):null}function xy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xy(e);if(t!==null)return t;e=e.sibling}return null}var wy=Bt.unstable_scheduleCallback,pm=Bt.unstable_cancelCallback,k_=Bt.unstable_shouldYield,T_=Bt.unstable_requestPaint,qe=Bt.unstable_now,P_=Bt.unstable_getCurrentPriorityLevel,ih=Bt.unstable_ImmediatePriority,by=Bt.unstable_UserBlockingPriority,kl=Bt.unstable_NormalPriority,R_=Bt.unstable_LowPriority,Sy=Bt.unstable_IdlePriority,pc=null,In=null;function O_(e){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(pc,e,void 0,(e.current.flags&128)===128)}catch{}}var mn=Math.clz32?Math.clz32:I_,D_=Math.log,A_=Math.LN2;function I_(e){return e>>>=0,e===0?32:31-(D_(e)/A_|0)|0}var Da=64,Aa=4194304;function mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Tl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=mi(a):(o&=i,o!==0&&(r=mi(o)))}else i=n&~s,i!==0?r=mi(i):o!==0&&(r=mi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-mn(t),s=1<<n,r|=e[n],t&=~s;return r}function M_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-mn(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=M_(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Id(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _y(){var e=Da;return Da<<=1,!(Da&4194240)&&(Da=64),e}function Su(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function la(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mn(t),e[t]=n}function $_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-mn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function ah(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-mn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var _e=0;function Ey(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cy,lh,Ny,jy,ky,Md=!1,Ia=[],Tr=null,Pr=null,Rr=null,Mi=new Map,Li=new Map,yr=[],F_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function ni(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ua(t),t!==null&&lh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function U_(e,t,n,r,s){switch(t){case"focusin":return Tr=ni(Tr,e,t,n,r,s),!0;case"dragenter":return Pr=ni(Pr,e,t,n,r,s),!0;case"mouseover":return Rr=ni(Rr,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Mi.set(o,ni(Mi.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Li.set(o,ni(Li.get(o)||null,e,t,n,r,s)),!0}return!1}function Ty(e){var t=rs(e.target);if(t!==null){var n=ks(t);if(n!==null){if(t=n.tag,t===13){if(t=vy(n),t!==null){e.blockedOn=t,ky(e.priority,function(){Ny(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ld(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rd=r,n.target.dispatchEvent(r),Rd=null}else return t=ua(n),t!==null&&lh(t),e.blockedOn=n,!1;t.shift()}return!0}function gm(e,t,n){ll(e)&&n.delete(t)}function B_(){Md=!1,Tr!==null&&ll(Tr)&&(Tr=null),Pr!==null&&ll(Pr)&&(Pr=null),Rr!==null&&ll(Rr)&&(Rr=null),Mi.forEach(gm),Li.forEach(gm)}function ri(e,t){e.blockedOn===t&&(e.blockedOn=null,Md||(Md=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,B_)))}function $i(e){function t(s){return ri(s,e)}if(0<Ia.length){ri(Ia[0],e);for(var n=1;n<Ia.length;n++){var r=Ia[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tr!==null&&ri(Tr,e),Pr!==null&&ri(Pr,e),Rr!==null&&ri(Rr,e),Mi.forEach(t),Li.forEach(t),n=0;n<yr.length;n++)r=yr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<yr.length&&(n=yr[0],n.blockedOn===null);)Ty(n),n.blockedOn===null&&yr.shift()}var oo=ir.ReactCurrentBatchConfig,Pl=!0;function z_(e,t,n,r){var s=_e,o=oo.transition;oo.transition=null;try{_e=1,ch(e,t,n,r)}finally{_e=s,oo.transition=o}}function W_(e,t,n,r){var s=_e,o=oo.transition;oo.transition=null;try{_e=4,ch(e,t,n,r)}finally{_e=s,oo.transition=o}}function ch(e,t,n,r){if(Pl){var s=Ld(e,t,n,r);if(s===null)Ou(e,t,r,Rl,n),mm(e,r);else if(U_(s,e,t,n,r))r.stopPropagation();else if(mm(e,r),t&4&&-1<F_.indexOf(e)){for(;s!==null;){var o=ua(s);if(o!==null&&Cy(o),o=Ld(e,t,n,r),o===null&&Ou(e,t,r,Rl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ou(e,t,r,null,n)}}var Rl=null;function Ld(e,t,n,r){if(Rl=null,e=oh(r),e=rs(e),e!==null)if(t=ks(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vy(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rl=e,null}function Py(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(P_()){case ih:return 1;case by:return 4;case kl:case R_:return 16;case Sy:return 536870912;default:return 16}default:return 16}}var Nr=null,uh=null,cl=null;function Ry(){if(cl)return cl;var e,t=uh,n=t.length,r,s="value"in Nr?Nr.value:Nr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return cl=s.slice(e,1<r?1-r:void 0)}function ul(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ma(){return!0}function vm(){return!1}function Ht(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ma:vm,this.isPropagationStopped=vm,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),t}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dh=Ht(Bo),ca=Be({},Bo,{view:0,detail:0}),H_=Ht(ca),_u,Eu,si,mc=Be({},ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(_u=e.screenX-si.screenX,Eu=e.screenY-si.screenY):Eu=_u=0,si=e),_u)},movementY:function(e){return"movementY"in e?e.movementY:Eu}}),ym=Ht(mc),V_=Be({},mc,{dataTransfer:0}),q_=Ht(V_),Y_=Be({},ca,{relatedTarget:0}),Cu=Ht(Y_),G_=Be({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),K_=Ht(G_),Q_=Be({},Bo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X_=Ht(Q_),J_=Be({},Bo,{data:0}),xm=Ht(J_),Z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tE[e])?!!t[e]:!1}function fh(){return nE}var rE=Be({},ca,{key:function(e){if(e.key){var t=Z_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fh,charCode:function(e){return e.type==="keypress"?ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sE=Ht(rE),oE=Be({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wm=Ht(oE),iE=Be({},ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fh}),aE=Ht(iE),lE=Be({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),cE=Ht(lE),uE=Be({},mc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dE=Ht(uE),fE=[9,13,27,32],hh=er&&"CompositionEvent"in window,bi=null;er&&"documentMode"in document&&(bi=document.documentMode);var hE=er&&"TextEvent"in window&&!bi,Oy=er&&(!hh||bi&&8<bi&&11>=bi),bm=" ",Sm=!1;function Dy(e,t){switch(e){case"keyup":return fE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ay(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qs=!1;function pE(e,t){switch(e){case"compositionend":return Ay(t);case"keypress":return t.which!==32?null:(Sm=!0,bm);case"textInput":return e=t.data,e===bm&&Sm?null:e;default:return null}}function mE(e,t){if(qs)return e==="compositionend"||!hh&&Dy(e,t)?(e=Ry(),cl=uh=Nr=null,qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oy&&t.locale!=="ko"?null:t.data;default:return null}}var gE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _m(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gE[e.type]:t==="textarea"}function Iy(e,t,n,r){fy(r),t=Ol(t,"onChange"),0<t.length&&(n=new dh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Si=null,Fi=null;function vE(e){qy(e,0)}function gc(e){var t=Ks(e);if(oy(t))return e}function yE(e,t){if(e==="change")return t}var My=!1;if(er){var Nu;if(er){var ju="oninput"in document;if(!ju){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),ju=typeof Em.oninput=="function"}Nu=ju}else Nu=!1;My=Nu&&(!document.documentMode||9<document.documentMode)}function Cm(){Si&&(Si.detachEvent("onpropertychange",Ly),Fi=Si=null)}function Ly(e){if(e.propertyName==="value"&&gc(Fi)){var t=[];Iy(t,Fi,e,oh(e)),gy(vE,t)}}function xE(e,t,n){e==="focusin"?(Cm(),Si=t,Fi=n,Si.attachEvent("onpropertychange",Ly)):e==="focusout"&&Cm()}function wE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gc(Fi)}function bE(e,t){if(e==="click")return gc(t)}function SE(e,t){if(e==="input"||e==="change")return gc(t)}function _E(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vn=typeof Object.is=="function"?Object.is:_E;function Ui(e,t){if(vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xd.call(t,s)||!vn(e[s],t[s]))return!1}return!0}function Nm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jm(e,t){var n=Nm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nm(n)}}function $y(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$y(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fy(){for(var e=window,t=Cl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cl(e.document)}return t}function ph(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function EE(e){var t=Fy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$y(n.ownerDocument.documentElement,n)){if(r!==null&&ph(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=jm(n,o);var i=jm(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CE=er&&"documentMode"in document&&11>=document.documentMode,Ys=null,$d=null,_i=null,Fd=!1;function km(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fd||Ys==null||Ys!==Cl(r)||(r=Ys,"selectionStart"in r&&ph(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_i&&Ui(_i,r)||(_i=r,r=Ol($d,"onSelect"),0<r.length&&(t=new dh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ys)))}function La(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gs={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},ku={},Uy={};er&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function vc(e){if(ku[e])return ku[e];if(!Gs[e])return e;var t=Gs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uy)return ku[e]=t[n];return e}var By=vc("animationend"),zy=vc("animationiteration"),Wy=vc("animationstart"),Hy=vc("transitionend"),Vy=new Map,Tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(e,t){Vy.set(e,t),js(t,[e])}for(var Tu=0;Tu<Tm.length;Tu++){var Pu=Tm[Tu],NE=Pu.toLowerCase(),jE=Pu[0].toUpperCase()+Pu.slice(1);Hr(NE,"on"+jE)}Hr(By,"onAnimationEnd");Hr(zy,"onAnimationIteration");Hr(Wy,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(Hy,"onTransitionEnd");Co("onMouseEnter",["mouseout","mouseover"]);Co("onMouseLeave",["mouseout","mouseover"]);Co("onPointerEnter",["pointerout","pointerover"]);Co("onPointerLeave",["pointerout","pointerover"]);js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));js("onBeforeInput",["compositionend","keypress","textInput","paste"]);js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("cancel close invalid load scroll toggle".split(" ").concat(gi));function Pm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,N_(r,t,void 0,e),e.currentTarget=null}function qy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Pm(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Pm(s,a,u),o=c}}}if(jl)throw e=Ad,jl=!1,Ad=null,e}function Ae(e,t){var n=t[Hd];n===void 0&&(n=t[Hd]=new Set);var r=e+"__bubble";n.has(r)||(Yy(t,e,2,!1),n.add(r))}function Ru(e,t,n){var r=0;t&&(r|=4),Yy(n,e,r,t)}var $a="_reactListening"+Math.random().toString(36).slice(2);function Bi(e){if(!e[$a]){e[$a]=!0,ey.forEach(function(n){n!=="selectionchange"&&(kE.has(n)||Ru(n,!1,e),Ru(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$a]||(t[$a]=!0,Ru("selectionchange",!1,t))}}function Yy(e,t,n,r){switch(Py(t)){case 1:var s=z_;break;case 4:s=W_;break;default:s=ch}n=s.bind(null,t,n,e),s=void 0,!Dd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ou(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=rs(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}gy(function(){var u=o,d=oh(n),h=[];e:{var f=Vy.get(e);if(f!==void 0){var g=dh,w=e;switch(e){case"keypress":if(ul(n)===0)break e;case"keydown":case"keyup":g=sE;break;case"focusin":w="focus",g=Cu;break;case"focusout":w="blur",g=Cu;break;case"beforeblur":case"afterblur":g=Cu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=q_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=aE;break;case By:case zy:case Wy:g=K_;break;case Hy:g=cE;break;case"scroll":g=H_;break;case"wheel":g=dE;break;case"copy":case"cut":case"paste":g=X_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=wm}var m=(t&4)!==0,x=!m&&e==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,b;y!==null;){b=y;var S=b.stateNode;if(b.tag===5&&S!==null&&(b=S,v!==null&&(S=Ii(y,v),S!=null&&m.push(zi(y,S,b)))),x)break;y=y.return}0<m.length&&(f=new g(f,w,null,n,d),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==Rd&&(w=n.relatedTarget||n.fromElement)&&(rs(w)||w[tr]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?rs(w):null,w!==null&&(x=ks(w),w!==x||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(m=ym,S="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=wm,S="onPointerLeave",v="onPointerEnter",y="pointer"),x=g==null?f:Ks(g),b=w==null?f:Ks(w),f=new m(S,y+"leave",g,n,d),f.target=x,f.relatedTarget=b,S=null,rs(d)===u&&(m=new m(v,y+"enter",w,n,d),m.target=b,m.relatedTarget=x,S=m),x=S,g&&w)t:{for(m=g,v=w,y=0,b=m;b;b=As(b))y++;for(b=0,S=v;S;S=As(S))b++;for(;0<y-b;)m=As(m),y--;for(;0<b-y;)v=As(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=As(m),v=As(v)}m=null}else m=null;g!==null&&Rm(h,f,g,m,!1),w!==null&&x!==null&&Rm(h,x,w,m,!0)}}e:{if(f=u?Ks(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var _=yE;else if(_m(f))if(My)_=SE;else{_=wE;var C=xE}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=bE);if(_&&(_=_(e,u))){Iy(h,_,n,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Nd(f,"number",f.value)}switch(C=u?Ks(u):window,e){case"focusin":(_m(C)||C.contentEditable==="true")&&(Ys=C,$d=u,_i=null);break;case"focusout":_i=$d=Ys=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,km(h,n,d);break;case"selectionchange":if(CE)break;case"keydown":case"keyup":km(h,n,d)}var N;if(hh)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else qs?Dy(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Oy&&n.locale!=="ko"&&(qs||j!=="onCompositionStart"?j==="onCompositionEnd"&&qs&&(N=Ry()):(Nr=d,uh="value"in Nr?Nr.value:Nr.textContent,qs=!0)),C=Ol(u,j),0<C.length&&(j=new xm(j,e,null,n,d),h.push({event:j,listeners:C}),N?j.data=N:(N=Ay(n),N!==null&&(j.data=N)))),(N=hE?pE(e,n):mE(e,n))&&(u=Ol(u,"onBeforeInput"),0<u.length&&(d=new xm("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}qy(h,t)})}function zi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ol(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ii(e,n),o!=null&&r.unshift(zi(e,o,s)),o=Ii(e,t),o!=null&&r.push(zi(e,o,s))),e=e.return}return r}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rm(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ii(n,o),c!=null&&i.unshift(zi(n,c,a))):s||(c=Ii(n,o),c!=null&&i.push(zi(n,c,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var TE=/\r\n?/g,PE=/\u0000|\uFFFD/g;function Om(e){return(typeof e=="string"?e:""+e).replace(TE,`
`).replace(PE,"")}function Fa(e,t,n){if(t=Om(t),Om(e)!==t&&n)throw Error(H(425))}function Dl(){}var Ud=null,Bd=null;function zd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wd=typeof setTimeout=="function"?setTimeout:void 0,RE=typeof clearTimeout=="function"?clearTimeout:void 0,Dm=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof Dm<"u"?function(e){return Dm.resolve(null).then(e).catch(DE)}:Wd;function DE(e){setTimeout(function(){throw e})}function Du(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),$i(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$i(t)}function Or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Am(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zo=Math.random().toString(36).slice(2),Rn="__reactFiber$"+zo,Wi="__reactProps$"+zo,tr="__reactContainer$"+zo,Hd="__reactEvents$"+zo,AE="__reactListeners$"+zo,IE="__reactHandles$"+zo;function rs(e){var t=e[Rn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tr]||n[Rn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Am(e);e!==null;){if(n=e[Rn])return n;e=Am(e)}return t}e=n,n=e.parentNode}return null}function ua(e){return e=e[Rn]||e[tr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function yc(e){return e[Wi]||null}var Vd=[],Qs=-1;function Vr(e){return{current:e}}function Ie(e){0>Qs||(e.current=Vd[Qs],Vd[Qs]=null,Qs--)}function Te(e,t){Qs++,Vd[Qs]=e.current,e.current=t}var $r={},ft=Vr($r),Tt=Vr(!1),ms=$r;function No(e,t){var n=e.type.contextTypes;if(!n)return $r;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(e){return e=e.childContextTypes,e!=null}function Al(){Ie(Tt),Ie(ft)}function Im(e,t,n){if(ft.current!==$r)throw Error(H(168));Te(ft,t),Te(Tt,n)}function Gy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(H(108,x_(e)||"Unknown",s));return Be({},n,r)}function Il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$r,ms=ft.current,Te(ft,e),Te(Tt,Tt.current),!0}function Mm(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=Gy(e,t,ms),r.__reactInternalMemoizedMergedChildContext=e,Ie(Tt),Ie(ft),Te(ft,e)):Ie(Tt),Te(Tt,n)}var Gn=null,xc=!1,Au=!1;function Ky(e){Gn===null?Gn=[e]:Gn.push(e)}function ME(e){xc=!0,Ky(e)}function qr(){if(!Au&&Gn!==null){Au=!0;var e=0,t=_e;try{var n=Gn;for(_e=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gn=null,xc=!1}catch(s){throw Gn!==null&&(Gn=Gn.slice(e+1)),wy(ih,qr),s}finally{_e=t,Au=!1}}return null}var Xs=[],Js=0,Ml=null,Ll=0,Gt=[],Kt=0,gs=null,Kn=1,Qn="";function Jr(e,t){Xs[Js++]=Ll,Xs[Js++]=Ml,Ml=e,Ll=t}function Qy(e,t,n){Gt[Kt++]=Kn,Gt[Kt++]=Qn,Gt[Kt++]=gs,gs=e;var r=Kn;e=Qn;var s=32-mn(r)-1;r&=~(1<<s),n+=1;var o=32-mn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Kn=1<<32-mn(t)+s|n<<s|r,Qn=o+e}else Kn=1<<o|n<<s|r,Qn=e}function mh(e){e.return!==null&&(Jr(e,1),Qy(e,1,0))}function gh(e){for(;e===Ml;)Ml=Xs[--Js],Xs[Js]=null,Ll=Xs[--Js],Xs[Js]=null;for(;e===gs;)gs=Gt[--Kt],Gt[Kt]=null,Qn=Gt[--Kt],Gt[Kt]=null,Kn=Gt[--Kt],Gt[Kt]=null}var $t=null,Lt=null,Me=!1,pn=null;function Xy(e,t){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,Lt=Or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,Lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gs!==null?{id:Kn,overflow:Qn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$t=e,Lt=null,!0):!1;default:return!1}}function qd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yd(e){if(Me){var t=Lt;if(t){var n=t;if(!Lm(e,t)){if(qd(e))throw Error(H(418));t=Or(n.nextSibling);var r=$t;t&&Lm(e,t)?Xy(r,n):(e.flags=e.flags&-4097|2,Me=!1,$t=e)}}else{if(qd(e))throw Error(H(418));e.flags=e.flags&-4097|2,Me=!1,$t=e}}}function $m(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function Ua(e){if(e!==$t)return!1;if(!Me)return $m(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zd(e.type,e.memoizedProps)),t&&(t=Lt)){if(qd(e))throw Jy(),Error(H(418));for(;t;)Xy(e,t),t=Or(t.nextSibling)}if($m(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Lt=Or(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Lt=null}}else Lt=$t?Or(e.stateNode.nextSibling):null;return!0}function Jy(){for(var e=Lt;e;)e=Or(e.nextSibling)}function jo(){Lt=$t=null,Me=!1}function vh(e){pn===null?pn=[e]:pn.push(e)}var LE=ir.ReactCurrentBatchConfig;function oi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function Ba(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fm(e){var t=e._init;return t(e._payload)}function Zy(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Mr(v,y),v.index=0,v.sibling=null,v}function o(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,S){return y===null||y.tag!==6?(y=Bu(b,v.mode,S),y.return=v,y):(y=s(y,b),y.return=v,y)}function c(v,y,b,S){var _=b.type;return _===Vs?d(v,y,b.props.children,S,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===mr&&Fm(_)===y.type)?(S=s(y,b.props),S.ref=oi(v,y,b),S.return=v,S):(S=vl(b.type,b.key,b.props,null,v.mode,S),S.ref=oi(v,y,b),S.return=v,S)}function u(v,y,b,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=zu(b,v.mode,S),y.return=v,y):(y=s(y,b.children||[]),y.return=v,y)}function d(v,y,b,S,_){return y===null||y.tag!==7?(y=ds(b,v.mode,S,_),y.return=v,y):(y=s(y,b),y.return=v,y)}function h(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Bu(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pa:return b=vl(y.type,y.key,y.props,null,v.mode,b),b.ref=oi(v,null,y),b.return=v,b;case Hs:return y=zu(y,v.mode,b),y.return=v,y;case mr:var S=y._init;return h(v,S(y._payload),b)}if(pi(y)||ei(y))return y=ds(y,v.mode,b,null),y.return=v,y;Ba(v,y)}return null}function f(v,y,b,S){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:a(v,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Pa:return b.key===_?c(v,y,b,S):null;case Hs:return b.key===_?u(v,y,b,S):null;case mr:return _=b._init,f(v,y,_(b._payload),S)}if(pi(b)||ei(b))return _!==null?null:d(v,y,b,S,null);Ba(v,b)}return null}function g(v,y,b,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(b)||null,a(y,v,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Pa:return v=v.get(S.key===null?b:S.key)||null,c(y,v,S,_);case Hs:return v=v.get(S.key===null?b:S.key)||null,u(y,v,S,_);case mr:var C=S._init;return g(v,y,b,C(S._payload),_)}if(pi(S)||ei(S))return v=v.get(b)||null,d(y,v,S,_,null);Ba(y,S)}return null}function w(v,y,b,S){for(var _=null,C=null,N=y,j=y=0,$=null;N!==null&&j<b.length;j++){N.index>j?($=N,N=null):$=N.sibling;var B=f(v,N,b[j],S);if(B===null){N===null&&(N=$);break}e&&N&&B.alternate===null&&t(v,N),y=o(B,y,j),C===null?_=B:C.sibling=B,C=B,N=$}if(j===b.length)return n(v,N),Me&&Jr(v,j),_;if(N===null){for(;j<b.length;j++)N=h(v,b[j],S),N!==null&&(y=o(N,y,j),C===null?_=N:C.sibling=N,C=N);return Me&&Jr(v,j),_}for(N=r(v,N);j<b.length;j++)$=g(N,v,j,b[j],S),$!==null&&(e&&$.alternate!==null&&N.delete($.key===null?j:$.key),y=o($,y,j),C===null?_=$:C.sibling=$,C=$);return e&&N.forEach(function(L){return t(v,L)}),Me&&Jr(v,j),_}function m(v,y,b,S){var _=ei(b);if(typeof _!="function")throw Error(H(150));if(b=_.call(b),b==null)throw Error(H(151));for(var C=_=null,N=y,j=y=0,$=null,B=b.next();N!==null&&!B.done;j++,B=b.next()){N.index>j?($=N,N=null):$=N.sibling;var L=f(v,N,B.value,S);if(L===null){N===null&&(N=$);break}e&&N&&L.alternate===null&&t(v,N),y=o(L,y,j),C===null?_=L:C.sibling=L,C=L,N=$}if(B.done)return n(v,N),Me&&Jr(v,j),_;if(N===null){for(;!B.done;j++,B=b.next())B=h(v,B.value,S),B!==null&&(y=o(B,y,j),C===null?_=B:C.sibling=B,C=B);return Me&&Jr(v,j),_}for(N=r(v,N);!B.done;j++,B=b.next())B=g(N,v,j,B.value,S),B!==null&&(e&&B.alternate!==null&&N.delete(B.key===null?j:B.key),y=o(B,y,j),C===null?_=B:C.sibling=B,C=B);return e&&N.forEach(function(k){return t(v,k)}),Me&&Jr(v,j),_}function x(v,y,b,S){if(typeof b=="object"&&b!==null&&b.type===Vs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Pa:e:{for(var _=b.key,C=y;C!==null;){if(C.key===_){if(_=b.type,_===Vs){if(C.tag===7){n(v,C.sibling),y=s(C,b.props.children),y.return=v,v=y;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===mr&&Fm(_)===C.type){n(v,C.sibling),y=s(C,b.props),y.ref=oi(v,C,b),y.return=v,v=y;break e}n(v,C);break}else t(v,C);C=C.sibling}b.type===Vs?(y=ds(b.props.children,v.mode,S,b.key),y.return=v,v=y):(S=vl(b.type,b.key,b.props,null,v.mode,S),S.ref=oi(v,y,b),S.return=v,v=S)}return i(v);case Hs:e:{for(C=b.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=s(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=zu(b,v.mode,S),y.return=v,v=y}return i(v);case mr:return C=b._init,x(v,y,C(b._payload),S)}if(pi(b))return w(v,y,b,S);if(ei(b))return m(v,y,b,S);Ba(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,b),y.return=v,v=y):(n(v,y),y=Bu(b,v.mode,S),y.return=v,v=y),i(v)):n(v,y)}return x}var ko=Zy(!0),e0=Zy(!1),$l=Vr(null),Fl=null,Zs=null,yh=null;function xh(){yh=Zs=Fl=null}function wh(e){var t=$l.current;Ie($l),e._currentValue=t}function Gd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function io(e,t){Fl=e,yh=Zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jt=!0),e.firstContext=null)}function tn(e){var t=e._currentValue;if(yh!==e)if(e={context:e,memoizedValue:t,next:null},Zs===null){if(Fl===null)throw Error(H(308));Zs=e,Fl.dependencies={lanes:0,firstContext:e}}else Zs=Zs.next=e;return t}var ss=null;function bh(e){ss===null?ss=[e]:ss.push(e)}function t0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,bh(t)):(n.next=s.next,s.next=n),t.interleaved=n,nr(e,r)}function nr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var gr=!1;function Sh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,nr(e,n)}return s=r.interleaved,s===null?(t.next=t,bh(r)):(t.next=s.next,s.next=t),r.interleaved=t,nr(e,n)}function dl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ah(e,n)}}function Um(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ul(e,t,n,r){var s=e.updateQueue;gr=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var h=s.baseState;i=0,d=u=c=null,a=o;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,m=a;switch(f=t,g=n,m.tag){case 1:if(w=m.payload,typeof w=="function"){h=w.call(g,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=m.payload,f=typeof w=="function"?w.call(g,h,f):w,f==null)break e;h=Be({},h,f);break e;case 2:gr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);ys|=i,e.lanes=i,e.memoizedState=h}}function Bm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var da={},Mn=Vr(da),Hi=Vr(da),Vi=Vr(da);function os(e){if(e===da)throw Error(H(174));return e}function _h(e,t){switch(Te(Vi,t),Te(Hi,e),Te(Mn,da),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kd(t,e)}Ie(Mn),Te(Mn,t)}function To(){Ie(Mn),Ie(Hi),Ie(Vi)}function r0(e){os(Vi.current);var t=os(Mn.current),n=kd(t,e.type);t!==n&&(Te(Hi,e),Te(Mn,n))}function Eh(e){Hi.current===e&&(Ie(Mn),Ie(Hi))}var Le=Vr(0);function Bl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Iu=[];function Ch(){for(var e=0;e<Iu.length;e++)Iu[e]._workInProgressVersionPrimary=null;Iu.length=0}var fl=ir.ReactCurrentDispatcher,Mu=ir.ReactCurrentBatchConfig,vs=0,Ue=null,Qe=null,et=null,zl=!1,Ei=!1,qi=0,$E=0;function lt(){throw Error(H(321))}function Nh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vn(e[n],t[n]))return!1;return!0}function jh(e,t,n,r,s,o){if(vs=o,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fl.current=e===null||e.memoizedState===null?zE:WE,e=n(r,s),Ei){o=0;do{if(Ei=!1,qi=0,25<=o)throw Error(H(301));o+=1,et=Qe=null,t.updateQueue=null,fl.current=HE,e=n(r,s)}while(Ei)}if(fl.current=Wl,t=Qe!==null&&Qe.next!==null,vs=0,et=Qe=Ue=null,zl=!1,t)throw Error(H(300));return e}function kh(){var e=qi!==0;return qi=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ue.memoizedState=et=e:et=et.next=e,et}function nn(){if(Qe===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=Qe.next;var t=et===null?Ue.memoizedState:et.next;if(t!==null)et=t,Qe=e;else{if(e===null)throw Error(H(310));Qe=e,e={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},et===null?Ue.memoizedState=et=e:et=et.next=e}return et}function Yi(e,t){return typeof t=="function"?t(e):t}function Lu(e){var t=nn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Qe,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((vs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,i=r):c=c.next=h,Ue.lanes|=d,ys|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,vn(r,t.memoizedState)||(jt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,Ue.lanes|=o,ys|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function $u(e){var t=nn(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);vn(o,t.memoizedState)||(jt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function s0(){}function o0(e,t){var n=Ue,r=nn(),s=t(),o=!vn(r.memoizedState,s);if(o&&(r.memoizedState=s,jt=!0),r=r.queue,Th(l0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,Gi(9,a0.bind(null,n,r,s,t),void 0,null),tt===null)throw Error(H(349));vs&30||i0(n,t,s)}return s}function i0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function a0(e,t,n,r){t.value=n,t.getSnapshot=r,c0(t)&&u0(e)}function l0(e,t,n){return n(function(){c0(t)&&u0(e)})}function c0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vn(e,n)}catch{return!0}}function u0(e){var t=nr(e,1);t!==null&&gn(t,e,1,-1)}function zm(e){var t=jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},t.queue=e,e=e.dispatch=BE.bind(null,Ue,e),[t.memoizedState,e]}function Gi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ue.updateQueue,t===null?(t={lastEffect:null,stores:null},Ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function d0(){return nn().memoizedState}function hl(e,t,n,r){var s=jn();Ue.flags|=e,s.memoizedState=Gi(1|t,n,void 0,r===void 0?null:r)}function wc(e,t,n,r){var s=nn();r=r===void 0?null:r;var o=void 0;if(Qe!==null){var i=Qe.memoizedState;if(o=i.destroy,r!==null&&Nh(r,i.deps)){s.memoizedState=Gi(t,n,o,r);return}}Ue.flags|=e,s.memoizedState=Gi(1|t,n,o,r)}function Wm(e,t){return hl(8390656,8,e,t)}function Th(e,t){return wc(2048,8,e,t)}function f0(e,t){return wc(4,2,e,t)}function h0(e,t){return wc(4,4,e,t)}function p0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m0(e,t,n){return n=n!=null?n.concat([e]):null,wc(4,4,p0.bind(null,t,e),n)}function Ph(){}function g0(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function v0(e,t){var n=nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function y0(e,t,n){return vs&21?(vn(n,t)||(n=_y(),Ue.lanes|=n,ys|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=n)}function FE(e,t){var n=_e;_e=n!==0&&4>n?n:4,e(!0);var r=Mu.transition;Mu.transition={};try{e(!1),t()}finally{_e=n,Mu.transition=r}}function x0(){return nn().memoizedState}function UE(e,t,n){var r=Ir(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w0(e))b0(t,n);else if(n=t0(e,t,n,r),n!==null){var s=xt();gn(n,e,r,s),S0(n,t,r)}}function BE(e,t,n){var r=Ir(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w0(e))b0(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,vn(a,i)){var c=t.interleaved;c===null?(s.next=s,bh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=t0(e,t,s,r),n!==null&&(s=xt(),gn(n,e,r,s),S0(n,t,r))}}function w0(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function b0(e,t){Ei=zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function S0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ah(e,n)}}var Wl={readContext:tn,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},zE={readContext:tn,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:tn,useEffect:Wm,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,hl(4194308,4,p0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return hl(4,2,e,t)},useMemo:function(e,t){var n=jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=UE.bind(null,Ue,e),[r.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:zm,useDebugValue:Ph,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=zm(!1),t=e[0];return e=FE.bind(null,e[1]),jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ue,s=jn();if(Me){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),tt===null)throw Error(H(349));vs&30||i0(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Wm(l0.bind(null,r,o,e),[e]),r.flags|=2048,Gi(9,a0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=jn(),t=tt.identifierPrefix;if(Me){var n=Qn,r=Kn;n=(r&~(1<<32-mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=qi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$E++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},WE={readContext:tn,useCallback:g0,useContext:tn,useEffect:Th,useImperativeHandle:m0,useInsertionEffect:f0,useLayoutEffect:h0,useMemo:v0,useReducer:Lu,useRef:d0,useState:function(){return Lu(Yi)},useDebugValue:Ph,useDeferredValue:function(e){var t=nn();return y0(t,Qe.memoizedState,e)},useTransition:function(){var e=Lu(Yi)[0],t=nn().memoizedState;return[e,t]},useMutableSource:s0,useSyncExternalStore:o0,useId:x0,unstable_isNewReconciler:!1},HE={readContext:tn,useCallback:g0,useContext:tn,useEffect:Th,useImperativeHandle:m0,useInsertionEffect:f0,useLayoutEffect:h0,useMemo:v0,useReducer:$u,useRef:d0,useState:function(){return $u(Yi)},useDebugValue:Ph,useDeferredValue:function(e){var t=nn();return Qe===null?t.memoizedState=e:y0(t,Qe.memoizedState,e)},useTransition:function(){var e=$u(Yi)[0],t=nn().memoizedState;return[e,t]},useMutableSource:s0,useSyncExternalStore:o0,useId:x0,unstable_isNewReconciler:!1};function cn(e,t){if(e&&e.defaultProps){t=Be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Kd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var bc={isMounted:function(e){return(e=e._reactInternals)?ks(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xt(),s=Ir(e),o=Jn(r,s);o.payload=t,n!=null&&(o.callback=n),t=Dr(e,o,s),t!==null&&(gn(t,e,s,r),dl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xt(),s=Ir(e),o=Jn(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Dr(e,o,s),t!==null&&(gn(t,e,s,r),dl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xt(),r=Ir(e),s=Jn(n,r);s.tag=2,t!=null&&(s.callback=t),t=Dr(e,s,r),t!==null&&(gn(t,e,r,n),dl(t,e,r))}};function Hm(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ui(n,r)||!Ui(s,o):!0}function _0(e,t,n){var r=!1,s=$r,o=t.contextType;return typeof o=="object"&&o!==null?o=tn(o):(s=Pt(t)?ms:ft.current,r=t.contextTypes,o=(r=r!=null)?No(e,s):$r),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&bc.enqueueReplaceState(t,t.state,null)}function Qd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Sh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=tn(o):(o=Pt(t)?ms:ft.current,s.context=No(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Kd(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bc.enqueueReplaceState(s,s.state,null),Ul(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Po(e,t){try{var n="",r=t;do n+=y_(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Fu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var VE=typeof WeakMap=="function"?WeakMap:Map;function E0(e,t,n){n=Jn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,lf=r),Xd(e,t)},n}function C0(e,t,n){n=Jn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Xd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Xd(e,t),typeof r!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function qm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new VE;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=oC.bind(null,e,t,n),t.then(e,e))}function Ym(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gm(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Jn(-1,1),t.tag=2,Dr(n,t,1))),n.lanes|=1),e)}var qE=ir.ReactCurrentOwner,jt=!1;function mt(e,t,n,r){t.child=e===null?e0(t,null,n,r):ko(t,e.child,n,r)}function Km(e,t,n,r,s){n=n.render;var o=t.ref;return io(t,s),r=jh(e,t,n,r,o,s),n=kh(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rr(e,t,s)):(Me&&n&&mh(t),t.flags|=1,mt(e,t,r,s),t.child)}function Qm(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!$h(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,N0(e,t,o,r,s)):(e=vl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ui,n(i,r)&&e.ref===t.ref)return rr(e,t,s)}return t.flags|=1,e=Mr(o,r),e.ref=t.ref,e.return=t,t.child=e}function N0(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ui(o,r)&&e.ref===t.ref)if(jt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,rr(e,t,s)}return Jd(e,t,n,r,s)}function j0(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(to,It),It|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(to,It),It|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Te(to,It),It|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Te(to,It),It|=r;return mt(e,t,s,n),t.child}function k0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Jd(e,t,n,r,s){var o=Pt(n)?ms:ft.current;return o=No(t,o),io(t,s),n=jh(e,t,n,r,o,s),r=kh(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rr(e,t,s)):(Me&&r&&mh(t),t.flags|=1,mt(e,t,n,s),t.child)}function Xm(e,t,n,r,s){if(Pt(n)){var o=!0;Il(t)}else o=!1;if(io(t,s),t.stateNode===null)pl(e,t),_0(t,n,r),Qd(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=tn(u):(u=Pt(n)?ms:ft.current,u=No(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Vm(t,i,r,u),gr=!1;var f=t.memoizedState;i.state=f,Ul(t,r,i,s),c=t.memoizedState,a!==r||f!==c||Tt.current||gr?(typeof d=="function"&&(Kd(t,n,d,r),c=t.memoizedState),(a=gr||Hm(t,n,a,r,f,c,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,n0(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:cn(t.type,a),i.props=u,h=t.pendingProps,f=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=tn(c):(c=Pt(n)?ms:ft.current,c=No(t,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||f!==c)&&Vm(t,i,r,c),gr=!1,f=t.memoizedState,i.state=f,Ul(t,r,i,s);var w=t.memoizedState;a!==h||f!==w||Tt.current||gr?(typeof g=="function"&&(Kd(t,n,g,r),w=t.memoizedState),(u=gr||Hm(t,n,u,r,f,w,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Zd(e,t,n,r,o,s)}function Zd(e,t,n,r,s,o){k0(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Mm(t,n,!1),rr(e,t,o);r=t.stateNode,qE.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,a,o)):mt(e,t,a,o),t.memoizedState=r.state,s&&Mm(t,n,!0),t.child}function T0(e){var t=e.stateNode;t.pendingContext?Im(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Im(e,t.context,!1),_h(e,t.containerInfo)}function Jm(e,t,n,r,s){return jo(),vh(s),t.flags|=256,mt(e,t,n,r),t.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(e){return{baseLanes:e,cachePool:null,transitions:null}}function P0(e,t,n){var r=t.pendingProps,s=Le.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Te(Le,s&1),e===null)return Yd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ec(i,r,0,null),e=ds(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=tf(n),t.memoizedState=ef,e):Rh(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return YE(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Mr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Mr(a,o):(o=ds(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?tf(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=ef,r}return o=e.child,e=o.sibling,r=Mr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rh(e,t){return t=Ec({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function za(e,t,n,r){return r!==null&&vh(r),ko(t,e.child,null,n),e=Rh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YE(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Fu(Error(H(422))),za(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Ec({mode:"visible",children:r.children},s,0,null),o=ds(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ko(t,e.child,null,i),t.child.memoizedState=tf(i),t.memoizedState=ef,o);if(!(t.mode&1))return za(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=Fu(o,r,void 0),za(e,t,i,r)}if(a=(i&e.childLanes)!==0,jt||a){if(r=tt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,nr(e,s),gn(r,e,s,-1))}return Lh(),r=Fu(Error(H(421))),za(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=iC.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Lt=Or(s.nextSibling),$t=t,Me=!0,pn=null,e!==null&&(Gt[Kt++]=Kn,Gt[Kt++]=Qn,Gt[Kt++]=gs,Kn=e.id,Qn=e.overflow,gs=t),t=Rh(t,r.children),t.flags|=4096,t)}function Zm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Gd(e.return,t,n)}function Uu(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function R0(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(mt(e,t,r.children,n),r=Le.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zm(e,n,t);else if(e.tag===19)Zm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Te(Le,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Bl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Uu(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Bl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Uu(t,!0,n,null,o);break;case"together":Uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ys|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=Mr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Mr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function GE(e,t,n){switch(t.tag){case 3:T0(t),jo();break;case 5:r0(t);break;case 1:Pt(t.type)&&Il(t);break;case 4:_h(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Te($l,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Te(Le,Le.current&1),t.flags|=128,null):n&t.child.childLanes?P0(e,t,n):(Te(Le,Le.current&1),e=rr(e,t,n),e!==null?e.sibling:null);Te(Le,Le.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return R0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Te(Le,Le.current),r)break;return null;case 22:case 23:return t.lanes=0,j0(e,t,n)}return rr(e,t,n)}var O0,nf,D0,A0;O0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nf=function(){};D0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,os(Mn.current);var o=null;switch(n){case"input":s=Ed(e,s),r=Ed(e,r),o=[];break;case"select":s=Be({},s,{value:void 0}),r=Be({},r,{value:void 0}),o=[];break;case"textarea":s=jd(e,s),r=jd(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Dl)}Td(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Di.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Di.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ae("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};A0=function(e,t,n,r){n!==r&&(t.flags|=4)};function ii(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function KE(e,t,n){var r=t.pendingProps;switch(gh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return Pt(t.type)&&Al(),ct(t),null;case 3:return r=t.stateNode,To(),Ie(Tt),Ie(ft),Ch(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ua(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pn!==null&&(df(pn),pn=null))),nf(e,t),ct(t),null;case 5:Eh(t);var s=os(Vi.current);if(n=t.type,e!==null&&t.stateNode!=null)D0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return ct(t),null}if(e=os(Mn.current),Ua(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Rn]=t,r[Wi]=o,e=(t.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(s=0;s<gi.length;s++)Ae(gi[s],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":lm(r,o),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ae("invalid",r);break;case"textarea":um(r,o),Ae("invalid",r)}Td(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Fa(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Fa(r.textContent,a,e),s=["children",""+a]):Di.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ae("scroll",r)}switch(n){case"input":Ra(r),cm(r,o,!0);break;case"textarea":Ra(r),dm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Dl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ly(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Rn]=t,e[Wi]=r,O0(e,t,!1,!1),t.stateNode=e;e:{switch(i=Pd(n,r),n){case"dialog":Ae("cancel",e),Ae("close",e),s=r;break;case"iframe":case"object":case"embed":Ae("load",e),s=r;break;case"video":case"audio":for(s=0;s<gi.length;s++)Ae(gi[s],e);s=r;break;case"source":Ae("error",e),s=r;break;case"img":case"image":case"link":Ae("error",e),Ae("load",e),s=r;break;case"details":Ae("toggle",e),s=r;break;case"input":lm(e,r),s=Ed(e,r),Ae("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Be({},r,{value:void 0}),Ae("invalid",e);break;case"textarea":um(e,r),s=jd(e,r),Ae("invalid",e);break;default:s=r}Td(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?dy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cy(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ai(e,c):typeof c=="number"&&Ai(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Di.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ae("scroll",e):c!=null&&th(e,o,c,i))}switch(n){case"input":Ra(e),cm(e,r,!1);break;case"textarea":Ra(e),dm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Lr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?no(e,!!r.multiple,o,!1):r.defaultValue!=null&&no(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)A0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=os(Vi.current),os(Mn.current),Ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rn]=t,(o=r.nodeValue!==n)&&(e=$t,e!==null))switch(e.tag){case 3:Fa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rn]=t,t.stateNode=r}return ct(t),null;case 13:if(Ie(Le),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&Lt!==null&&t.mode&1&&!(t.flags&128))Jy(),jo(),t.flags|=98560,o=!1;else if(o=Ua(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(H(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Rn]=t}else jo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),o=!1}else pn!==null&&(df(pn),pn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Xe===0&&(Xe=3):Lh())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return To(),nf(e,t),e===null&&Bi(t.stateNode.containerInfo),ct(t),null;case 10:return wh(t.type._context),ct(t),null;case 17:return Pt(t.type)&&Al(),ct(t),null;case 19:if(Ie(Le),o=t.memoizedState,o===null)return ct(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ii(o,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Bl(e),i!==null){for(t.flags|=128,ii(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Le,Le.current&1|2),t.child}e=e.sibling}o.tail!==null&&qe()>Ro&&(t.flags|=128,r=!0,ii(o,!1),t.lanes=4194304)}else{if(!r)if(e=Bl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ii(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Me)return ct(t),null}else 2*qe()-o.renderingStartTime>Ro&&n!==1073741824&&(t.flags|=128,r=!0,ii(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qe(),t.sibling=null,n=Le.current,Te(Le,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return Mh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?It&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function QE(e,t){switch(gh(t),t.tag){case 1:return Pt(t.type)&&Al(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return To(),Ie(Tt),Ie(ft),Ch(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eh(t),null;case 13:if(Ie(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));jo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Le),null;case 4:return To(),null;case 10:return wh(t.type._context),null;case 22:case 23:return Mh(),null;case 24:return null;default:return null}}var Wa=!1,dt=!1,XE=typeof WeakSet=="function"?WeakSet:Set,Y=null;function eo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(e,t,r)}else n.current=null}function rf(e,t,n){try{n()}catch(r){He(e,t,r)}}var eg=!1;function JE(e,t){if(Ud=Pl,e=Fy(),ph(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(c=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=i),f===o&&++d===r&&(c=i),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bd={focusedElem:e,selectionRange:n},Pl=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var m=w.memoizedProps,x=w.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:cn(t.type,m),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(S){He(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return w=eg,eg=!1,w}function Ci(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&rf(t,n,o)}s=s.next}while(s!==r)}}function Sc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function I0(e){var t=e.alternate;t!==null&&(e.alternate=null,I0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rn],delete t[Wi],delete t[Hd],delete t[AE],delete t[IE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function M0(e){return e.tag===5||e.tag===3||e.tag===4}function tg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||M0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function of(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Dl));else if(r!==4&&(e=e.child,e!==null))for(of(e,t,n),e=e.sibling;e!==null;)of(e,t,n),e=e.sibling}function af(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(af(e,t,n),e=e.sibling;e!==null;)af(e,t,n),e=e.sibling}var nt=null,fn=!1;function lr(e,t,n){for(n=n.child;n!==null;)L0(e,t,n),n=n.sibling}function L0(e,t,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(pc,n)}catch{}switch(n.tag){case 5:dt||eo(n,t);case 6:var r=nt,s=fn;nt=null,lr(e,t,n),nt=r,fn=s,nt!==null&&(fn?(e=nt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):nt.removeChild(n.stateNode));break;case 18:nt!==null&&(fn?(e=nt,n=n.stateNode,e.nodeType===8?Du(e.parentNode,n):e.nodeType===1&&Du(e,n),$i(e)):Du(nt,n.stateNode));break;case 4:r=nt,s=fn,nt=n.stateNode.containerInfo,fn=!0,lr(e,t,n),nt=r,fn=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&rf(n,t,i),s=s.next}while(s!==r)}lr(e,t,n);break;case 1:if(!dt&&(eo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,t,a)}lr(e,t,n);break;case 21:lr(e,t,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,lr(e,t,n),dt=r):lr(e,t,n);break;default:lr(e,t,n)}}function ng(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new XE),t.forEach(function(r){var s=aC.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function on(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:nt=a.stateNode,fn=!1;break e;case 3:nt=a.stateNode.containerInfo,fn=!0;break e;case 4:nt=a.stateNode.containerInfo,fn=!0;break e}a=a.return}if(nt===null)throw Error(H(160));L0(o,i,s),nt=null,fn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){He(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$0(t,e),t=t.sibling}function $0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(on(t,e),Nn(e),r&4){try{Ci(3,e,e.return),Sc(3,e)}catch(m){He(e,e.return,m)}try{Ci(5,e,e.return)}catch(m){He(e,e.return,m)}}break;case 1:on(t,e),Nn(e),r&512&&n!==null&&eo(n,n.return);break;case 5:if(on(t,e),Nn(e),r&512&&n!==null&&eo(n,n.return),e.flags&32){var s=e.stateNode;try{Ai(s,"")}catch(m){He(e,e.return,m)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&iy(s,o),Pd(a,i);var u=Pd(a,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];d==="style"?dy(s,h):d==="dangerouslySetInnerHTML"?cy(s,h):d==="children"?Ai(s,h):th(s,d,h,u)}switch(a){case"input":Cd(s,o);break;case"textarea":ay(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?no(s,!!o.multiple,g,!1):f!==!!o.multiple&&(o.defaultValue!=null?no(s,!!o.multiple,o.defaultValue,!0):no(s,!!o.multiple,o.multiple?[]:"",!1))}s[Wi]=o}catch(m){He(e,e.return,m)}}break;case 6:if(on(t,e),Nn(e),r&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(m){He(e,e.return,m)}}break;case 3:if(on(t,e),Nn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$i(t.containerInfo)}catch(m){He(e,e.return,m)}break;case 4:on(t,e),Nn(e);break;case 13:on(t,e),Nn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ah=qe())),r&4&&ng(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(dt=(u=dt)||d,on(t,e),dt=u):on(t,e),Nn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Y=e,d=e.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ci(4,f,f.return);break;case 1:eo(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(m){He(r,n,m)}}break;case 5:eo(f,f.return);break;case 22:if(f.memoizedState!==null){sg(h);continue}}g!==null?(g.return=f,Y=g):sg(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=uy("display",i))}catch(m){He(e,e.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){He(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:on(t,e),Nn(e),r&4&&ng(e);break;case 21:break;default:on(t,e),Nn(e)}}function Nn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(M0(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ai(s,""),r.flags&=-33);var o=tg(e);af(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=tg(e);of(e,a,i);break;default:throw Error(H(161))}}catch(c){He(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ZE(e,t,n){Y=e,F0(e)}function F0(e,t,n){for(var r=(e.mode&1)!==0;Y!==null;){var s=Y,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Wa;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||dt;a=Wa;var u=dt;if(Wa=i,(dt=c)&&!u)for(Y=s;Y!==null;)i=Y,c=i.child,i.tag===22&&i.memoizedState!==null?og(s):c!==null?(c.return=i,Y=c):og(s);for(;o!==null;)Y=o,F0(o),o=o.sibling;Y=s,Wa=a,dt=u}rg(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Y=o):rg(e)}}function rg(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:dt||Sc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:cn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Bm(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bm(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&$i(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}dt||t.flags&512&&sf(t)}catch(f){He(t,t.return,f)}}if(t===e){Y=null;break}if(n=t.sibling,n!==null){n.return=t.return,Y=n;break}Y=t.return}}function sg(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Y=n;break}Y=t.return}}function og(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Sc(4,t)}catch(c){He(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){He(t,s,c)}}var o=t.return;try{sf(t)}catch(c){He(t,o,c)}break;case 5:var i=t.return;try{sf(t)}catch(c){He(t,i,c)}}}catch(c){He(t,t.return,c)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var eC=Math.ceil,Hl=ir.ReactCurrentDispatcher,Oh=ir.ReactCurrentOwner,Zt=ir.ReactCurrentBatchConfig,ge=0,tt=null,Ke=null,st=0,It=0,to=Vr(0),Xe=0,Ki=null,ys=0,_c=0,Dh=0,Ni=null,Ct=null,Ah=0,Ro=1/0,qn=null,Vl=!1,lf=null,Ar=null,Ha=!1,jr=null,ql=0,ji=0,cf=null,ml=-1,gl=0;function xt(){return ge&6?qe():ml!==-1?ml:ml=qe()}function Ir(e){return e.mode&1?ge&2&&st!==0?st&-st:LE.transition!==null?(gl===0&&(gl=_y()),gl):(e=_e,e!==0||(e=window.event,e=e===void 0?16:Py(e.type)),e):1}function gn(e,t,n,r){if(50<ji)throw ji=0,cf=null,Error(H(185));la(e,n,r),(!(ge&2)||e!==tt)&&(e===tt&&(!(ge&2)&&(_c|=n),Xe===4&&xr(e,st)),Rt(e,r),n===1&&ge===0&&!(t.mode&1)&&(Ro=qe()+500,xc&&qr()))}function Rt(e,t){var n=e.callbackNode;L_(e,t);var r=Tl(e,e===tt?st:0);if(r===0)n!==null&&pm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&pm(n),t===1)e.tag===0?ME(ig.bind(null,e)):Ky(ig.bind(null,e)),OE(function(){!(ge&6)&&qr()}),n=null;else{switch(Ey(r)){case 1:n=ih;break;case 4:n=by;break;case 16:n=kl;break;case 536870912:n=Sy;break;default:n=kl}n=Y0(n,U0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function U0(e,t){if(ml=-1,gl=0,ge&6)throw Error(H(327));var n=e.callbackNode;if(ao()&&e.callbackNode!==n)return null;var r=Tl(e,e===tt?st:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yl(e,r);else{t=r;var s=ge;ge|=2;var o=z0();(tt!==e||st!==t)&&(qn=null,Ro=qe()+500,us(e,t));do try{rC();break}catch(a){B0(e,a)}while(!0);xh(),Hl.current=o,ge=s,Ke!==null?t=0:(tt=null,st=0,t=Xe)}if(t!==0){if(t===2&&(s=Id(e),s!==0&&(r=s,t=uf(e,s))),t===1)throw n=Ki,us(e,0),xr(e,r),Rt(e,qe()),n;if(t===6)xr(e,r);else{if(s=e.current.alternate,!(r&30)&&!tC(s)&&(t=Yl(e,r),t===2&&(o=Id(e),o!==0&&(r=o,t=uf(e,o))),t===1))throw n=Ki,us(e,0),xr(e,r),Rt(e,qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:Zr(e,Ct,qn);break;case 3:if(xr(e,r),(r&130023424)===r&&(t=Ah+500-qe(),10<t)){if(Tl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){xt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Wd(Zr.bind(null,e,Ct,qn),t);break}Zr(e,Ct,qn);break;case 4:if(xr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-mn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eC(r/1960))-r,10<r){e.timeoutHandle=Wd(Zr.bind(null,e,Ct,qn),r);break}Zr(e,Ct,qn);break;case 5:Zr(e,Ct,qn);break;default:throw Error(H(329))}}}return Rt(e,qe()),e.callbackNode===n?U0.bind(null,e):null}function uf(e,t){var n=Ni;return e.current.memoizedState.isDehydrated&&(us(e,t).flags|=256),e=Yl(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&df(t)),e}function df(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function tC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!vn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t){for(t&=~Dh,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-mn(t),r=1<<n;e[n]=-1,t&=~r}}function ig(e){if(ge&6)throw Error(H(327));ao();var t=Tl(e,0);if(!(t&1))return Rt(e,qe()),null;var n=Yl(e,t);if(e.tag!==0&&n===2){var r=Id(e);r!==0&&(t=r,n=uf(e,r))}if(n===1)throw n=Ki,us(e,0),xr(e,t),Rt(e,qe()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zr(e,Ct,qn),Rt(e,qe()),null}function Ih(e,t){var n=ge;ge|=1;try{return e(t)}finally{ge=n,ge===0&&(Ro=qe()+500,xc&&qr())}}function xs(e){jr!==null&&jr.tag===0&&!(ge&6)&&ao();var t=ge;ge|=1;var n=Zt.transition,r=_e;try{if(Zt.transition=null,_e=1,e)return e()}finally{_e=r,Zt.transition=n,ge=t,!(ge&6)&&qr()}}function Mh(){It=to.current,Ie(to)}function us(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,RE(n)),Ke!==null)for(n=Ke.return;n!==null;){var r=n;switch(gh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Al();break;case 3:To(),Ie(Tt),Ie(ft),Ch();break;case 5:Eh(r);break;case 4:To();break;case 13:Ie(Le);break;case 19:Ie(Le);break;case 10:wh(r.type._context);break;case 22:case 23:Mh()}n=n.return}if(tt=e,Ke=e=Mr(e.current,null),st=It=t,Xe=0,Ki=null,Dh=_c=ys=0,Ct=Ni=null,ss!==null){for(t=0;t<ss.length;t++)if(n=ss[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}ss=null}return e}function B0(e,t){do{var n=Ke;try{if(xh(),fl.current=Wl,zl){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zl=!1}if(vs=0,et=Qe=Ue=null,Ei=!1,qi=0,Oh.current=null,n===null||n.return===null){Xe=1,Ki=t,Ke=null;break}e:{var o=e,i=n.return,a=n,c=t;if(t=st,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Ym(i);if(g!==null){g.flags&=-257,Gm(g,i,a,o,t),g.mode&1&&qm(o,u,t),t=g,c=u;var w=t.updateQueue;if(w===null){var m=new Set;m.add(c),t.updateQueue=m}else w.add(c);break e}else{if(!(t&1)){qm(o,u,t),Lh();break e}c=Error(H(426))}}else if(Me&&a.mode&1){var x=Ym(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Gm(x,i,a,o,t),vh(Po(c,a));break e}}o=c=Po(c,a),Xe!==4&&(Xe=2),Ni===null?Ni=[o]:Ni.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=E0(o,c,t);Um(o,v);break e;case 1:a=c;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ar===null||!Ar.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=C0(o,a,t);Um(o,S);break e}}o=o.return}while(o!==null)}H0(n)}catch(_){t=_,Ke===n&&n!==null&&(Ke=n=n.return);continue}break}while(!0)}function z0(){var e=Hl.current;return Hl.current=Wl,e===null?Wl:e}function Lh(){(Xe===0||Xe===3||Xe===2)&&(Xe=4),tt===null||!(ys&268435455)&&!(_c&268435455)||xr(tt,st)}function Yl(e,t){var n=ge;ge|=2;var r=z0();(tt!==e||st!==t)&&(qn=null,us(e,t));do try{nC();break}catch(s){B0(e,s)}while(!0);if(xh(),ge=n,Hl.current=r,Ke!==null)throw Error(H(261));return tt=null,st=0,Xe}function nC(){for(;Ke!==null;)W0(Ke)}function rC(){for(;Ke!==null&&!k_();)W0(Ke)}function W0(e){var t=q0(e.alternate,e,It);e.memoizedProps=e.pendingProps,t===null?H0(e):Ke=t,Oh.current=null}function H0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=QE(n,t),n!==null){n.flags&=32767,Ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xe=6,Ke=null;return}}else if(n=KE(n,t,It),n!==null){Ke=n;return}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Xe===0&&(Xe=5)}function Zr(e,t,n){var r=_e,s=Zt.transition;try{Zt.transition=null,_e=1,sC(e,t,n,r)}finally{Zt.transition=s,_e=r}return null}function sC(e,t,n,r){do ao();while(jr!==null);if(ge&6)throw Error(H(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if($_(e,o),e===tt&&(Ke=tt=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ha||(Ha=!0,Y0(kl,function(){return ao(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zt.transition,Zt.transition=null;var i=_e;_e=1;var a=ge;ge|=4,Oh.current=null,JE(e,n),$0(n,e),EE(Bd),Pl=!!Ud,Bd=Ud=null,e.current=n,ZE(n),T_(),ge=a,_e=i,Zt.transition=o}else e.current=n;if(Ha&&(Ha=!1,jr=e,ql=s),o=e.pendingLanes,o===0&&(Ar=null),O_(n.stateNode),Rt(e,qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vl)throw Vl=!1,e=lf,lf=null,e;return ql&1&&e.tag!==0&&ao(),o=e.pendingLanes,o&1?e===cf?ji++:(ji=0,cf=e):ji=0,qr(),null}function ao(){if(jr!==null){var e=Ey(ql),t=Zt.transition,n=_e;try{if(Zt.transition=null,_e=16>e?16:e,jr===null)var r=!1;else{if(e=jr,jr=null,ql=0,ge&6)throw Error(H(331));var s=ge;for(ge|=4,Y=e.current;Y!==null;){var o=Y,i=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Ci(8,d,o)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,g=d.return;if(I0(d),d===u){Y=null;break}if(f!==null){f.return=g,Y=f;break}Y=g}}}var w=o.alternate;if(w!==null){var m=w.child;if(m!==null){w.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}Y=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Y=i;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ci(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Y=v;break e}Y=o.return}}var y=e.current;for(Y=y;Y!==null;){i=Y;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,Y=b;else e:for(i=y;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sc(9,a)}}catch(_){He(a,a.return,_)}if(a===i){Y=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Y=S;break e}Y=a.return}}if(ge=s,qr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(pc,e)}catch{}r=!0}return r}finally{_e=n,Zt.transition=t}}return!1}function ag(e,t,n){t=Po(n,t),t=E0(e,t,1),e=Dr(e,t,1),t=xt(),e!==null&&(la(e,1,t),Rt(e,t))}function He(e,t,n){if(e.tag===3)ag(e,e,n);else for(;t!==null;){if(t.tag===3){ag(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ar===null||!Ar.has(r))){e=Po(n,e),e=C0(t,e,1),t=Dr(t,e,1),e=xt(),t!==null&&(la(t,1,e),Rt(t,e));break}}t=t.return}}function oC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(st&n)===n&&(Xe===4||Xe===3&&(st&130023424)===st&&500>qe()-Ah?us(e,0):Dh|=n),Rt(e,t)}function V0(e,t){t===0&&(e.mode&1?(t=Aa,Aa<<=1,!(Aa&130023424)&&(Aa=4194304)):t=1);var n=xt();e=nr(e,t),e!==null&&(la(e,t,n),Rt(e,n))}function iC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),V0(e,n)}function aC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),V0(e,n)}var q0;q0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tt.current)jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jt=!1,GE(e,t,n);jt=!!(e.flags&131072)}else jt=!1,Me&&t.flags&1048576&&Qy(t,Ll,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;pl(e,t),e=t.pendingProps;var s=No(t,ft.current);io(t,n),s=jh(null,t,r,e,s,n);var o=kh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pt(r)?(o=!0,Il(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sh(t),s.updater=bc,t.stateNode=s,s._reactInternals=t,Qd(t,r,e,n),t=Zd(null,t,r,!0,o,n)):(t.tag=0,Me&&o&&mh(t),mt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(pl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=cC(r),e=cn(r,e),s){case 0:t=Jd(null,t,r,e,n);break e;case 1:t=Xm(null,t,r,e,n);break e;case 11:t=Km(null,t,r,e,n);break e;case 14:t=Qm(null,t,r,cn(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cn(r,s),Jd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cn(r,s),Xm(e,t,r,s,n);case 3:e:{if(T0(t),e===null)throw Error(H(387));r=t.pendingProps,o=t.memoizedState,s=o.element,n0(e,t),Ul(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Po(Error(H(423)),t),t=Jm(e,t,r,n,s);break e}else if(r!==s){s=Po(Error(H(424)),t),t=Jm(e,t,r,n,s);break e}else for(Lt=Or(t.stateNode.containerInfo.firstChild),$t=t,Me=!0,pn=null,n=e0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===s){t=rr(e,t,n);break e}mt(e,t,r,n)}t=t.child}return t;case 5:return r0(t),e===null&&Yd(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,zd(r,s)?i=null:o!==null&&zd(r,o)&&(t.flags|=32),k0(e,t),mt(e,t,i,n),t.child;case 6:return e===null&&Yd(t),null;case 13:return P0(e,t,n);case 4:return _h(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ko(t,null,r,n):mt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cn(r,s),Km(e,t,r,s,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Te($l,r._currentValue),r._currentValue=i,o!==null)if(vn(o.value,i)){if(o.children===s.children&&!Tt.current){t=rr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Jn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Gd(o.return,n,t),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(H(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Gd(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}mt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,io(t,n),s=tn(s),r=r(s),t.flags|=1,mt(e,t,r,n),t.child;case 14:return r=t.type,s=cn(r,t.pendingProps),s=cn(r.type,s),Qm(e,t,r,s,n);case 15:return N0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:cn(r,s),pl(e,t),t.tag=1,Pt(r)?(e=!0,Il(t)):e=!1,io(t,n),_0(t,r,s),Qd(t,r,s,n),Zd(null,t,r,!0,e,n);case 19:return R0(e,t,n);case 22:return j0(e,t,n)}throw Error(H(156,t.tag))};function Y0(e,t){return wy(e,t)}function lC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,n,r){return new lC(e,t,n,r)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cC(e){if(typeof e=="function")return $h(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rh)return 11;if(e===sh)return 14}return 2}function Mr(e,t){var n=e.alternate;return n===null?(n=Jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vl(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")$h(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Vs:return ds(n.children,s,o,t);case nh:i=8,s|=8;break;case wd:return e=Jt(12,n,t,s|2),e.elementType=wd,e.lanes=o,e;case bd:return e=Jt(13,n,t,s),e.elementType=bd,e.lanes=o,e;case Sd:return e=Jt(19,n,t,s),e.elementType=Sd,e.lanes=o,e;case ry:return Ec(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ty:i=10;break e;case ny:i=9;break e;case rh:i=11;break e;case sh:i=14;break e;case mr:i=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Jt(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function ds(e,t,n,r){return e=Jt(7,e,r,t),e.lanes=n,e}function Ec(e,t,n,r){return e=Jt(22,e,r,t),e.elementType=ry,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return e=Jt(6,e,null,t),e.lanes=n,e}function zu(e,t,n){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uC(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Su(0),this.expirationTimes=Su(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Su(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fh(e,t,n,r,s,o,i,a,c){return e=new uC(e,t,n,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Jt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sh(o),e}function dC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function G0(e){if(!e)return $r;e=e._reactInternals;e:{if(ks(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Pt(n))return Gy(e,n,t)}return t}function K0(e,t,n,r,s,o,i,a,c){return e=Fh(n,r,!0,e,s,o,i,a,c),e.context=G0(null),n=e.current,r=xt(),s=Ir(n),o=Jn(r,s),o.callback=t??null,Dr(n,o,s),e.current.lanes=s,la(e,s,r),Rt(e,r),e}function Cc(e,t,n,r){var s=t.current,o=xt(),i=Ir(s);return n=G0(n),t.context===null?t.context=n:t.pendingContext=n,t=Jn(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Dr(s,t,i),e!==null&&(gn(e,s,i,o),dl(e,s,i)),i}function Gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Uh(e,t){lg(e,t),(e=e.alternate)&&lg(e,t)}function fC(){return null}var Q0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bh(e){this._internalRoot=e}Nc.prototype.render=Bh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));Cc(e,t,null,null)};Nc.prototype.unmount=Bh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xs(function(){Cc(null,e,null,null)}),t[tr]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yr.length&&t!==0&&t<yr[n].priority;n++);yr.splice(n,0,e),n===0&&Ty(e)}};function zh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cg(){}function hC(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Gl(i);o.call(u)}}var i=K0(t,r,e,0,null,!1,!1,"",cg);return e._reactRootContainer=i,e[tr]=i.current,Bi(e.nodeType===8?e.parentNode:e),xs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Gl(c);a.call(u)}}var c=Fh(e,0,!1,null,null,!1,!1,"",cg);return e._reactRootContainer=c,e[tr]=c.current,Bi(e.nodeType===8?e.parentNode:e),xs(function(){Cc(t,c,n,r)}),c}function kc(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=Gl(i);a.call(c)}}Cc(t,i,e,s)}else i=hC(n,t,e,s,r);return Gl(i)}Cy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mi(t.pendingLanes);n!==0&&(ah(t,n|1),Rt(t,qe()),!(ge&6)&&(Ro=qe()+500,qr()))}break;case 13:xs(function(){var r=nr(e,1);if(r!==null){var s=xt();gn(r,e,1,s)}}),Uh(e,1)}};lh=function(e){if(e.tag===13){var t=nr(e,134217728);if(t!==null){var n=xt();gn(t,e,134217728,n)}Uh(e,134217728)}};Ny=function(e){if(e.tag===13){var t=Ir(e),n=nr(e,t);if(n!==null){var r=xt();gn(n,e,t,r)}Uh(e,t)}};jy=function(){return _e};ky=function(e,t){var n=_e;try{return _e=e,t()}finally{_e=n}};Od=function(e,t,n){switch(t){case"input":if(Cd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=yc(r);if(!s)throw Error(H(90));oy(r),Cd(r,s)}}}break;case"textarea":ay(e,n);break;case"select":t=n.value,t!=null&&no(e,!!n.multiple,t,!1)}};py=Ih;my=xs;var pC={usingClientEntryPoint:!1,Events:[ua,Ks,yc,fy,hy,Ih]},ai={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mC={bundleType:ai.bundleType,version:ai.version,rendererPackageName:ai.rendererPackageName,rendererConfig:ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yy(e),e===null?null:e.stateNode},findFiberByHostInstance:ai.findFiberByHostInstance||fC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Va=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Va.isDisabled&&Va.supportsFiber)try{pc=Va.inject(mC),In=Va}catch{}}Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pC;Wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zh(t))throw Error(H(200));return dC(e,t,null,n)};Wt.createRoot=function(e,t){if(!zh(e))throw Error(H(299));var n=!1,r="",s=Q0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fh(e,1,!1,null,null,n,!1,r,s),e[tr]=t.current,Bi(e.nodeType===8?e.parentNode:e),new Bh(t)};Wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=yy(t),e=e===null?null:e.stateNode,e};Wt.flushSync=function(e){return xs(e)};Wt.hydrate=function(e,t,n){if(!jc(t))throw Error(H(200));return kc(null,e,t,!0,n)};Wt.hydrateRoot=function(e,t,n){if(!zh(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Q0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=K0(t,null,e,1,n??null,s,!1,o,i),e[tr]=t.current,Bi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Nc(t)};Wt.render=function(e,t,n){if(!jc(t))throw Error(H(200));return kc(null,e,t,!1,n)};Wt.unmountComponentAtNode=function(e){if(!jc(e))throw Error(H(40));return e._reactRootContainer?(xs(function(){kc(null,null,e,!1,function(){e._reactRootContainer=null,e[tr]=null})}),!0):!1};Wt.unstable_batchedUpdates=Ih;Wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!jc(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return kc(e,t,n,!1,r)};Wt.version="18.3.1-next-f1338f8080-20240426";function X0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X0)}catch(e){console.error(e)}}X0(),Xv.exports=Wt;var Ts=Xv.exports;const J0=$v(Ts);var Z0,ug=Ts;Z0=ug.createRoot,ug.hydrateRoot;const gC=1,vC=1e6;let Wu=0;function yC(){return Wu=(Wu+1)%Number.MAX_SAFE_INTEGER,Wu.toString()}const Hu=new Map,dg=e=>{if(Hu.has(e))return;const t=setTimeout(()=>{Hu.delete(e),ki({type:"REMOVE_TOAST",toastId:e})},vC);Hu.set(e,t)},xC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,gC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?dg(n):e.toasts.forEach(r=>{dg(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},yl=[];let xl={toasts:[]};function ki(e){xl=xC(xl,e),yl.forEach(t=>{t(xl)})}function wC({...e}){const t=yC(),n=s=>ki({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ki({type:"DISMISS_TOAST",toastId:t});return ki({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Vt(){const[e,t]=p.useState(xl);return p.useEffect(()=>(yl.push(t),()=>{const n=yl.indexOf(t);n>-1&&yl.splice(n,1)}),[e]),{...e,toast:wC,dismiss:n=>ki({type:"DISMISS_TOAST",toastId:n})}}function K(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function bC(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ex(...e){return t=>e.forEach(n=>bC(n,t))}function me(...e){return p.useCallback(ex(...e),e)}function SC(e,t=[]){let n=[];function r(o,i){const a=p.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:f,children:g,...w}=h,m=(f==null?void 0:f[e][c])||a,x=p.useMemo(()=>w,Object.values(w));return l.jsx(m.Provider,{value:x,children:g})}function d(h,f){const g=(f==null?void 0:f[e][c])||a,w=p.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,_C(s,...t)]}function _C(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Fr=p.forwardRef((e,t)=>{const{children:n,...r}=e,s=p.Children.toArray(n),o=s.find(EC);if(o){const i=o.props.children,a=s.map(c=>c===o?p.Children.count(i)>1?p.Children.only(null):p.isValidElement(i)?i.props.children:null:c);return l.jsx(ff,{...r,ref:t,children:p.isValidElement(i)?p.cloneElement(i,void 0,a):null})}return l.jsx(ff,{...r,ref:t,children:n})});Fr.displayName="Slot";var ff=p.forwardRef((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const s=NC(n);return p.cloneElement(n,{...CC(r,n.props),ref:t?ex(t,s):s})}return p.Children.count(n)>1?p.Children.only(null):null});ff.displayName="SlotClone";var tx=({children:e})=>l.jsx(l.Fragment,{children:e});function EC(e){return p.isValidElement(e)&&e.type===tx}function CC(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{o(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function NC(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Wh(e){const t=e+"CollectionProvider",[n,r]=SC(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:w,children:m}=g,x=V.useRef(null),v=V.useRef(new Map).current;return l.jsx(s,{scope:w,itemMap:v,collectionRef:x,children:m})};i.displayName=t;const a=e+"CollectionSlot",c=V.forwardRef((g,w)=>{const{scope:m,children:x}=g,v=o(a,m),y=me(w,v.collectionRef);return l.jsx(Fr,{ref:y,children:x})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=V.forwardRef((g,w)=>{const{scope:m,children:x,...v}=g,y=V.useRef(null),b=me(w,y),S=o(u,m);return V.useEffect(()=>(S.itemMap.set(y,{ref:y,...v}),()=>void S.itemMap.delete(y))),l.jsx(Fr,{[d]:"",ref:b,children:x})});h.displayName=u;function f(g){const w=o(e+"CollectionConsumer",g);return V.useCallback(()=>{const x=w.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((S,_)=>v.indexOf(S.ref.current)-v.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},f,r]}function jC(e,t){const n=p.createContext(t),r=o=>{const{children:i,...a}=o,c=p.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=p.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Ps(e,t=[]){let n=[];function r(o,i){const a=p.createContext(i),c=n.length;n=[...n,i];const u=h=>{var v;const{scope:f,children:g,...w}=h,m=((v=f==null?void 0:f[e])==null?void 0:v[c])||a,x=p.useMemo(()=>w,Object.values(w));return l.jsx(m.Provider,{value:x,children:g})};u.displayName=o+"Provider";function d(h,f){var m;const g=((m=f==null?void 0:f[e])==null?void 0:m[c])||a,w=p.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,kC(s,...t)]}function kC(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var TC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],te=TC.reduce((e,t)=>{const n=p.forwardRef((r,s)=>{const{asChild:o,...i}=r,a=o?Fr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function nx(e,t){e&&Ts.flushSync(()=>e.dispatchEvent(t))}function Ye(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function PC(e,t=globalThis==null?void 0:globalThis.document){const n=Ye(e);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var RC="DismissableLayer",hf="dismissableLayer.update",OC="dismissableLayer.pointerDownOutside",DC="dismissableLayer.focusOutside",fg,rx=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wo=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=p.useContext(rx),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),w=me(t,N=>h(N)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(x),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=v,_=IC(N=>{const j=N.target,$=[...u.branches].some(B=>B.contains(j));!S||$||(s==null||s(N),i==null||i(N),N.defaultPrevented||a==null||a())},f),C=MC(N=>{const j=N.target;[...u.branches].some(B=>B.contains(j))||(o==null||o(N),i==null||i(N),N.defaultPrevented||a==null||a())},f);return PC(N=>{y===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},f),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fg=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),hg(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=fg)}},[d,f,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),hg())},[d,u]),p.useEffect(()=>{const N=()=>g({});return document.addEventListener(hf,N),()=>document.removeEventListener(hf,N)},[]),l.jsx(te.div,{...c,ref:w,style:{pointerEvents:b?S?"auto":"none":void 0,...e.style},onFocusCapture:K(e.onFocusCapture,C.onFocusCapture),onBlurCapture:K(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:K(e.onPointerDownCapture,_.onPointerDownCapture)})});Wo.displayName=RC;var AC="DismissableLayerBranch",sx=p.forwardRef((e,t)=>{const n=p.useContext(rx),r=p.useRef(null),s=me(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),l.jsx(te.div,{...e,ref:s})});sx.displayName=AC;function IC(e,t=globalThis==null?void 0:globalThis.document){const n=Ye(e),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){ox(OC,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function MC(e,t=globalThis==null?void 0:globalThis.document){const n=Ye(e),r=p.useRef(!1);return p.useEffect(()=>{const s=o=>{o.target&&!r.current&&ox(DC,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function hg(){const e=new CustomEvent(hf);document.dispatchEvent(e)}function ox(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?nx(s,o):s.dispatchEvent(o)}var LC=Wo,$C=sx,it=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},FC="Portal",fa=p.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=p.useState(!1);it(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?J0.createPortal(l.jsx(te.div,{...r,ref:t}),i):null});fa.displayName=FC;function UC(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var qt=e=>{const{present:t,children:n}=e,r=BC(t),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=me(r.ref,zC(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:o}):null};qt.displayName="Presence";function BC(e){const[t,n]=p.useState(),r=p.useRef({}),s=p.useRef(e),o=p.useRef("none"),i=e?"mounted":"unmounted",[a,c]=UC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=qa(r.current);o.current=a==="mounted"?u:"none"},[a]),it(()=>{const u=r.current,d=s.current;if(d!==e){const f=o.current,g=qa(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),it(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=g=>{const m=qa(r.current).includes(g.animationName);if(g.target===t&&m&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},f=g=>{g.target===t&&(o.current=qa(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function qa(e){return(e==null?void 0:e.animationName)||"none"}function zC(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ws({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=WC({defaultProp:t,onChange:n}),o=e!==void 0,i=o?e:r,a=Ye(n),c=p.useCallback(u=>{if(o){const h=typeof u=="function"?u(e):u;h!==e&&a(h)}else s(u)},[o,e,s,a]);return[i,c]}function WC({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,s=p.useRef(r),o=Ye(t);return p.useEffect(()=>{s.current!==r&&(o(r),s.current=r)},[r,s,o]),n}var HC="VisuallyHidden",ha=p.forwardRef((e,t)=>l.jsx(te.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ha.displayName=HC;var VC=ha,Hh="ToastProvider",[Vh,qC,YC]=Wh("Toast"),[ix,s4]=Ps("Toast",[YC]),[GC,Tc]=ix(Hh),ax=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Hh}\`. Expected non-empty \`string\`.`),l.jsx(Vh.Provider,{scope:t,children:l.jsx(GC,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:p.useCallback(()=>d(g=>g+1),[]),onToastRemove:p.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:i})})};ax.displayName=Hh;var lx="ToastViewport",KC=["F8"],pf="toast.viewportPause",mf="toast.viewportResume",cx=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=KC,label:s="Notifications ({hotkey})",...o}=e,i=Tc(lx,n),a=qC(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=me(t,h,i.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=i.toastCount>0;p.useEffect(()=>{const x=v=>{var b;r.length!==0&&r.every(S=>v[S]||v.code===S)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),p.useEffect(()=>{const x=c.current,v=h.current;if(w&&x&&v){const y=()=>{if(!i.isClosePausedRef.current){const C=new CustomEvent(pf);v.dispatchEvent(C),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const C=new CustomEvent(mf);v.dispatchEvent(C),i.isClosePausedRef.current=!1}},S=C=>{!x.contains(C.relatedTarget)&&b()},_=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",y),x.addEventListener("focusout",S),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[w,i.isClosePausedRef]);const m=p.useCallback(({tabbingDirection:x})=>{const y=a().map(b=>{const S=b.ref.current,_=[S,...lN(S)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?y.reverse():y).flat()},[a]);return p.useEffect(()=>{const x=h.current;if(x){const v=y=>{var _,C,N;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const j=document.activeElement,$=y.shiftKey;if(y.target===x&&$){(_=u.current)==null||_.focus();return}const k=m({tabbingDirection:$?"backwards":"forwards"}),P=k.findIndex(D=>D===j);Vu(k.slice(P+1))?y.preventDefault():$?(C=u.current)==null||C.focus():(N=d.current)==null||N.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,m]),l.jsxs($C,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&l.jsx(gf,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});Vu(x)}}),l.jsx(Vh.Slot,{scope:n,children:l.jsx(te.ol,{tabIndex:-1,...o,ref:f})}),w&&l.jsx(gf,{ref:d,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});Vu(x)}})]})});cx.displayName=lx;var ux="ToastFocusProxy",gf=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Tc(ux,n);return l.jsx(ha,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});gf.displayName=ux;var Pc="Toast",QC="toast.swipeStart",XC="toast.swipeMove",JC="toast.swipeCancel",ZC="toast.swipeEnd",dx=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[a=!0,c]=ws({prop:r,defaultProp:s,onChange:o});return l.jsx(qt,{present:n||a,children:l.jsx(nN,{open:a,...i,ref:t,onClose:()=>c(!1),onPause:Ye(e.onPause),onResume:Ye(e.onResume),onSwipeStart:K(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:K(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:K(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:K(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});dx.displayName=Pc;var[eN,tN]=ix(Pc,{onClose(){}}),nN=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...w}=e,m=Tc(Pc,n),[x,v]=p.useState(null),y=me(t,D=>v(D)),b=p.useRef(null),S=p.useRef(null),_=s||m.duration,C=p.useRef(0),N=p.useRef(_),j=p.useRef(0),{onToastAdd:$,onToastRemove:B}=m,L=Ye(()=>{var W;(x==null?void 0:x.contains(document.activeElement))&&((W=m.viewport)==null||W.focus()),i()}),k=p.useCallback(D=>{!D||D===1/0||(window.clearTimeout(j.current),C.current=new Date().getTime(),j.current=window.setTimeout(L,D))},[L]);p.useEffect(()=>{const D=m.viewport;if(D){const W=()=>{k(N.current),u==null||u()},U=()=>{const M=new Date().getTime()-C.current;N.current=N.current-M,window.clearTimeout(j.current),c==null||c()};return D.addEventListener(pf,U),D.addEventListener(mf,W),()=>{D.removeEventListener(pf,U),D.removeEventListener(mf,W)}}},[m.viewport,_,c,u,k]),p.useEffect(()=>{o&&!m.isClosePausedRef.current&&k(_)},[o,_,m.isClosePausedRef,k]),p.useEffect(()=>($(),()=>B()),[$,B]);const P=p.useMemo(()=>x?yx(x):null,[x]);return m.viewport?l.jsxs(l.Fragment,{children:[P&&l.jsx(rN,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),l.jsx(eN,{scope:n,onClose:L,children:Ts.createPortal(l.jsx(Vh.ItemSlot,{scope:n,children:l.jsx(LC,{asChild:!0,onEscapeKeyDown:K(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||L(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(te.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...w,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:K(e.onKeyDown,D=>{D.key==="Escape"&&(a==null||a(D.nativeEvent),D.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:K(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:K(e.onPointerMove,D=>{if(!b.current)return;const W=D.clientX-b.current.x,U=D.clientY-b.current.y,M=!!S.current,E=["left","right"].includes(m.swipeDirection),O=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,T=E?O(0,W):0,R=E?0:O(0,U),A=D.pointerType==="touch"?10:2,I={x:T,y:R},q={originalEvent:D,delta:I};M?(S.current=I,Ya(XC,h,q,{discrete:!1})):pg(I,m.swipeDirection,A)?(S.current=I,Ya(QC,d,q,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(W)>A||Math.abs(U)>A)&&(b.current=null)}),onPointerUp:K(e.onPointerUp,D=>{const W=S.current,U=D.target;if(U.hasPointerCapture(D.pointerId)&&U.releasePointerCapture(D.pointerId),S.current=null,b.current=null,W){const M=D.currentTarget,E={originalEvent:D,delta:W};pg(W,m.swipeDirection,m.swipeThreshold)?Ya(ZC,g,E,{discrete:!0}):Ya(JC,f,E,{discrete:!0}),M.addEventListener("click",O=>O.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),rN=e=>{const{__scopeToast:t,children:n,...r}=e,s=Tc(Pc,t),[o,i]=p.useState(!1),[a,c]=p.useState(!1);return iN(()=>i(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(fa,{asChild:!0,children:l.jsx(ha,{...r,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},sN="ToastTitle",fx=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(te.div,{...r,ref:t})});fx.displayName=sN;var oN="ToastDescription",hx=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return l.jsx(te.div,{...r,ref:t})});hx.displayName=oN;var px="ToastAction",mx=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?l.jsx(vx,{altText:n,asChild:!0,children:l.jsx(qh,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${px}\`. Expected non-empty \`string\`.`),null)});mx.displayName=px;var gx="ToastClose",qh=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=tN(gx,n);return l.jsx(vx,{asChild:!0,children:l.jsx(te.button,{type:"button",...r,ref:t,onClick:K(e.onClick,s.onClose)})})});qh.displayName=gx;var vx=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return l.jsx(te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function yx(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),aN(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...yx(r))}}),t}function Ya(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?nx(s,o):s.dispatchEvent(o)}var pg=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function iN(e=()=>{}){const t=Ye(e);it(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function aN(e){return e.nodeType===e.ELEMENT_NODE}function lN(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vu(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var cN=ax,xx=cx,wx=dx,bx=fx,Sx=hx,_x=mx,Ex=qh;function Cx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Cx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nx(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Cx(e))&&(r&&(r+=" "),r+=t);return r}const mg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gg=Nx,pa=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return gg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const f=mg(d)||mg(h);return s[u][f]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...g}=d;return Object.entries(g).every(w=>{let[m,x]=w;return Array.isArray(x)?x.includes({...o,...a}[m]):{...o,...a}[m]===x})?[...u,h,f]:u},[]);return gg(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jx=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>p.createElement("svg",{ref:c,...dN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:jx("lucide",s),...a},[...i.map(([u,d])=>p.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(e,t)=>{const n=p.forwardRef(({className:r,...s},o)=>p.createElement(fN,{ref:o,iconNode:t,className:jx(`lucide-${uN(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=Pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=Pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=Pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=Pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Pe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=Pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=Pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=Pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=Pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=Pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=Pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=Pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Gh="-",EN=e=>{const t=NN(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(Gh);return a[0]===""&&a.length!==1&&a.shift(),Ox(a,t)||CN(i)},getConflictingClassGroupIds:(i,a)=>{const c=n[i]||[];return a&&r[i]?[...c,...r[i]]:c}}},Ox=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?Ox(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Gh);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},yg=/^\[(.+)\]$/,CN=e=>{if(yg.test(e)){const t=yg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},NN=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return kN(Object.entries(e.classGroups),n).forEach(([o,i])=>{xf(i,r,o,t)}),r},xf=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:xg(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(jN(s)){xf(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{xf(i,xg(t,o),n,r)})})},xg=(e,t)=>{let n=e;return t.split(Gh).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jN=e=>e.isThemeGetter,kN=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,TN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},Dx="!",PN=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,h;for(let x=0;x<a.length;x++){let v=a[x];if(u===0){if(v===s&&(r||a.slice(x,x+o)===t)){c.push(a.slice(d,x)),d=x+o;continue}if(v==="/"){h=x;continue}}v==="["?u++:v==="]"&&u--}const f=c.length===0?a:a.substring(d),g=f.startsWith(Dx),w=g?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:w,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:i}):i},RN=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},ON=e=>({cache:TN(e.cacheSize),parseClassName:PN(e),...EN(e)}),DN=/\s+/,AN=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(DN);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(u);let w=!!g,m=r(w?f.substring(0,g):f);if(!m){if(!w){a=u+(a.length>0?" "+a:a);continue}if(m=r(f),!m){a=u+(a.length>0?" "+a:a);continue}w=!1}const x=RN(d).join(":"),v=h?x+Dx:x,y=v+m;if(o.includes(y))continue;o.push(y);const b=s(m,w);for(let S=0;S<b.length;++S){const _=b[S];o.push(v+_)}a=u+(a.length>0?" "+a:a)}return a};function IN(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Ax(t))&&(r&&(r+=" "),r+=n);return r}const Ax=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Ax(e[r]))&&(n&&(n+=" "),n+=t);return n};function MN(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((d,h)=>h(d),e());return n=ON(u),r=n.cache.get,s=n.cache.set,o=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=AN(c,n);return s(c,d),d}return function(){return o(IN.apply(null,arguments))}}const De=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ix=/^\[(?:([a-z-]+):)?(.+)\]$/i,LN=/^\d+\/\d+$/,$N=new Set(["px","full","screen"]),FN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zn=e=>lo(e)||$N.has(e)||LN.test(e),cr=e=>Ho(e,"length",XN),lo=e=>!!e&&!Number.isNaN(Number(e)),qu=e=>Ho(e,"number",lo),li=e=>!!e&&Number.isInteger(Number(e)),HN=e=>e.endsWith("%")&&lo(e.slice(0,-1)),ae=e=>Ix.test(e),ur=e=>FN.test(e),VN=new Set(["length","size","percentage"]),qN=e=>Ho(e,VN,Mx),YN=e=>Ho(e,"position",Mx),GN=new Set(["image","url"]),KN=e=>Ho(e,GN,ZN),QN=e=>Ho(e,"",JN),ci=()=>!0,Ho=(e,t,n)=>{const r=Ix.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},XN=e=>UN.test(e)&&!BN.test(e),Mx=()=>!1,JN=e=>zN.test(e),ZN=e=>WN.test(e),ej=()=>{const e=De("colors"),t=De("spacing"),n=De("blur"),r=De("brightness"),s=De("borderColor"),o=De("borderRadius"),i=De("borderSpacing"),a=De("borderWidth"),c=De("contrast"),u=De("grayscale"),d=De("hueRotate"),h=De("invert"),f=De("gap"),g=De("gradientColorStops"),w=De("gradientColorStopPositions"),m=De("inset"),x=De("margin"),v=De("opacity"),y=De("padding"),b=De("saturate"),S=De("scale"),_=De("sepia"),C=De("skew"),N=De("space"),j=De("translate"),$=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ae,t],k=()=>[ae,t],P=()=>["",zn,cr],D=()=>["auto",lo,ae],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",ae],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[lo,ae];return{cacheSize:500,separator:":",theme:{colors:[ci],spacing:[zn,cr],blur:["none","",ur,ae],brightness:R(),borderColor:[e],borderRadius:["none","","full",ur,ae],borderSpacing:k(),borderWidth:P(),contrast:R(),grayscale:O(),hueRotate:R(),invert:O(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[HN,cr],inset:L(),margin:L(),opacity:R(),padding:k(),saturate:R(),scale:R(),sepia:O(),skew:R(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[ur]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),ae]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",li,ae]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",li,ae]}],"grid-cols":[{"grid-cols":[ci]}],"col-start-end":[{col:["auto",{span:["full",li,ae]},ae]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[ci]}],"row-start-end":[{row:["auto",{span:[li,ae]},ae]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,t]}],"min-w":[{"min-w":[ae,t,"min","max","fit"]}],"max-w":[{"max-w":[ae,t,"none","full","min","max","fit","prose",{screen:[ur]},ur]}],h:[{h:[ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ur,cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qu]}],"font-family":[{font:[ci]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",lo,qu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zn,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zn,cr]}],"underline-offset":[{"underline-offset":["auto",zn,ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),YN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},KN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[zn,ae]}],"outline-w":[{outline:[zn,cr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[zn,cr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ur,QN]}],"shadow-color":[{shadow:[ci]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ur,ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[li,ae]}],"translate-x":[{"translate-x":[j]}],"translate-y":[{"translate-y":[j]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[zn,cr,qu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tj=MN(ej);function Q(...e){return tj(Nx(e))}const nj=cN,Lx=p.forwardRef(({className:e,...t},n)=>l.jsx(xx,{ref:n,className:Q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Lx.displayName=xx.displayName;const rj=pa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$x=p.forwardRef(({className:e,variant:t,...n},r)=>l.jsx(wx,{ref:r,className:Q(rj({variant:t}),e),...n}));$x.displayName=wx.displayName;const sj=p.forwardRef(({className:e,...t},n)=>l.jsx(_x,{ref:n,className:Q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));sj.displayName=_x.displayName;const Fx=p.forwardRef(({className:e,...t},n)=>l.jsx(Ex,{ref:n,className:Q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Oc,{className:"h-4 w-4"})}));Fx.displayName=Ex.displayName;const Ux=p.forwardRef(({className:e,...t},n)=>l.jsx(bx,{ref:n,className:Q("text-sm font-semibold",e),...t}));Ux.displayName=bx.displayName;const Bx=p.forwardRef(({className:e,...t},n)=>l.jsx(Sx,{ref:n,className:Q("text-sm opacity-90",e),...t}));Bx.displayName=Sx.displayName;function oj(){const{toasts:e}=Vt();return l.jsxs(nj,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return l.jsxs($x,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(Ux,{children:n}),r&&l.jsx(Bx,{children:r})]}),s,l.jsx(Fx,{})]},t)}),l.jsx(Lx,{})]})}var wg=["light","dark"],ij="(prefers-color-scheme: dark)",aj=p.createContext(void 0),lj={setTheme:e=>{},themes:[]},cj=()=>{var e;return(e=p.useContext(aj))!=null?e:lj};p.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?wg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(w,m=!1,x=!0)=>{let v=i?i[w]:w,y=m?w+"|| ''":`'${v}'`,b="";return s&&x&&!m&&wg.includes(w)&&(b+=`d.style.colorScheme = '${w}';`),n==="class"?m||v?b+=`c.add(${y})`:b+="null":v&&(b+=`d[s](n,${y})`),b},g=e?`!function(){${d}${f(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${ij}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}${u?"":"else{"+f(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${f(i?"x[e]":"e",!0)}}else{${f(o,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var uj=e=>{switch(e){case"success":return hj;case"info":return mj;case"warning":return pj;case"error":return gj;default:return null}},dj=Array(12).fill(0),fj=({visible:e})=>V.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},V.createElement("div",{className:"sonner-spinner"},dj.map((t,n)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),hj=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pj=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mj=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),gj=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vj=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},wf=1,yj=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:wf++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0;return r.then(async o=>{if(wj(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,a=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:n,type:"error",message:i,description:a})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"success",message:i,description:a})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:n,type:"error",message:i,description:a})}}).finally(()=>{var o;s&&(this.dismiss(n),n=void 0),(o=t.finally)==null||o.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||wf++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},At=new yj,xj=(e,t)=>{let n=(t==null?void 0:t.id)||wf++;return At.addToast({title:e,...t,id:n}),n},wj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",bj=xj,Sj=()=>At.toasts,Yu=Object.assign(bj,{success:At.success,info:At.info,warning:At.warning,error:At.error,custom:At.custom,message:At.message,promise:At.promise,dismiss:At.dismiss,loading:At.loading},{getHistory:Sj});function _j(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}_j(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ga(e){return e.label!==void 0}var Ej=3,Cj="32px",Nj=4e3,jj=356,kj=14,Tj=20,Pj=200;function Rj(...e){return e.filter(Boolean).join(" ")}var Oj=e=>{var t,n,r,s,o,i,a,c,u,d;let{invert:h,toast:f,unstyled:g,interacting:w,setHeights:m,visibleToasts:x,heights:v,index:y,toasts:b,expanded:S,removeToast:_,defaultRichColors:C,closeButton:N,style:j,cancelButtonStyle:$,actionButtonStyle:B,className:L="",descriptionClassName:k="",duration:P,position:D,gap:W,loadingIcon:U,expandByDefault:M,classNames:E,icons:O,closeButtonAriaLabel:T="Close toast",pauseWhenPageIsHidden:R,cn:A}=e,[I,q]=V.useState(!1),[ce,re]=V.useState(!1),[X,de]=V.useState(!1),[ye,J]=V.useState(!1),[Z,fe]=V.useState(0),[ze,z]=V.useState(0),ne=V.useRef(null),Ee=V.useRef(null),Ce=y===0,Ve=y+1<=x,Ge=f.type,Bn=f.dismissible!==!1,_n=f.className||"",St=f.descriptionClassName||"",Na=V.useMemo(()=>v.findIndex(ie=>ie.toastId===f.id)||0,[v,f.id]),$1=V.useMemo(()=>{var ie;return(ie=f.closeButton)!=null?ie:N},[f.closeButton,N]),Qp=V.useMemo(()=>f.duration||P||Nj,[f.duration,P]),pu=V.useRef(0),Os=V.useRef(0),Xp=V.useRef(0),Ds=V.useRef(null),[Jp,F1]=D.split("-"),Zp=V.useMemo(()=>v.reduce((ie,Oe,Ne)=>Ne>=Na?ie:ie+Oe.height,0),[v,Na]),em=vj(),U1=f.invert||h,mu=Ge==="loading";Os.current=V.useMemo(()=>Na*W+Zp,[Na,Zp]),V.useEffect(()=>{q(!0)},[]),V.useLayoutEffect(()=>{if(!I)return;let ie=Ee.current,Oe=ie.style.height;ie.style.height="auto";let Ne=ie.getBoundingClientRect().height;ie.style.height=Oe,z(Ne),m(En=>En.find(Cn=>Cn.toastId===f.id)?En.map(Cn=>Cn.toastId===f.id?{...Cn,height:Ne}:Cn):[{toastId:f.id,height:Ne,position:f.position},...En])},[I,f.title,f.description,m,f.id]);let ar=V.useCallback(()=>{re(!0),fe(Os.current),m(ie=>ie.filter(Oe=>Oe.toastId!==f.id)),setTimeout(()=>{_(f)},Pj)},[f,_,m,Os]);V.useEffect(()=>{if(f.promise&&Ge==="loading"||f.duration===1/0||f.type==="loading")return;let ie,Oe=Qp;return S||w||R&&em?(()=>{if(Xp.current<pu.current){let Ne=new Date().getTime()-pu.current;Oe=Oe-Ne}Xp.current=new Date().getTime()})():Oe!==1/0&&(pu.current=new Date().getTime(),ie=setTimeout(()=>{var Ne;(Ne=f.onAutoClose)==null||Ne.call(f,f),ar()},Oe)),()=>clearTimeout(ie)},[S,w,M,f,Qp,ar,f.promise,Ge,R,em]),V.useEffect(()=>{let ie=Ee.current;if(ie){let Oe=ie.getBoundingClientRect().height;return z(Oe),m(Ne=>[{toastId:f.id,height:Oe,position:f.position},...Ne]),()=>m(Ne=>Ne.filter(En=>En.toastId!==f.id))}},[m,f.id]),V.useEffect(()=>{f.delete&&ar()},[ar,f.delete]);function B1(){return O!=null&&O.loading?V.createElement("div",{className:"sonner-loader","data-visible":Ge==="loading"},O.loading):U?V.createElement("div",{className:"sonner-loader","data-visible":Ge==="loading"},U):V.createElement(fj,{visible:Ge==="loading"})}return V.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ee,className:A(L,_n,E==null?void 0:E.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[Ge],(n=f==null?void 0:f.classNames)==null?void 0:n[Ge]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:C,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":I,"data-promise":!!f.promise,"data-removed":ce,"data-visible":Ve,"data-y-position":Jp,"data-x-position":F1,"data-index":y,"data-front":Ce,"data-swiping":X,"data-dismissible":Bn,"data-type":Ge,"data-invert":U1,"data-swipe-out":ye,"data-expanded":!!(S||M&&I),style:{"--index":y,"--toasts-before":y,"--z-index":b.length-y,"--offset":`${ce?Z:Os.current}px`,"--initial-height":M?"auto":`${ze}px`,...j,...f.style},onPointerDown:ie=>{mu||!Bn||(ne.current=new Date,fe(Os.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(de(!0),Ds.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Oe,Ne,En;if(ye||!Bn)return;Ds.current=null;let Cn=Number(((ie=Ee.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ja=new Date().getTime()-((Oe=ne.current)==null?void 0:Oe.getTime()),z1=Math.abs(Cn)/ja;if(Math.abs(Cn)>=Tj||z1>.11){fe(Os.current),(Ne=f.onDismiss)==null||Ne.call(f,f),ar(),J(!0);return}(En=Ee.current)==null||En.style.setProperty("--swipe-amount","0px"),de(!1)},onPointerMove:ie=>{var Oe;if(!Ds.current||!Bn)return;let Ne=ie.clientY-Ds.current.y,En=ie.clientX-Ds.current.x,Cn=(Jp==="top"?Math.min:Math.max)(0,Ne),ja=ie.pointerType==="touch"?10:2;Math.abs(Cn)>ja?(Oe=Ee.current)==null||Oe.style.setProperty("--swipe-amount",`${Ne}px`):Math.abs(En)>ja&&(Ds.current=null)}},$1&&!f.jsx?V.createElement("button",{"aria-label":T,"data-disabled":mu,"data-close-button":!0,onClick:mu||!Bn?()=>{}:()=>{var ie;ar(),(ie=f.onDismiss)==null||ie.call(f,f)},className:A(E==null?void 0:E.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||V.isValidElement(f.title)?f.jsx||f.title:V.createElement(V.Fragment,null,Ge||f.icon||f.promise?V.createElement("div",{"data-icon":"",className:A(E==null?void 0:E.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||B1():null,f.type!=="loading"?f.icon||(O==null?void 0:O[Ge])||uj(Ge):null):null,V.createElement("div",{"data-content":"",className:A(E==null?void 0:E.content,(i=f==null?void 0:f.classNames)==null?void 0:i.content)},V.createElement("div",{"data-title":"",className:A(E==null?void 0:E.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?V.createElement("div",{"data-description":"",className:A(k,St,E==null?void 0:E.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),V.isValidElement(f.cancel)?f.cancel:f.cancel&&Ga(f.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||$,onClick:ie=>{var Oe,Ne;Ga(f.cancel)&&Bn&&((Ne=(Oe=f.cancel).onClick)==null||Ne.call(Oe,ie),ar())},className:A(E==null?void 0:E.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,V.isValidElement(f.action)?f.action:f.action&&Ga(f.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||B,onClick:ie=>{var Oe,Ne;Ga(f.action)&&(ie.defaultPrevented||((Ne=(Oe=f.action).onClick)==null||Ne.call(Oe,ie),ar()))},className:A(E==null?void 0:E.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function bg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var Dj=e=>{let{invert:t,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:a,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=Ej,toastOptions:g,dir:w=bg(),gap:m=kj,loadingIcon:x,icons:v,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:b,cn:S=Rj}=e,[_,C]=V.useState([]),N=V.useMemo(()=>Array.from(new Set([n].concat(_.filter(R=>R.position).map(R=>R.position)))),[_,n]),[j,$]=V.useState([]),[B,L]=V.useState(!1),[k,P]=V.useState(!1),[D,W]=V.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=V.useRef(null),M=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=V.useRef(null),O=V.useRef(!1),T=V.useCallback(R=>{var A;(A=_.find(I=>I.id===R.id))!=null&&A.delete||At.dismiss(R.id),C(I=>I.filter(({id:q})=>q!==R.id))},[_]);return V.useEffect(()=>At.subscribe(R=>{if(R.dismiss){C(A=>A.map(I=>I.id===R.id?{...I,delete:!0}:I));return}setTimeout(()=>{J0.flushSync(()=>{C(A=>{let I=A.findIndex(q=>q.id===R.id);return I!==-1?[...A.slice(0,I),{...A[I],...R},...A.slice(I+1)]:[R,...A]})})})}),[]),V.useEffect(()=>{if(c!=="system"){W(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:R})=>{W(R?"dark":"light")})},[c]),V.useEffect(()=>{_.length<=1&&L(!1)},[_]),V.useEffect(()=>{let R=A=>{var I,q;r.every(ce=>A[ce]||A.code===ce)&&(L(!0),(I=U.current)==null||I.focus()),A.code==="Escape"&&(document.activeElement===U.current||(q=U.current)!=null&&q.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",R),()=>document.removeEventListener("keydown",R)},[r]),V.useEffect(()=>{if(U.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,O.current=!1)}},[U.current]),_.length?V.createElement("section",{"aria-label":`${y} ${M}`,tabIndex:-1},N.map((R,A)=>{var I;let[q,ce]=R.split("-");return V.createElement("ol",{key:R,dir:w==="auto"?bg():w,tabIndex:-1,ref:U,className:i,"data-sonner-toaster":!0,"data-theme":D,"data-y-position":q,"data-x-position":ce,style:{"--front-toast-height":`${((I=j[0])==null?void 0:I.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||Cj,"--width":`${jj}px`,"--gap":`${m}px`,...h},onBlur:re=>{O.current&&!re.currentTarget.contains(re.relatedTarget)&&(O.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||O.current||(O.current=!0,E.current=re.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{k||L(!1)},onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},_.filter(re=>!re.position&&A===0||re.position===R).map((re,X)=>{var de,ye;return V.createElement(Oj,{key:re.id,icons:v,index:X,toast:re,defaultRichColors:u,duration:(de=g==null?void 0:g.duration)!=null?de:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:t,visibleToasts:f,closeButton:(ye=g==null?void 0:g.closeButton)!=null?ye:o,interacting:k,position:R,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:T,toasts:_.filter(J=>J.position==re.position),heights:j.filter(J=>J.position==re.position),setHeights:$,expandByDefault:s,gap:m,loadingIcon:x,expanded:B,pauseWhenPageIsHidden:b,cn:S})}))})):null};const Aj=({...e})=>{const{theme:t="system"}=cj();return l.jsx(Dj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var Ij=Kv.useId||(()=>{}),Mj=0;function Zn(e){const[t,n]=p.useState(Ij());return it(()=>{e||n(r=>r??String(Mj++))},[e]),e||(t?`radix-${t}`:"")}const Lj=["top","right","bottom","left"],Ur=Math.min,Mt=Math.max,Xl=Math.round,Ka=Math.floor,Br=e=>({x:e,y:e}),$j={left:"right",right:"left",bottom:"top",top:"bottom"},Fj={start:"end",end:"start"};function bf(e,t,n){return Mt(e,Ur(t,n))}function sr(e,t){return typeof e=="function"?e(t):e}function or(e){return e.split("-")[0]}function Vo(e){return e.split("-")[1]}function Kh(e){return e==="x"?"y":"x"}function Qh(e){return e==="y"?"height":"width"}function zr(e){return["top","bottom"].includes(or(e))?"y":"x"}function Xh(e){return Kh(zr(e))}function Uj(e,t,n){n===void 0&&(n=!1);const r=Vo(e),s=Xh(e),o=Qh(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Jl(i)),[i,Jl(i)]}function Bj(e){const t=Jl(e);return[Sf(e),t,Sf(t)]}function Sf(e){return e.replace(/start|end/g,t=>Fj[t])}function zj(e,t,n){const r=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?o:i;default:return[]}}function Wj(e,t,n,r){const s=Vo(e);let o=zj(or(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Sf)))),o}function Jl(e){return e.replace(/left|right|bottom|top/g,t=>$j[t])}function Hj(e){return{top:0,right:0,bottom:0,left:0,...e}}function zx(e){return typeof e!="number"?Hj(e):{top:e,right:e,bottom:e,left:e}}function Zl(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Sg(e,t,n){let{reference:r,floating:s}=e;const o=zr(t),i=Xh(t),a=Qh(i),c=or(t),u=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Vo(t)){case"start":g[i]-=f*(n&&u?-1:1);break;case"end":g[i]+=f*(n&&u?-1:1);break}return g}const Vj=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Sg(u,r,c),f=r,g={},w=0;for(let m=0;m<a.length;m++){const{name:x,fn:v}=a[m],{x:y,y:b,data:S,reset:_}=await v({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,h=b??h,g={...g,[x]:{...g[x],...S}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(f=_.placement),_.rects&&(u=_.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:h}=Sg(u,f,c)),m=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:g}};async function Qi(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=sr(t,e),w=zx(g),x=a[f?h==="floating"?"reference":"floating":h],v=Zl(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),y=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),S=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},_=Zl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:c}):y);return{top:(v.top-_.top+w.top)/S.y,bottom:(_.bottom-v.bottom+w.bottom)/S.y,left:(v.left-_.left+w.left)/S.x,right:(_.right-v.right+w.right)/S.x}}const qj=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=sr(e,t)||{};if(u==null)return{};const h=zx(d),f={x:n,y:r},g=Xh(s),w=Qh(g),m=await i.getDimensions(u),x=g==="y",v=x?"top":"left",y=x?"bottom":"right",b=x?"clientHeight":"clientWidth",S=o.reference[w]+o.reference[g]-f[g]-o.floating[w],_=f[g]-o.reference[g],C=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let N=C?C[b]:0;(!N||!await(i.isElement==null?void 0:i.isElement(C)))&&(N=a.floating[b]||o.floating[w]);const j=S/2-_/2,$=N/2-m[w]/2-1,B=Ur(h[v],$),L=Ur(h[y],$),k=B,P=N-m[w]-L,D=N/2-m[w]/2+j,W=bf(k,D,P),U=!c.arrow&&Vo(s)!=null&&D!==W&&o.reference[w]/2-(D<k?B:L)-m[w]/2<0,M=U?D<k?D-k:D-P:0;return{[g]:f[g]+M,data:{[g]:W,centerOffset:D-W-M,...U&&{alignmentOffset:M}},reset:U}}}),Yj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:m=!0,...x}=sr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=or(s),y=zr(a),b=or(a)===a,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=f||(b||!m?[Jl(a)]:Bj(a)),C=w!=="none";!f&&C&&_.push(...Wj(a,m,w,S));const N=[a,..._],j=await Qi(t,x),$=[];let B=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&$.push(j[v]),h){const D=Uj(s,i,S);$.push(j[D[0]],j[D[1]])}if(B=[...B,{placement:s,overflows:$}],!$.every(D=>D<=0)){var L,k;const D=(((L=o.flip)==null?void 0:L.index)||0)+1,W=N[D];if(W)return{data:{index:D,overflows:B},reset:{placement:W}};let U=(k=B.filter(M=>M.overflows[0]<=0).sort((M,E)=>M.overflows[1]-E.overflows[1])[0])==null?void 0:k.placement;if(!U)switch(g){case"bestFit":{var P;const M=(P=B.filter(E=>{if(C){const O=zr(E.placement);return O===y||O==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(O=>O>0).reduce((O,T)=>O+T,0)]).sort((E,O)=>E[1]-O[1])[0])==null?void 0:P[0];M&&(U=M);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function _g(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Eg(e){return Lj.some(t=>e[t]>=0)}const Gj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=sr(e,t);switch(r){case"referenceHidden":{const o=await Qi(t,{...s,elementContext:"reference"}),i=_g(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Eg(i)}}}case"escaped":{const o=await Qi(t,{...s,altBoundary:!0}),i=_g(o,n.floating);return{data:{escapedOffsets:i,escaped:Eg(i)}}}default:return{}}}}};async function Kj(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=or(n),a=Vo(n),c=zr(n)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,h=sr(t,e);let{mainAxis:f,crossAxis:g,alignmentAxis:w}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),c?{x:g*d,y:f*u}:{x:f*u,y:g*d}}const Qj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await Kj(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},Xj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...c}=sr(e,t),u={x:n,y:r},d=await Qi(t,c),h=zr(or(s)),f=Kh(h);let g=u[f],w=u[h];if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=g+d[x],b=g-d[v];g=bf(y,g,b)}if(i){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=w+d[x],b=w-d[v];w=bf(y,w,b)}const m=a.fn({...t,[f]:g,[h]:w});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[h]:i}}}}}},Jj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=sr(e,t),d={x:n,y:r},h=zr(s),f=Kh(h);let g=d[f],w=d[h];const m=sr(a,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=f==="y"?"height":"width",S=o.reference[f]-o.floating[b]+x.mainAxis,_=o.reference[f]+o.reference[b]-x.mainAxis;g<S?g=S:g>_&&(g=_)}if(u){var v,y;const b=f==="y"?"width":"height",S=["top","left"].includes(or(s)),_=o.reference[h]-o.floating[b]+(S&&((v=i.offset)==null?void 0:v[h])||0)+(S?0:x.crossAxis),C=o.reference[h]+o.reference[b]+(S?0:((y=i.offset)==null?void 0:y[h])||0)-(S?x.crossAxis:0);w<_?w=_:w>C&&(w=C)}return{[f]:g,[h]:w}}}},Zj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=sr(e,t),d=await Qi(t,u),h=or(s),f=Vo(s),g=zr(s)==="y",{width:w,height:m}=o.floating;let x,v;h==="top"||h==="bottom"?(x=h,v=f===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,x=f==="end"?"top":"bottom");const y=m-d.top-d.bottom,b=w-d.left-d.right,S=Ur(m-d[x],y),_=Ur(w-d[v],b),C=!t.middlewareData.shift;let N=S,j=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(j=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=y),C&&!f){const B=Mt(d.left,0),L=Mt(d.right,0),k=Mt(d.top,0),P=Mt(d.bottom,0);g?j=w-2*(B!==0||L!==0?B+L:Mt(d.left,d.right)):N=m-2*(k!==0||P!==0?k+P:Mt(d.top,d.bottom))}await c({...t,availableWidth:j,availableHeight:N});const $=await i.getDimensions(a.floating);return w!==$.width||m!==$.height?{reset:{rects:!0}}:{}}}};function Dc(){return typeof window<"u"}function qo(e){return Wx(e)?(e.nodeName||"").toLowerCase():"#document"}function Ft(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fn(e){var t;return(t=(Wx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Wx(e){return Dc()?e instanceof Node||e instanceof Ft(e).Node:!1}function yn(e){return Dc()?e instanceof Element||e instanceof Ft(e).Element:!1}function Ln(e){return Dc()?e instanceof HTMLElement||e instanceof Ft(e).HTMLElement:!1}function Cg(e){return!Dc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ft(e).ShadowRoot}function ga(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=xn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function ek(e){return["table","td","th"].includes(qo(e))}function Ac(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Jh(e){const t=Zh(),n=yn(e)?xn(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function tk(e){let t=Wr(e);for(;Ln(t)&&!Do(t);){if(Jh(t))return t;if(Ac(t))return null;t=Wr(t)}return null}function Zh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Do(e){return["html","body","#document"].includes(qo(e))}function xn(e){return Ft(e).getComputedStyle(e)}function Ic(e){return yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wr(e){if(qo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Cg(e)&&e.host||Fn(e);return Cg(t)?t.host:t}function Hx(e){const t=Wr(e);return Do(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ln(t)&&ga(t)?t:Hx(t)}function Xi(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Hx(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Ft(s);if(o){const a=_f(i);return t.concat(i,i.visualViewport||[],ga(s)?s:[],a&&n?Xi(a):[])}return t.concat(s,Xi(s,[],n))}function _f(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Vx(e){const t=xn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ln(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=Xl(n)!==o||Xl(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function ep(e){return yn(e)?e:e.contextElement}function co(e){const t=ep(e);if(!Ln(t))return Br(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=Vx(t);let i=(o?Xl(n.width):n.width)/r,a=(o?Xl(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const nk=Br(0);function qx(e){const t=Ft(e);return!Zh()||!t.visualViewport?nk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function rk(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ft(e)?!1:t}function bs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=ep(e);let i=Br(1);t&&(r?yn(r)&&(i=co(r)):i=co(e));const a=rk(o,n,r)?qx(o):Br(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(o){const f=Ft(o),g=r&&yn(r)?Ft(r):r;let w=f,m=_f(w);for(;m&&r&&g!==w;){const x=co(m),v=m.getBoundingClientRect(),y=xn(m),b=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*x.x,S=v.top+(m.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=b,u+=S,w=Ft(m),m=_f(w)}}return Zl({width:d,height:h,x:c,y:u})}function sk(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Fn(r),a=t?Ac(t.floating):!1;if(r===i||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Br(1);const d=Br(0),h=Ln(r);if((h||!h&&!o)&&((qo(r)!=="body"||ga(i))&&(c=Ic(r)),Ln(r))){const f=bs(r);u=co(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function ok(e){return Array.from(e.getClientRects())}function Ef(e,t){const n=Ic(e).scrollLeft;return t?t.left+n:bs(Fn(e)).left+n}function ik(e){const t=Fn(e),n=Ic(e),r=e.ownerDocument.body,s=Mt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Mt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Ef(e);const a=-n.scrollTop;return xn(r).direction==="rtl"&&(i+=Mt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}function ak(e,t){const n=Ft(e),r=Fn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=Zh();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function lk(e,t){const n=bs(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Ln(e)?co(e):Br(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:a,x:c,y:u}}function Ng(e,t,n){let r;if(t==="viewport")r=ak(e,n);else if(t==="document")r=ik(Fn(e));else if(yn(t))r=lk(t,n);else{const s=qx(e);r={...t,x:t.x-s.x,y:t.y-s.y}}return Zl(r)}function Yx(e,t){const n=Wr(e);return n===t||!yn(n)||Do(n)?!1:xn(n).position==="fixed"||Yx(n,t)}function ck(e,t){const n=t.get(e);if(n)return n;let r=Xi(e,[],!1).filter(a=>yn(a)&&qo(a)!=="body"),s=null;const o=xn(e).position==="fixed";let i=o?Wr(e):e;for(;yn(i)&&!Do(i);){const a=xn(i),c=Jh(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ga(i)&&!c&&Yx(e,i))?r=r.filter(d=>d!==i):s=a,i=Wr(i)}return t.set(e,r),r}function uk(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Ac(t)?[]:ck(t,this._c):[].concat(n),r],a=i[0],c=i.reduce((u,d)=>{const h=Ng(t,d,s);return u.top=Mt(h.top,u.top),u.right=Ur(h.right,u.right),u.bottom=Ur(h.bottom,u.bottom),u.left=Mt(h.left,u.left),u},Ng(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function dk(e){const{width:t,height:n}=Vx(e);return{width:t,height:n}}function fk(e,t,n){const r=Ln(t),s=Fn(t),o=n==="fixed",i=bs(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Br(0);if(r||!r&&!o)if((qo(t)!=="body"||ga(s))&&(a=Ic(t)),r){const g=bs(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&(c.x=Ef(s));let u=0,d=0;if(s&&!r&&!o){const g=s.getBoundingClientRect();d=g.top+a.scrollTop,u=g.left+a.scrollLeft-Ef(s,g)}const h=i.left+a.scrollLeft-c.x-u,f=i.top+a.scrollTop-c.y-d;return{x:h,y:f,width:i.width,height:i.height}}function Gu(e){return xn(e).position==="static"}function jg(e,t){if(!Ln(e)||xn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Fn(e)===n&&(n=n.ownerDocument.body),n}function Gx(e,t){const n=Ft(e);if(Ac(e))return n;if(!Ln(e)){let s=Wr(e);for(;s&&!Do(s);){if(yn(s)&&!Gu(s))return s;s=Wr(s)}return n}let r=jg(e,t);for(;r&&ek(r)&&Gu(r);)r=jg(r,t);return r&&Do(r)&&Gu(r)&&!Jh(r)?n:r||tk(e)||n}const hk=async function(e){const t=this.getOffsetParent||Gx,n=this.getDimensions,r=await n(e.floating);return{reference:fk(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function pk(e){return xn(e).direction==="rtl"}const mk={convertOffsetParentRelativeRectToViewportRelativeRect:sk,getDocumentElement:Fn,getClippingRect:uk,getOffsetParent:Gx,getElementRects:hk,getClientRects:ok,getDimensions:dk,getScale:co,isElement:yn,isRTL:pk};function gk(e,t){let n=null,r;const s=Fn(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:h,height:f}=e.getBoundingClientRect();if(a||t(),!h||!f)return;const g=Ka(d),w=Ka(s.clientWidth-(u+h)),m=Ka(s.clientHeight-(d+f)),x=Ka(u),y={rootMargin:-g+"px "+-w+"px "+-m+"px "+-x+"px",threshold:Mt(0,Ur(1,c))||1};let b=!0;function S(_){const C=_[0].intersectionRatio;if(C!==c){if(!b)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(S,{...y,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,y)}n.observe(e)}return i(!0),o}function vk(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=ep(e),d=s||o?[...u?Xi(u):[],...Xi(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const h=u&&a?gk(u,n):null;let f=-1,g=null;i&&(g=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let w,m=c?bs(e):null;c&&x();function x(){const v=bs(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,w=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),h==null||h(),(v=g)==null||v.disconnect(),g=null,c&&cancelAnimationFrame(w)}}const yk=Qj,xk=Xj,wk=Yj,bk=Zj,Sk=Gj,kg=qj,_k=Jj,Ek=(e,t,n)=>{const r=new Map,s={platform:mk,...n},o={...s.platform,_c:r};return Vj(e,t,{...s,platform:o})};var wl=typeof document<"u"?p.useLayoutEffect:p.useEffect;function ec(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ec(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!ec(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Kx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tg(e,t){const n=Kx(e);return Math.round(t*n)/n}function Ku(e){const t=p.useRef(e);return wl(()=>{t.current=e}),t}function Ck(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,h]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,g]=p.useState(r);ec(f,r)||g(r);const[w,m]=p.useState(null),[x,v]=p.useState(null),y=p.useCallback(E=>{E!==C.current&&(C.current=E,m(E))},[]),b=p.useCallback(E=>{E!==N.current&&(N.current=E,v(E))},[]),S=o||w,_=i||x,C=p.useRef(null),N=p.useRef(null),j=p.useRef(d),$=c!=null,B=Ku(c),L=Ku(s),k=Ku(u),P=p.useCallback(()=>{if(!C.current||!N.current)return;const E={placement:t,strategy:n,middleware:f};L.current&&(E.platform=L.current),Ek(C.current,N.current,E).then(O=>{const T={...O,isPositioned:k.current!==!1};D.current&&!ec(j.current,T)&&(j.current=T,Ts.flushSync(()=>{h(T)}))})},[f,t,n,L,k]);wl(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,h(E=>({...E,isPositioned:!1})))},[u]);const D=p.useRef(!1);wl(()=>(D.current=!0,()=>{D.current=!1}),[]),wl(()=>{if(S&&(C.current=S),_&&(N.current=_),S&&_){if(B.current)return B.current(S,_,P);P()}},[S,_,P,B,$]);const W=p.useMemo(()=>({reference:C,floating:N,setReference:y,setFloating:b}),[y,b]),U=p.useMemo(()=>({reference:S,floating:_}),[S,_]),M=p.useMemo(()=>{const E={position:n,left:0,top:0};if(!U.floating)return E;const O=Tg(U.floating,d.x),T=Tg(U.floating,d.y);return a?{...E,transform:"translate("+O+"px, "+T+"px)",...Kx(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:O,top:T}},[n,a,U.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:P,refs:W,elements:U,floatingStyles:M}),[d,P,W,U,M])}const Nk=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?kg({element:r.current,padding:s}).fn(n):{}:r?kg({element:r,padding:s}).fn(n):{}}}},jk=(e,t)=>({...yk(e),options:[e,t]}),kk=(e,t)=>({...xk(e),options:[e,t]}),Tk=(e,t)=>({..._k(e),options:[e,t]}),Pk=(e,t)=>({...wk(e),options:[e,t]}),Rk=(e,t)=>({...bk(e),options:[e,t]}),Ok=(e,t)=>({...Sk(e),options:[e,t]}),Dk=(e,t)=>({...Nk(e),options:[e,t]});var Ak="Arrow",Qx=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return l.jsx(te.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Qx.displayName=Ak;var Ik=Qx;function Mk(e,t=[]){let n=[];function r(o,i){const a=p.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:f,children:g,...w}=h,m=(f==null?void 0:f[e][c])||a,x=p.useMemo(()=>w,Object.values(w));return l.jsx(m.Provider,{value:x,children:g})}function d(h,f){const g=(f==null?void 0:f[e][c])||a,w=p.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,Lk(s,...t)]}function Lk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function $k(e){const[t,n]=p.useState(void 0);return it(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var tp="Popper",[Xx,Yo]=Mk(tp),[Fk,Jx]=Xx(tp),Zx=e=>{const{__scopePopper:t,children:n}=e,[r,s]=p.useState(null);return l.jsx(Fk,{scope:t,anchor:r,onAnchorChange:s,children:n})};Zx.displayName=tp;var ew="PopperAnchor",tw=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Jx(ew,n),i=p.useRef(null),a=me(t,i);return p.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:l.jsx(te.div,{...s,ref:a})});tw.displayName=ew;var np="PopperContent",[Uk,Bk]=Xx(np),nw=p.forwardRef((e,t)=>{var X,de,ye,J,Z,fe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:w,...m}=e,x=Jx(np,n),[v,y]=p.useState(null),b=me(t,ze=>y(ze)),[S,_]=p.useState(null),C=$k(S),N=(C==null?void 0:C.width)??0,j=(C==null?void 0:C.height)??0,$=r+(o!=="center"?"-"+o:""),B=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],k=L.length>0,P={padding:B,boundary:L.filter(Wk),altBoundary:k},{refs:D,floatingStyles:W,placement:U,isPositioned:M,middlewareData:E}=Ck({strategy:"fixed",placement:$,whileElementsMounted:(...ze)=>vk(...ze,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[jk({mainAxis:s+j,alignmentAxis:i}),c&&kk({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Tk():void 0,...P}),c&&Pk({...P}),Rk({...P,apply:({elements:ze,rects:z,availableWidth:ne,availableHeight:Ee})=>{const{width:Ce,height:Ve}=z.reference,Ge=ze.floating.style;Ge.setProperty("--radix-popper-available-width",`${ne}px`),Ge.setProperty("--radix-popper-available-height",`${Ee}px`),Ge.setProperty("--radix-popper-anchor-width",`${Ce}px`),Ge.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),S&&Dk({element:S,padding:a}),Hk({arrowWidth:N,arrowHeight:j}),f&&Ok({strategy:"referenceHidden",...P})]}),[O,T]=ow(U),R=Ye(w);it(()=>{M&&(R==null||R())},[M,R]);const A=(X=E.arrow)==null?void 0:X.x,I=(de=E.arrow)==null?void 0:de.y,q=((ye=E.arrow)==null?void 0:ye.centerOffset)!==0,[ce,re]=p.useState();return it(()=>{v&&re(window.getComputedStyle(v).zIndex)},[v]),l.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:M?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(J=E.transformOrigin)==null?void 0:J.x,(Z=E.transformOrigin)==null?void 0:Z.y].join(" "),...((fe=E.hide)==null?void 0:fe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Uk,{scope:n,placedSide:O,onArrowChange:_,arrowX:A,arrowY:I,shouldHideArrow:q,children:l.jsx(te.div,{"data-side":O,"data-align":T,...m,ref:b,style:{...m.style,animation:M?void 0:"none"}})})})});nw.displayName=np;var rw="PopperArrow",zk={top:"bottom",right:"left",bottom:"top",left:"right"},sw=p.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=Bk(rw,r),i=zk[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(Ik,{...s,ref:n,style:{...s.style,display:"block"}})})});sw.displayName=rw;function Wk(e){return e!==null}var Hk=e=>({name:"transformOrigin",options:e,fn(t){var x,v,y;const{placement:n,rects:r,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=ow(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((v=s.arrow)==null?void 0:v.x)??0)+a/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let w="",m="";return u==="bottom"?(w=i?h:`${f}px`,m=`${-c}px`):u==="top"?(w=i?h:`${f}px`,m=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,m=i?h:`${g}px`):u==="left"&&(w=`${r.floating.width+c}px`,m=i?h:`${g}px`),{data:{x:w,y:m}}}});function ow(e){const[t,n="center"]=e.split("-");return[t,n]}var iw=Zx,Mc=tw,rp=nw,sp=sw,[Lc,o4]=Ps("Tooltip",[Yo]),op=Yo(),aw="TooltipProvider",Vk=700,Pg="tooltip.open",[qk,lw]=Lc(aw),cw=e=>{const{__scopeTooltip:t,delayDuration:n=Vk,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,[i,a]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx(qk,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:o})};cw.displayName=aw;var uw="Tooltip",[i4,$c]=Lc(uw),Cf="TooltipTrigger",Yk=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=$c(Cf,n),o=lw(Cf,n),i=op(n),a=p.useRef(null),c=me(t,a,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),l.jsx(Mc,{asChild:!0,...i,children:l.jsx(te.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:K(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:K(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:K(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:K(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:K(e.onBlur,s.onClose),onClick:K(e.onClick,s.onClose)})})});Yk.displayName=Cf;var Gk="TooltipPortal",[a4,Kk]=Lc(Gk,{forceMount:void 0}),Ao="TooltipContent",dw=p.forwardRef((e,t)=>{const n=Kk(Ao,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=$c(Ao,e.__scopeTooltip);return l.jsx(qt,{present:r||i.open,children:i.disableHoverableContent?l.jsx(fw,{side:s,...o,ref:t}):l.jsx(Qk,{side:s,...o,ref:t})})}),Qk=p.forwardRef((e,t)=>{const n=$c(Ao,e.__scopeTooltip),r=lw(Ao,e.__scopeTooltip),s=p.useRef(null),o=me(t,s),[i,a]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=p.useCallback(()=>{a(null),h(!1)},[h]),g=p.useCallback((w,m)=>{const x=w.currentTarget,v={x:w.clientX,y:w.clientY},y=eT(v,x.getBoundingClientRect()),b=tT(v,y),S=nT(m.getBoundingClientRect()),_=sT([...b,...S]);a(_),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const w=x=>g(x,d),m=x=>g(x,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",m)}}},[c,d,g,f]),p.useEffect(()=>{if(i){const w=m=>{const x=m.target,v={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!rT(v,i);y?f():b&&(f(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,i,u,f]),l.jsx(fw,{...e,ref:o})}),[Xk,Jk]=Lc(uw,{isInside:!1}),fw=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=$c(Ao,n),u=op(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(Pg,d),()=>document.removeEventListener(Pg,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=f=>{const g=f.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),l.jsx(Wo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:l.jsxs(rp,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(tx,{children:r}),l.jsx(Xk,{scope:n,isInside:!0,children:l.jsx(VC,{id:c.contentId,role:"tooltip",children:s||r})})]})})});dw.displayName=Ao;var hw="TooltipArrow",Zk=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=op(n);return Jk(hw,n).isInside?null:l.jsx(sp,{...s,...r,ref:t})});Zk.displayName=hw;function eT(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tT(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function nT(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function rT(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-a)*(r-c)/(d-c)+a&&(s=!s)}return s}function sT(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),oT(t)}function oT(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var iT=cw,pw=dw;const aT=iT,lT=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>l.jsx(pw,{ref:r,sideOffset:t,className:Q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));lT.displayName=pw.displayName;var Fc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uc=typeof window>"u"||"Deno"in globalThis;function un(){}function cT(e,t){return typeof e=="function"?e(t):e}function uT(e){return typeof e=="number"&&e>=0&&e!==1/0}function dT(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Rg(e,t){return typeof e=="function"?e(t):e}function fT(e,t){return typeof e=="function"?e(t):e}function Og(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==ip(i,t.options))return!1}else if(!Zi(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Dg(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ji(t.options.mutationKey)!==Ji(o))return!1}else if(!Zi(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function ip(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ji)(e)}function Ji(e){return JSON.stringify(e,(t,n)=>Nf(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Zi(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Zi(e[n],t[n])):!1}function mw(e,t){if(e===t)return e;const n=Ag(e)&&Ag(t);if(n||Nf(e)&&Nf(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let c=0;for(let u=0;u<i;u++){const d=n?u:o[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=mw(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function Ag(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nf(e){if(!Ig(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ig(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ig(e){return Object.prototype.toString.call(e)==="[object Object]"}function hT(e){return new Promise(t=>{setTimeout(t,e)})}function pT(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?mw(e,t):t}function mT(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function gT(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ap=Symbol();function gw(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ap?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var is,br,go,Pv,vT=(Pv=class extends Fc{constructor(){super();xe(this,is);xe(this,br);xe(this,go);le(this,go,t=>{if(!Uc&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){F(this,br)||this.setEventListener(F(this,go))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,br))==null||t.call(this),le(this,br,void 0))}setEventListener(t){var n;le(this,go,t),(n=F(this,br))==null||n.call(this),le(this,br,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){F(this,is)!==t&&(le(this,is,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof F(this,is)=="boolean"?F(this,is):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},is=new WeakMap,br=new WeakMap,go=new WeakMap,Pv),vw=new vT,vo,Sr,yo,Rv,yT=(Rv=class extends Fc{constructor(){super();xe(this,vo,!0);xe(this,Sr);xe(this,yo);le(this,yo,t=>{if(!Uc&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){F(this,Sr)||this.setEventListener(F(this,yo))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,Sr))==null||t.call(this),le(this,Sr,void 0))}setEventListener(t){var n;le(this,yo,t),(n=F(this,Sr))==null||n.call(this),le(this,Sr,t(this.setOnline.bind(this)))}setOnline(t){F(this,vo)!==t&&(le(this,vo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return F(this,vo)}},vo=new WeakMap,Sr=new WeakMap,yo=new WeakMap,Rv),tc=new yT;function xT(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function wT(e){return Math.min(1e3*2**e,3e4)}function yw(e){return(e??"online")==="online"?tc.isOnline():!0}var xw=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Qu(e){return e instanceof xw}function ww(e){let t=!1,n=0,r=!1,s;const o=xT(),i=m=>{var x;r||(f(new xw(m)),(x=e.abort)==null||x.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>vw.isFocused()&&(e.networkMode==="always"||tc.isOnline())&&e.canRun(),d=()=>yw(e.networkMode)&&e.canRun(),h=m=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,m),s==null||s(),o.resolve(m))},f=m=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,m),s==null||s(),o.reject(m))},g=()=>new Promise(m=>{var x;s=v=>{(r||u())&&m(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;s=void 0,r||(m=e.onContinue)==null||m.call(e)}),w=()=>{if(r)return;let m;const x=n===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(h).catch(v=>{var C;if(r)return;const y=e.retry??(Uc?0:3),b=e.retryDelay??wT,S=typeof b=="function"?b(n,v):b,_=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!_){f(v);return}n++,(C=e.onFail)==null||C.call(e,n,v),hT(S).then(()=>u()?void 0:g()).then(()=>{t?f(v):w()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?w():g().then(w),o)}}function bT(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var yt=bT(),as,Ov,bw=(Ov=class{constructor(){xe(this,as)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uT(this.gcTime)&&le(this,as,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Uc?1/0:5*60*1e3))}clearGcTimeout(){F(this,as)&&(clearTimeout(F(this,as)),le(this,as,void 0))}},as=new WeakMap,Ov),xo,wo,Yt,ut,oa,ls,dn,Hn,Dv,ST=(Dv=class extends bw{constructor(t){super();xe(this,dn);xe(this,xo);xe(this,wo);xe(this,Yt);xe(this,ut);xe(this,oa);xe(this,ls);le(this,ls,!1),le(this,oa,t.defaultOptions),this.setOptions(t.options),this.observers=[],le(this,Yt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,le(this,xo,ET(this.options)),this.state=t.state??F(this,xo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,ut))==null?void 0:t.promise}setOptions(t){this.options={...F(this,oa),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Yt).remove(this)}setData(t,n){const r=pT(this.state.data,t,this.options);return at(this,dn,Hn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){at(this,dn,Hn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=F(this,ut))==null?void 0:r.promise;return(s=F(this,ut))==null||s.cancel(t),n?n.then(un).catch(un):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,xo))}isActive(){return this.observers.some(t=>fT(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ap||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!dT(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=F(this,ut))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=F(this,ut))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,Yt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(F(this,ut)&&(F(this,ls)?F(this,ut).cancel({revert:!0}):F(this,ut).cancelRetry()),this.scheduleGc()),F(this,Yt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||at(this,dn,Hn).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(F(this,ut))return F(this,ut).continueRetry(),F(this,ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(le(this,ls,!0),r.signal)})},o=()=>{const h=gw(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return s(f),le(this,ls,!1),this.options.persister?this.options.persister(h,f,this):h(f)},i={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),le(this,wo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&at(this,dn,Hn).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=h=>{var f,g,w,m;Qu(h)&&h.silent||at(this,dn,Hn).call(this,{type:"error",error:h}),Qu(h)||((g=(f=F(this,Yt).config).onError)==null||g.call(f,h,this),(m=(w=F(this,Yt).config).onSettled)==null||m.call(w,this.state.data,h,this)),this.scheduleGc()};return le(this,ut,ww({initialPromise:n==null?void 0:n.initialPromise,fn:i.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var f,g,w,m;if(h===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(x){a(x);return}(g=(f=F(this,Yt).config).onSuccess)==null||g.call(f,h,this),(m=(w=F(this,Yt).config).onSettled)==null||m.call(w,h,this.state.error,this),this.scheduleGc()},onError:a,onFail:(h,f)=>{at(this,dn,Hn).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{at(this,dn,Hn).call(this,{type:"pause"})},onContinue:()=>{at(this,dn,Hn).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),F(this,ut).start()}},xo=new WeakMap,wo=new WeakMap,Yt=new WeakMap,ut=new WeakMap,oa=new WeakMap,ls=new WeakMap,dn=new WeakSet,Hn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._T(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Qu(s)&&s.revert&&F(this,wo)?{...F(this,wo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),yt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),F(this,Yt).notify({query:this,type:"updated",action:t})})},Dv);function _T(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yw(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ET(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kn,Av,CT=(Av=class extends Fc{constructor(t={}){super();xe(this,kn);this.config=t,le(this,kn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??ip(s,n);let i=this.get(o);return i||(i=new ST({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){F(this,kn).has(t.queryHash)||(F(this,kn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=F(this,kn).get(t.queryHash);n&&(t.destroy(),n===t&&F(this,kn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,kn).get(t)}getAll(){return[...F(this,kn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Og(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Og(t,r)):n}notify(t){yt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){yt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kn=new WeakMap,Av),Tn,pt,cs,Pn,fr,Iv,NT=(Iv=class extends bw{constructor(t){super();xe(this,Pn);xe(this,Tn);xe(this,pt);xe(this,cs);this.mutationId=t.mutationId,le(this,pt,t.mutationCache),le(this,Tn,[]),this.state=t.state||jT(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,Tn).includes(t)||(F(this,Tn).push(t),this.clearGcTimeout(),F(this,pt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){le(this,Tn,F(this,Tn).filter(n=>n!==t)),this.scheduleGc(),F(this,pt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,Tn).length||(this.state.status==="pending"?this.scheduleGc():F(this,pt).remove(this))}continue(){var t;return((t=F(this,cs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,a,c,u,d,h,f,g,w,m,x,v,y,b,S,_,C,N;le(this,cs,ww({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(j,$)=>{at(this,Pn,fr).call(this,{type:"failed",failureCount:j,error:$})},onPause:()=>{at(this,Pn,fr).call(this,{type:"pause"})},onContinue:()=>{at(this,Pn,fr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,pt).canRun(this)}));const n=this.state.status==="pending",r=!F(this,cs).canStart();try{if(!n){at(this,Pn,fr).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(s=F(this,pt).config).onMutate)==null?void 0:o.call(s,t,this));const $=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));$!==this.state.context&&at(this,Pn,fr).call(this,{type:"pending",context:$,variables:t,isPaused:r})}const j=await F(this,cs).start();return await((u=(c=F(this,pt).config).onSuccess)==null?void 0:u.call(c,j,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,j,t,this.state.context)),await((g=(f=F(this,pt).config).onSettled)==null?void 0:g.call(f,j,null,this.state.variables,this.state.context,this)),await((m=(w=this.options).onSettled)==null?void 0:m.call(w,j,null,t,this.state.context)),at(this,Pn,fr).call(this,{type:"success",data:j}),j}catch(j){try{throw await((v=(x=F(this,pt).config).onError)==null?void 0:v.call(x,j,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,j,t,this.state.context)),await((_=(S=F(this,pt).config).onSettled)==null?void 0:_.call(S,void 0,j,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,j,t,this.state.context)),j}finally{at(this,Pn,fr).call(this,{type:"error",error:j})}}finally{F(this,pt).runNext(this)}}},Tn=new WeakMap,pt=new WeakMap,cs=new WeakMap,Pn=new WeakSet,fr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),yt.batch(()=>{F(this,Tn).forEach(r=>{r.onMutationUpdate(t)}),F(this,pt).notify({mutation:this,type:"updated",action:t})})},Iv);function jT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dt,ia,Mv,kT=(Mv=class extends Fc{constructor(t={}){super();xe(this,Dt);xe(this,ia);this.config=t,le(this,Dt,new Map),le(this,ia,Date.now())}build(t,n,r){const s=new NT({mutationCache:this,mutationId:++ka(this,ia)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Qa(t),r=F(this,Dt).get(n)??[];r.push(t),F(this,Dt).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Qa(t);if(F(this,Dt).has(n)){const s=(r=F(this,Dt).get(n))==null?void 0:r.filter(o=>o!==t);s&&(s.length===0?F(this,Dt).delete(n):F(this,Dt).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=F(this,Dt).get(Qa(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=F(this,Dt).get(Qa(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){yt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...F(this,Dt).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Dg(n,r))}findAll(t={}){return this.getAll().filter(n=>Dg(t,n))}notify(t){yt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return yt.batch(()=>Promise.all(t.map(n=>n.continue().catch(un))))}},Dt=new WeakMap,ia=new WeakMap,Mv);function Qa(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Mg(e){return{onFetch:(t,n)=>{var d,h,f,g,w;const r=t.options,s=(f=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,o=((g=t.state.data)==null?void 0:g.pages)||[],i=((w=t.state.data)==null?void 0:w.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=gw(t.options,t.fetchOptions),y=async(b,S,_)=>{if(m)return Promise.reject();if(S==null&&b.pages.length)return Promise.resolve(b);const C={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};x(C);const N=await v(C),{maxPages:j}=t.options,$=_?gT:mT;return{pages:$(b.pages,N,j),pageParams:$(b.pageParams,S,j)}};if(s&&o.length){const b=s==="backward",S=b?TT:Lg,_={pages:o,pageParams:i},C=S(r,_);a=await y(_,C,b)}else{const b=e??o.length;do{const S=c===0?i[0]??r.initialPageParam:Lg(r,a);if(c>0&&S==null)break;a=await y(a,S),c++}while(c<b)}return a};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Lg(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function TT(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var We,_r,Er,bo,So,Cr,_o,Eo,Lv,PT=(Lv=class{constructor(e={}){xe(this,We);xe(this,_r);xe(this,Er);xe(this,bo);xe(this,So);xe(this,Cr);xe(this,_o);xe(this,Eo);le(this,We,e.queryCache||new CT),le(this,_r,e.mutationCache||new kT),le(this,Er,e.defaultOptions||{}),le(this,bo,new Map),le(this,So,new Map),le(this,Cr,0)}mount(){ka(this,Cr)._++,F(this,Cr)===1&&(le(this,_o,vw.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,We).onFocus())})),le(this,Eo,tc.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,We).onOnline())})))}unmount(){var e,t;ka(this,Cr)._--,F(this,Cr)===0&&((e=F(this,_o))==null||e.call(this),le(this,_o,void 0),(t=F(this,Eo))==null||t.call(this),le(this,Eo,void 0))}isFetching(e){return F(this,We).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,_r).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,We).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=F(this,We).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Rg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return F(this,We).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=F(this,We).get(r.queryHash),o=s==null?void 0:s.state.data,i=cT(t,o);if(i!==void 0)return F(this,We).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return yt.batch(()=>F(this,We).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=F(this,We).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=F(this,We);yt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=F(this,We),r={type:"active",...e};return yt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=yt.batch(()=>F(this,We).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(un).catch(un)}invalidateQueries(e={},t={}){return yt.batch(()=>{if(F(this,We).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=yt.batch(()=>F(this,We).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(un)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(un)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=F(this,We).build(this,t);return n.isStaleByTime(Rg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(un).catch(un)}fetchInfiniteQuery(e){return e.behavior=Mg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(un).catch(un)}ensureInfiniteQueryData(e){return e.behavior=Mg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return tc.isOnline()?F(this,_r).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,We)}getMutationCache(){return F(this,_r)}getDefaultOptions(){return F(this,Er)}setDefaultOptions(e){le(this,Er,e)}setQueryDefaults(e,t){F(this,bo).set(Ji(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,bo).values()];let n={};return t.forEach(r=>{Zi(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){F(this,So).set(Ji(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,So).values()];let n={};return t.forEach(r=>{Zi(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,Er).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ip(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ap&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,Er).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,We).clear(),F(this,_r).clear()}},We=new WeakMap,_r=new WeakMap,Er=new WeakMap,bo=new WeakMap,So=new WeakMap,Cr=new WeakMap,_o=new WeakMap,Eo=new WeakMap,Lv),RT=p.createContext(void 0),OT=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(RT.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ea.apply(this,arguments)}var kr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(kr||(kr={}));const $g="popstate";function DT(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return jf("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:_w(s)}return IT(t,n,null,e)}function Je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AT(){return Math.random().toString(36).substr(2,8)}function Fg(e,t){return{usr:e.state,key:e.key,idx:t}}function jf(e,t,n,r){return n===void 0&&(n=null),ea({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Go(t):t,{state:n,key:t&&t.key||r||AT()})}function _w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Go(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function IT(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=kr.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(ea({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=kr.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:a,location:m.location,delta:v})}function f(x,v){a=kr.Push;let y=jf(m.location,x,v);u=d()+1;let b=Fg(y,u),S=m.createHref(y);try{i.pushState(b,"",S)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(S)}o&&c&&c({action:a,location:m.location,delta:1})}function g(x,v){a=kr.Replace;let y=jf(m.location,x,v);u=d();let b=Fg(y,u),S=m.createHref(y);i.replaceState(b,"",S),o&&c&&c({action:a,location:m.location,delta:0})}function w(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:_w(x);return y=y.replace(/ $/,"%20"),Je(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return a},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener($g,h),c=x,()=>{s.removeEventListener($g,h),c=null}},createHref(x){return t(s,x)},createURL:w,encodeLocation(x){let v=w(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:g,go(x){return i.go(x)}};return m}var Ug;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ug||(Ug={}));function MT(e,t,n){return n===void 0&&(n="/"),LT(e,t,n,!1)}function LT(e,t,n,r){let s=typeof t=="string"?Go(t):t,o=Nw(s.pathname||"/",n);if(o==null)return null;let i=Ew(e);$T(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=KT(o);a=YT(i[c],u,r)}return a}function Ew(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Je(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=fs([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(Je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ew(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:VT(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of Cw(o.path))s(o,i,c)}),t}function Cw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Cw(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function $T(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:qT(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FT=/^:[\w-]+$/,UT=3,BT=2,zT=1,WT=10,HT=-2,Bg=e=>e==="*";function VT(e,t){let n=e.split("/"),r=n.length;return n.some(Bg)&&(r+=HT),t&&(r+=BT),n.filter(s=>!Bg(s)).reduce((s,o)=>s+(FT.test(o)?UT:o===""?zT:WT),r)}function qT(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function YT(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=zg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=zg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:fs([o,h.pathname]),pathnameBase:tP(fs([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=fs([o,h.pathnameBase]))}return i}function zg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=GT(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let m=a[h]||"";i=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function GT(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Sw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function KT(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Nw(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function QT(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Go(e):e;return{pathname:n?n.startsWith("/")?n:XT(n,t):t,search:nP(r),hash:rP(s)}}function XT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ZT(e,t){let n=JT(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function eP(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Go(e):(s=ea({},e),Je(!s.pathname||!s.pathname.includes("?"),Xu("?","pathname","search",s)),Je(!s.pathname||!s.pathname.includes("#"),Xu("#","pathname","hash",s)),Je(!s.search||!s.search.includes("#"),Xu("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let h=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?t[h]:"/"}let c=QT(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const fs=e=>e.join("/").replace(/\/\/+/g,"/"),tP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nP=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function sP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jw=["post","put","patch","delete"];new Set(jw);const oP=["get",...jw];new Set(oP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ta.apply(this,arguments)}const lp=p.createContext(null),iP=p.createContext(null),Bc=p.createContext(null),zc=p.createContext(null),Ko=p.createContext({outlet:null,matches:[],isDataRoute:!1}),kw=p.createContext(null);function Wc(){return p.useContext(zc)!=null}function Hc(){return Wc()||Je(!1),p.useContext(zc).location}function Tw(e){p.useContext(Bc).static||p.useLayoutEffect(e)}function Pw(){let{isDataRoute:e}=p.useContext(Ko);return e?xP():aP()}function aP(){Wc()||Je(!1);let e=p.useContext(lp),{basename:t,future:n,navigator:r}=p.useContext(Bc),{matches:s}=p.useContext(Ko),{pathname:o}=Hc(),i=JSON.stringify(ZT(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return Tw(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=eP(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:fs([t,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[t,r,i,o,e])}function lP(e,t){return cP(e,t)}function cP(e,t,n,r){Wc()||Je(!1);let{navigator:s}=p.useContext(Bc),{matches:o}=p.useContext(Ko),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Hc(),d;if(t){var h;let x=typeof t=="string"?Go(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||Je(!1),d=x}else d=u;let f=d.pathname||"/",g=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let w=MT(e,{pathname:g}),m=pP(w&&w.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:fs([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:fs([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&m?p.createElement(zc.Provider,{value:{location:ta({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:kr.Pop}},m):m}function uP(){let e=yP(),t=sP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:s},n):null,null)}const dP=p.createElement(uP,null);class fP extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Ko.Provider,{value:this.props.routeContext},p.createElement(kw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hP(e){let{routeContext:t,match:n,children:r}=e,s=p.useContext(lp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Ko.Provider,{value:t},r)}function pP(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Je(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,f)=>{let g,w=!1,m=null,x=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||dP,c&&(u<0&&f===0?(w=!0,x=null):u===f&&(w=!0,x=h.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,f+1)),y=()=>{let b;return g?b=m:w?b=x:h.route.Component?b=p.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,p.createElement(hP,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(fP,{location:n.location,revalidation:n.revalidation,component:m,error:g,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var Rw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rw||{}),nc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nc||{});function mP(e){let t=p.useContext(lp);return t||Je(!1),t}function gP(e){let t=p.useContext(iP);return t||Je(!1),t}function vP(e){let t=p.useContext(Ko);return t||Je(!1),t}function Ow(e){let t=vP(),n=t.matches[t.matches.length-1];return n.route.id||Je(!1),n.route.id}function yP(){var e;let t=p.useContext(kw),n=gP(nc.UseRouteError),r=Ow(nc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function xP(){let{router:e}=mP(Rw.UseNavigateStable),t=Ow(nc.UseNavigateStable),n=p.useRef(!1);return Tw(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ta({fromRouteId:t},o)))},[e,t])}function bl(e){Je(!1)}function wP(e){let{basename:t="/",children:n=null,location:r,navigationType:s=kr.Pop,navigator:o,static:i=!1,future:a}=e;Wc()&&Je(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:i,future:ta({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=Go(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:w="default"}=r,m=p.useMemo(()=>{let x=Nw(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:g,key:w},navigationType:s}},[c,d,h,f,g,w,s]);return m==null?null:p.createElement(Bc.Provider,{value:u},p.createElement(zc.Provider,{children:n,value:m}))}function bP(e){let{children:t,location:n}=e;return lP(kf(t),n)}new Promise(()=>{});function kf(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,s)=>{if(!p.isValidElement(r))return;let o=[...t,s];if(r.type===p.Fragment){n.push.apply(n,kf(r.props.children,o));return}r.type!==bl&&Je(!1),!r.props.index||!r.props.children||Je(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=kf(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const SP="6";try{window.__reactRouterVersion=SP}catch{}const _P="startTransition",Wg=Kv[_P];function EP(e){let{basename:t,children:n,future:r,window:s}=e,o=p.useRef();o.current==null&&(o.current=DT({window:s,v5Compat:!0}));let i=o.current,[a,c]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&Wg?Wg(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.createElement(wP,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var Hg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hg||(Hg={}));var Vg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vg||(Vg={}));const Tf=pa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Fr:"button";return l.jsx(i,{className:Q(Tf({variant:t,size:n,className:e})),ref:o,...s})});ue.displayName="Button";const rn=p.forwardRef(({className:e,type:t,...n},r)=>l.jsx("input",{type:t,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));rn.displayName="Input";var CP="Label",Dw=p.forwardRef((e,t)=>l.jsx(te.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Dw.displayName=CP;var Aw=Dw;const NP=pa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ke=p.forwardRef(({className:e,...t},n)=>l.jsx(Aw,{ref:n,className:Q(NP(),e),...t}));ke.displayName=Aw.displayName;function jP(e,t=[]){let n=[];function r(o,i){const a=p.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:f,children:g,...w}=h,m=(f==null?void 0:f[e][c])||a,x=p.useMemo(()=>w,Object.values(w));return l.jsx(m.Provider,{value:x,children:g})}function d(h,f){const g=(f==null?void 0:f[e][c])||a,w=p.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,kP(s,...t)]}function kP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var TP=p.createContext(void 0);function Vc(e){const t=p.useContext(TP);return e||t||"ltr"}var Ju="rovingFocusGroup.onEntryFocus",PP={bubbles:!1,cancelable:!0},qc="RovingFocusGroup",[Pf,Iw,RP]=Wh(qc),[OP,Mw]=jP(qc,[RP]),[DP,AP]=OP(qc),Lw=p.forwardRef((e,t)=>l.jsx(Pf.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Pf.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(IP,{...e,ref:t})})}));Lw.displayName=qc;var IP=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,f=p.useRef(null),g=me(t,f),w=Vc(o),[m=null,x]=ws({prop:i,defaultProp:a,onChange:c}),[v,y]=p.useState(!1),b=Ye(u),S=Iw(n),_=p.useRef(!1),[C,N]=p.useState(0);return p.useEffect(()=>{const j=f.current;if(j)return j.addEventListener(Ju,b),()=>j.removeEventListener(Ju,b)},[b]),l.jsx(DP,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:m,onItemFocus:p.useCallback(j=>x(j),[x]),onItemShiftTab:p.useCallback(()=>y(!0),[]),onFocusableItemAdd:p.useCallback(()=>N(j=>j+1),[]),onFocusableItemRemove:p.useCallback(()=>N(j=>j-1),[]),children:l.jsx(te.div,{tabIndex:v||C===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:K(e.onMouseDown,()=>{_.current=!0}),onFocus:K(e.onFocus,j=>{const $=!_.current;if(j.target===j.currentTarget&&$&&!v){const B=new CustomEvent(Ju,PP);if(j.currentTarget.dispatchEvent(B),!B.defaultPrevented){const L=S().filter(U=>U.focusable),k=L.find(U=>U.active),P=L.find(U=>U.id===m),W=[k,P,...L].filter(Boolean).map(U=>U.ref.current);Uw(W,d)}}_.current=!1}),onBlur:K(e.onBlur,()=>y(!1))})})}),$w="RovingFocusGroupItem",Fw=p.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,...i}=e,a=Zn(),c=o||a,u=AP($w,n),d=u.currentTabStopId===c,h=Iw(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=u;return p.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),l.jsx(Pf.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:l.jsx(te.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:K(e.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:K(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:K(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const m=$P(w,u.orientation,u.dir);if(m!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=h().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const y=v.indexOf(w.currentTarget);v=u.loop?FP(v,y+1):v.slice(y+1)}setTimeout(()=>Uw(v))}})})})});Fw.displayName=$w;var MP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function LP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $P(e,t,n){const r=LP(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return MP[r]}function Uw(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function FP(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var UP=Lw,BP=Fw,cp="Tabs",[zP,l4]=Ps(cp,[Mw]),Bw=Mw(),[WP,up]=zP(cp),zw=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=Vc(a),[h,f]=ws({prop:r,onChange:s,defaultProp:o});return l.jsx(WP,{scope:n,baseId:Zn(),value:h,onValueChange:f,orientation:i,dir:d,activationMode:c,children:l.jsx(te.div,{dir:d,"data-orientation":i,...u,ref:t})})});zw.displayName=cp;var Ww="TabsList",Hw=p.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=up(Ww,n),i=Bw(n);return l.jsx(UP,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:l.jsx(te.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});Hw.displayName=Ww;var Vw="TabsTrigger",qw=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=up(Vw,n),a=Bw(n),c=Kw(i.baseId,r),u=Qw(i.baseId,r),d=r===i.value;return l.jsx(BP,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(te.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:K(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:K(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:K(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(r)})})})});qw.displayName=Vw;var Yw="TabsContent",Gw=p.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=up(Yw,n),c=Kw(a.baseId,r),u=Qw(a.baseId,r),d=r===a.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),l.jsx(qt,{present:s||d,children:({present:f})=>l.jsx(te.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:f&&o})})});Gw.displayName=Yw;function Kw(e,t){return`${e}-trigger-${t}`}function Qw(e,t){return`${e}-content-${t}`}var HP=zw,Xw=Hw,Jw=qw,Zw=Gw;const na=HP,Io=p.forwardRef(({className:e,...t},n)=>l.jsx(Xw,{ref:n,className:Q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Io.displayName=Xw.displayName;const Qt=p.forwardRef(({className:e,...t},n)=>l.jsx(Jw,{ref:n,className:Q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Qt.displayName=Jw.displayName;const Xt=p.forwardRef(({className:e,...t},n)=>l.jsx(Zw,{ref:n,className:Q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Xt.displayName=Zw.displayName;var Zu="focusScope.autoFocusOnMount",ed="focusScope.autoFocusOnUnmount",qg={bubbles:!1,cancelable:!0},VP="FocusScope",Yc=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=p.useState(null),u=Ye(s),d=Ye(o),h=p.useRef(null),f=me(t,m=>c(m)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let m=function(b){if(g.paused||!a)return;const S=b.target;a.contains(S)?h.current=S:hr(h.current,{select:!0})},x=function(b){if(g.paused||!a)return;const S=b.relatedTarget;S!==null&&(a.contains(S)||hr(h.current,{select:!0}))},v=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&hr(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[r,a,g.paused]),p.useEffect(()=>{if(a){Gg.add(g);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(Zu,qg);a.addEventListener(Zu,u),a.dispatchEvent(v),v.defaultPrevented||(qP(XP(eb(a)),{select:!0}),document.activeElement===m&&hr(a))}return()=>{a.removeEventListener(Zu,u),setTimeout(()=>{const v=new CustomEvent(ed,qg);a.addEventListener(ed,d),a.dispatchEvent(v),v.defaultPrevented||hr(m??document.body,{select:!0}),a.removeEventListener(ed,d),Gg.remove(g)},0)}}},[a,u,d,g]);const w=p.useCallback(m=>{if(!n&&!r||g.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(x&&v){const y=m.currentTarget,[b,S]=YP(y);b&&S?!m.shiftKey&&v===S?(m.preventDefault(),n&&hr(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),n&&hr(S,{select:!0})):v===y&&m.preventDefault()}},[n,r,g.paused]);return l.jsx(te.div,{tabIndex:-1,...i,ref:f,onKeyDown:w})});Yc.displayName=VP;function qP(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(hr(r,{select:t}),document.activeElement!==n)return}function YP(e){const t=eb(e),n=Yg(t,e),r=Yg(t.reverse(),e);return[n,r]}function eb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Yg(e,t){for(const n of e)if(!GP(n,{upTo:t}))return n}function GP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function KP(e){return e instanceof HTMLInputElement&&"select"in e}function hr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&KP(e)&&t&&e.select()}}var Gg=QP();function QP(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Kg(e,t),e.unshift(t)},remove(t){var n;e=Kg(e,t),(n=e[0])==null||n.resume()}}}function Kg(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function XP(e){return e.filter(t=>t.tagName!=="A")}var td=0;function dp(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Qg()),document.body.insertAdjacentElement("beforeend",e[1]??Qg()),td++,()=>{td===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),td--}},[])}function Qg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var On=function(){return On=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},On.apply(this,arguments)};function tb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function JP(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Sl="right-scroll-bar-position",_l="width-before-scroll-bar",ZP="with-scroll-bars-hidden",eR="--removed-body-scroll-bar-size";function nd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function tR(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var nR=typeof window<"u"?p.useLayoutEffect:p.useEffect,Xg=new WeakMap;function rR(e,t){var n=tR(null,function(r){return e.forEach(function(s){return nd(s,r)})});return nR(function(){var r=Xg.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||nd(a,null)}),o.forEach(function(a){s.has(a)||nd(a,i)})}Xg.set(n,e)},[e]),n}function sR(e){return e}function oR(e,t){t===void 0&&(t=sR);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function iR(e){e===void 0&&(e={});var t=oR(null);return t.options=On({async:!0,ssr:!1},e),t}var nb=function(e){var t=e.sideCar,n=tb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,On({},n))};nb.isSideCarExport=!0;function aR(e,t){return e.useMedium(t),nb}var rb=iR(),rd=function(){},Gc=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:rd,onWheelCapture:rd,onTouchMoveCapture:rd}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,g=e.noIsolation,w=e.inert,m=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,y=e.gapMode,b=tb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,_=rR([n,t]),C=On(On({},b),s);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:rb,removeScrollBar:u,shards:h,noIsolation:g,inert:w,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:y}),i?p.cloneElement(p.Children.only(a),On(On({},C),{ref:_})):p.createElement(v,On({},C,{className:c,ref:_}),a))});Gc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gc.classNames={fullWidth:_l,zeroRight:Sl};var lR=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cR(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=lR();return t&&e.setAttribute("nonce",t),e}function uR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function dR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=cR())&&(uR(t,n),dR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},hR=function(){var e=fR();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},sb=function(){var e=hR(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},pR={left:0,top:0,right:0,gap:0},sd=function(e){return parseInt(e||"",10)||0},mR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[sd(n),sd(r),sd(s)]},gR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pR;var t=mR(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},vR=sb(),uo="data-scroll-locked",yR=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ZP,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(uo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_l,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Sl," .").concat(Sl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_l," .").concat(_l,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(uo,`] {
    `).concat(eR,": ").concat(a,`px;
  }
`)},Jg=function(){var e=parseInt(document.body.getAttribute(uo)||"0",10);return isFinite(e)?e:0},xR=function(){p.useEffect(function(){return document.body.setAttribute(uo,(Jg()+1).toString()),function(){var e=Jg()-1;e<=0?document.body.removeAttribute(uo):document.body.setAttribute(uo,e.toString())}},[])},wR=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;xR();var o=p.useMemo(function(){return gR(s)},[s]);return p.createElement(vR,{styles:yR(o,!t,s,n?"":"!important")})},Rf=!1;if(typeof window<"u")try{var Xa=Object.defineProperty({},"passive",{get:function(){return Rf=!0,!0}});window.addEventListener("test",Xa,Xa),window.removeEventListener("test",Xa,Xa)}catch{Rf=!1}var Is=Rf?{passive:!1}:!1,bR=function(e){return e.tagName==="TEXTAREA"},ob=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!bR(e)&&n[t]==="visible")},SR=function(e){return ob(e,"overflowY")},_R=function(e){return ob(e,"overflowX")},Zg=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=ib(e,r);if(s){var o=ab(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ER=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},CR=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ib=function(e,t){return e==="v"?SR(t):_R(t)},ab=function(e,t){return e==="v"?ER(t):CR(t)},NR=function(e,t){return e==="h"&&t==="rtl"?-1:1},jR=function(e,t,n,r,s){var o=NR(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,c=t.contains(a),u=!1,d=i>0,h=0,f=0;do{var g=ab(e,a),w=g[0],m=g[1],x=g[2],v=m-x-o*w;(w||v)&&ib(e,a)&&(h+=v,f+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},Ja=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ev=function(e){return[e.deltaX,e.deltaY]},tv=function(e){return e&&"current"in e?e.current:e},kR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},PR=0,Ms=[];function RR(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(PR++)[0],o=p.useState(sb)[0],i=p.useRef(e);p.useEffect(function(){i.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var m=JP([e.lockRef.current],(e.shards||[]).map(tv),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!i.current.allowPinchZoom;var v=Ja(m),y=n.current,b="deltaX"in m?m.deltaX:y[0]-v[0],S="deltaY"in m?m.deltaY:y[1]-v[1],_,C=m.target,N=Math.abs(b)>Math.abs(S)?"h":"v";if("touches"in m&&N==="h"&&C.type==="range")return!1;var j=Zg(N,C);if(!j)return!0;if(j?_=N:(_=N==="v"?"h":"v",j=Zg(N,C)),!j)return!1;if(!r.current&&"changedTouches"in m&&(b||S)&&(r.current=_),!_)return!0;var $=r.current||_;return jR($,x,m,$==="h"?b:S,!0)},[]),c=p.useCallback(function(m){var x=m;if(!(!Ms.length||Ms[Ms.length-1]!==o)){var v="deltaY"in x?ev(x):Ja(x),y=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&kR(_.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var b=(i.current.shards||[]).map(tv).filter(Boolean).filter(function(_){return _.contains(x.target)}),S=b.length>0?a(x,b[0]):!i.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(m,x,v,y){var b={name:m,delta:x,target:v,should:y,shadowParent:OR(v)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(S){return S!==b})},1)},[]),d=p.useCallback(function(m){n.current=Ja(m),r.current=void 0},[]),h=p.useCallback(function(m){u(m.type,ev(m),m.target,a(m,e.lockRef.current))},[]),f=p.useCallback(function(m){u(m.type,Ja(m),m.target,a(m,e.lockRef.current))},[]);p.useEffect(function(){return Ms.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Is),document.addEventListener("touchmove",c,Is),document.addEventListener("touchstart",d,Is),function(){Ms=Ms.filter(function(m){return m!==o}),document.removeEventListener("wheel",c,Is),document.removeEventListener("touchmove",c,Is),document.removeEventListener("touchstart",d,Is)}},[]);var g=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(o,{styles:TR(s)}):null,g?p.createElement(wR,{gapMode:e.gapMode}):null)}function OR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const DR=aR(rb,RR);var Kc=p.forwardRef(function(e,t){return p.createElement(Gc,On({},e,{ref:t,sideCar:DR}))});Kc.classNames=Gc.classNames;var AR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ls=new WeakMap,Za=new WeakMap,el={},od=0,lb=function(e){return e&&(e.host||lb(e.parentNode))},IR=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=lb(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},MR=function(e,t,n,r){var s=IR(t,Array.isArray(e)?e:[e]);el[n]||(el[n]=new WeakMap);var o=el[n],i=[],a=new Set,c=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))d(f);else try{var g=f.getAttribute(r),w=g!==null&&g!=="false",m=(Ls.get(f)||0)+1,x=(o.get(f)||0)+1;Ls.set(f,m),o.set(f,x),i.push(f),m===1&&w&&Za.set(f,!0),x===1&&f.setAttribute(n,"true"),w||f.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",f,v)}})};return d(t),a.clear(),od++,function(){i.forEach(function(h){var f=Ls.get(h)-1,g=o.get(h)-1;Ls.set(h,f),o.set(h,g),f||(Za.has(h)||h.removeAttribute(r),Za.delete(h)),g||h.removeAttribute(n)}),od--,od||(Ls=new WeakMap,Ls=new WeakMap,Za=new WeakMap,el={})}},fp=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=AR(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),MR(r,s,n,"aria-hidden")):function(){return null}},hp="Dialog",[cb,c4]=Ps(hp),[LR,Sn]=cb(hp),ub=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=p.useRef(null),c=p.useRef(null),[u=!1,d]=ws({prop:r,defaultProp:s,onChange:o});return l.jsx(LR,{scope:t,triggerRef:a,contentRef:c,contentId:Zn(),titleId:Zn(),descriptionId:Zn(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};ub.displayName=hp;var db="DialogTrigger",$R=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(db,n),o=me(t,s.triggerRef);return l.jsx(te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":gp(s.open),...r,ref:o,onClick:K(e.onClick,s.onOpenToggle)})});$R.displayName=db;var pp="DialogPortal",[FR,fb]=cb(pp,{forceMount:void 0}),hb=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Sn(pp,t);return l.jsx(FR,{scope:t,forceMount:n,children:p.Children.map(r,i=>l.jsx(qt,{present:n||o.open,children:l.jsx(fa,{asChild:!0,container:s,children:i})}))})};hb.displayName=pp;var rc="DialogOverlay",pb=p.forwardRef((e,t)=>{const n=fb(rc,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Sn(rc,e.__scopeDialog);return o.modal?l.jsx(qt,{present:r||o.open,children:l.jsx(UR,{...s,ref:t})}):null});pb.displayName=rc;var UR=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(rc,n);return l.jsx(Kc,{as:Fr,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(te.div,{"data-state":gp(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",mb=p.forwardRef((e,t)=>{const n=fb(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Sn(Ss,e.__scopeDialog);return l.jsx(qt,{present:r||o.open,children:o.modal?l.jsx(BR,{...s,ref:t}):l.jsx(zR,{...s,ref:t})})});mb.displayName=Ss;var BR=p.forwardRef((e,t)=>{const n=Sn(Ss,e.__scopeDialog),r=p.useRef(null),s=me(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return fp(o)},[]),l.jsx(gb,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:K(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:K(e.onFocusOutside,o=>o.preventDefault())})}),zR=p.forwardRef((e,t)=>{const n=Sn(Ss,e.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return l.jsx(gb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),gb=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Sn(Ss,n),c=p.useRef(null),u=me(t,c);return dp(),l.jsxs(l.Fragment,{children:[l.jsx(Yc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Wo,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":gp(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(WR,{titleId:a.titleId}),l.jsx(VR,{contentRef:c,descriptionId:a.descriptionId})]})]})}),mp="DialogTitle",vb=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(mp,n);return l.jsx(te.h2,{id:s.titleId,...r,ref:t})});vb.displayName=mp;var yb="DialogDescription",xb=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(yb,n);return l.jsx(te.p,{id:s.descriptionId,...r,ref:t})});xb.displayName=yb;var wb="DialogClose",bb=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Sn(wb,n);return l.jsx(te.button,{type:"button",...r,ref:t,onClick:K(e.onClick,()=>s.onOpenChange(!1))})});bb.displayName=wb;function gp(e){return e?"open":"closed"}var Sb="DialogTitleWarning",[u4,_b]=jC(Sb,{contentName:Ss,titleName:mp,docsSlug:"dialog"}),WR=({titleId:e})=>{const t=_b(Sb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},HR="DialogDescriptionWarning",VR=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_b(HR).contentName}}.`;return p.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},qR=ub,YR=hb,Eb=pb,Cb=mb,Nb=vb,jb=xb,GR=bb;const vp=qR,KR=YR,kb=p.forwardRef(({className:e,...t},n)=>l.jsx(Eb,{ref:n,className:Q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));kb.displayName=Eb.displayName;const Qc=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(KR,{children:[l.jsx(kb,{}),l.jsxs(Cb,{ref:r,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(GR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Oc,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qc.displayName=Cb.displayName;const Xc=({className:e,...t})=>l.jsx("div",{className:Q("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Xc.displayName="DialogHeader";const Jc=({className:e,...t})=>l.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Jc.displayName="DialogFooter";const Zc=p.forwardRef(({className:e,...t},n)=>l.jsx(Nb,{ref:n,className:Q("text-lg font-semibold leading-none tracking-tight",e),...t}));Zc.displayName=Nb.displayName;const eu=p.forwardRef(({className:e,...t},n)=>l.jsx(jb,{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));eu.displayName=jb.displayName;const we=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Q("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));we.displayName="Card";const $e=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Q("flex flex-col space-y-1.5 p-6",e),...t}));$e.displayName="CardHeader";const Fe=p.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:Q("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fe.displayName="CardTitle";const Qo=p.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));Qo.displayName="CardDescription";const Se=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Q("p-6 pt-0",e),...t}));Se.displayName="CardContent";const yp=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Q("flex items-center p-6 pt-0",e),...t}));yp.displayName="CardFooter";const QR=({onLogin:e})=>{const[t,n]=p.useState(""),[r,s]=p.useState(""),[o,i]=p.useState(!1),{toast:a}=Vt(),c=u=>{u.preventDefault(),i(!0),setTimeout(()=>{t==="admin"&&r==="admin123"?(a({title:"Login successful",description:"Welcome to the admin dashboard"}),e(!0)):a({title:"Login failed",description:"Invalid username or password",variant:"destructive"}),i(!1)},800)};return l.jsxs(we,{className:"w-full max-w-md",children:[l.jsxs($e,{children:[l.jsx(Fe,{className:"text-2xl font-heading",children:"Admin Login"}),l.jsx(Qo,{children:"Sign in to manage classes and rewards"})]}),l.jsxs("form",{onSubmit:c,children:[l.jsxs(Se,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"username",children:"Username"}),l.jsx(rn,{id:"username",type:"text",value:t,onChange:u=>n(u.target.value),placeholder:"Enter your username",required:!0,disabled:o})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"password",children:"Password"}),l.jsx(rn,{id:"password",type:"password",value:r,onChange:u=>s(u.target.value),placeholder:"Enter your password",required:!0,disabled:o})]})]}),l.jsx(yp,{children:l.jsx(ue,{type:"submit",className:"w-full",disabled:o,children:o?"Logging in...":"Login"})})]})]})},XR="modulepreload",JR=function(e){return"/"+e},nv={},va=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=JR(c),c in nv)return;nv[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":XR,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},ZR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>va(async()=>{const{default:r}=await Promise.resolve().then(()=>Xo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class xp extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class eO extends xp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tO extends xp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nO extends xp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Of;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Of||(Of={}));var rO=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class sO{constructor(t,{headers:n={},customFetch:r,region:s=Of.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=ZR(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return rO(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=n;let a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(a["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(a["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(w=>{throw new eO(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new tO(d);if(!d.ok)throw new nO(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield d.json():f==="application/octet-stream"?g=yield d.blob():f==="text/event-stream"?g=d:f==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Nt={},wp={},tu={},ya={},nu={},ru={},oO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mo=oO();const iO=Mo.fetch,Tb=Mo.fetch.bind(Mo),Pb=Mo.Headers,aO=Mo.Request,lO=Mo.Response,Xo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pb,Request:aO,Response:lO,default:Tb,fetch:iO},Symbol.toStringTag,{value:"Module"})),cO=H1(Xo);var su={};Object.defineProperty(su,"__esModule",{value:!0});let uO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};su.default=uO;var Rb=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ru,"__esModule",{value:!0});const dO=Rb(cO),fO=Rb(su);let hO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=dO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,c;let u=null,d=null,h=null,f=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const m=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await o.text();try{u=JSON.parse(m),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,g="OK")}catch{o.status===404&&m===""?(f=204,g="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new fO.default(u)}return{error:u,data:d,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};ru.default=hO;var pO=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nu,"__esModule",{value:!0});const mO=pO(ru);let gO=class extends mO.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};nu.default=gO;var vO=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const yO=vO(nu);let xO=class extends yO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};ya.default=xO;var wO=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tu,"__esModule",{value:!0});const ui=wO(ya);let bO=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=n,this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new ui.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){const a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new ui.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new ui.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new ui.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ui.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};tu.default=bO;var ou={},iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.version=void 0;iu.version="0.0.0-automated";Object.defineProperty(ou,"__esModule",{value:!0});ou.DEFAULT_HEADERS=void 0;const SO=iu;ou.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${SO.version}`};var Ob=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wp,"__esModule",{value:!0});const _O=Ob(tu),EO=Ob(ya),CO=ou;let NO=class Db{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},CO.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new _O.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Db(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let c;r||s?(i=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(i="POST",c=n);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new EO.default({method:i,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};wp.default=NO;var Jo=en&&en.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const Ab=Jo(wp);Nt.PostgrestClient=Ab.default;const Ib=Jo(tu);Nt.PostgrestQueryBuilder=Ib.default;const Mb=Jo(ya);Nt.PostgrestFilterBuilder=Mb.default;const Lb=Jo(nu);Nt.PostgrestTransformBuilder=Lb.default;const $b=Jo(ru);Nt.PostgrestBuilder=$b.default;const Fb=Jo(su);Nt.PostgrestError=Fb.default;var jO=Nt.default={PostgrestClient:Ab.default,PostgrestQueryBuilder:Ib.default,PostgrestFilterBuilder:Mb.default,PostgrestTransformBuilder:Lb.default,PostgrestBuilder:$b.default,PostgrestError:Fb.default};const{PostgrestClient:kO,PostgrestQueryBuilder:g4,PostgrestFilterBuilder:v4,PostgrestTransformBuilder:y4,PostgrestBuilder:x4,PostgrestError:w4}=jO;let Df;typeof window>"u"?Df=require("ws"):Df=window.WebSocket;const TO=Df,PO="2.11.10",RO={"X-Client-Info":`realtime-js/${PO}`},OO="1.0.0",Ub=1e4,DO=1e3;var fo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fo||(fo={}));var ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ht||(ht={}));var hn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(hn||(hn={}));var Af;(function(e){e.websocket="websocket"})(Af||(Af={}));var ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ns||(ns={}));class AO{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let i=this.HEADER_LENGTH+2;const a=r.decode(t.slice(i,i+s));i=i+s;const c=r.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Bb{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var je;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(je||(je={}));const rv=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,i)=>(o[i]=IO(i,e,t,s),o),{})},IO=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?zb(o,i):If(i)},zb=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return FO(t,n)}switch(e){case je.bool:return MO(t);case je.float4:case je.float8:case je.int2:case je.int4:case je.int8:case je.numeric:case je.oid:return LO(t);case je.json:case je.jsonb:return $O(t);case je.timestamp:return UO(t);case je.abstime:case je.date:case je.daterange:case je.int4range:case je.int8range:case je.money:case je.reltime:case je.text:case je.time:case je.timestamptz:case je.timetz:case je.tsrange:case je.tstzrange:return If(t);default:return If(t)}},If=e=>e,MO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},LO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$O=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},FO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>zb(t,a))}return e},UO=e=>typeof e=="string"?e.replace(" ","T"):e,Wb=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class id{constructor(t,n,r={},s=Ub){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var sv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(sv||(sv={}));class Ti{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ti.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Ti.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ti.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const h=o[u];if(h){const f=d.map(x=>x.presence_ref),g=h.map(x=>x.presence_ref),w=d.filter(x=>g.indexOf(x.presence_ref)<0),m=h.filter(x=>f.indexOf(x.presence_ref)<0);w.length>0&&(a[u]=w),m.length>0&&(c[u]=m)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const h=t[a].map(g=>g.presence_ref),f=d.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}r(a,d,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ov;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ov||(ov={}));var iv;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(iv||(iv={}));var Yn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Yn||(Yn={}));class bp{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new id(this,hn.join,this.params,this.timeout),this.rejoinTimer=new Bb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ht.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Ti(this),this.broadcastEndpointURL=Wb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Yn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Yn.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Yn.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,w=[];for(let m=0;m<g;m++){const x=f[m],{filter:{event:v,schema:y,table:b,filter:S}}=x,_=d&&d[m];if(_&&_.event===v&&_.schema===y&&_.table===b&&_.filter===S)w.push(Object.assign(Object.assign({},x),{id:_.id}));else{this.unsubscribe(),this.state=ht.errored,t==null||t(Yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Yn.SUBSCRIBED);return}}).receive("error",d=>{this.state=ht.errored,t==null||t(Yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new id(this,hn.leave,{},t);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new id(this,t,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=hn;if(r&&[a,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let f=this._onMessage(i,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var w,m,x;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((x=(m=g.filter)===null||m===void 0?void 0:m.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(g=>g.callback(f,r)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var w,m,x,v,y,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const S=g.id,_=(w=g.filter)===null||w===void 0?void 0:w.event;return S&&((m=n.ids)===null||m===void 0?void 0:m.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(y=(v=g==null?void 0:g.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((b=n==null?void 0:n.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:m,table:x,commit_timestamp:v,type:y,errors:b}=w;f=Object.assign(Object.assign({},{schema:m,table:x,commit_timestamp:v,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(w))}g.callback(f,r)})}_isClosed(){return this.state===ht.closed}_isJoined(){return this.state===ht.joined}_isJoining(){return this.state===ht.joining}_isLeaving(){return this.state===ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&bp.isEqual(s.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(hn.close,{},t)}_onError(t){this._on(hn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=rv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=rv(t.columns,t.old_record)),n}}const av=()=>{},BO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zO{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=RO,this.params={},this.timeout=Ub,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=av,this.ref=0,this.logger=av,this.conn=null,this.sendBuffer=[],this.serializer=new AO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>va(async()=>{const{default:c}=await Promise.resolve().then(()=>Xo);return{default:c}},void 0).then(({default:c})=>c(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${Af.websocket}`,this.httpEndpoint=Wb(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,i)=>i(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Bb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=TO),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new WO(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:OO}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fo.connecting:return ns.Connecting;case fo.open:return ns.Open;case fo.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new bp(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(hn.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(DO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:s,payload:o,ref:i}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(hn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([BO],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class WO{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Sp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ze(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class HO extends Sp{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Mf extends Sp{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var VO=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const Hb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>va(async()=>{const{default:r}=await Promise.resolve().then(()=>Xo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},qO=()=>VO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield va(()=>Promise.resolve().then(()=>Xo),void 0)).Response:Response}),Lf=e=>{if(Array.isArray(e))return e.map(n=>Lf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Lf(r)}),t};var Rs=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const ad=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YO=(e,t,n)=>Rs(void 0,void 0,void 0,function*(){const r=yield qO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{t(new HO(ad(s),e.status||500))}).catch(s=>{t(new Mf(ad(s),s))}):t(new Mf(ad(e),e))}),GO=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function xa(e,t,n,r,s,o){return Rs(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(n,GO(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>YO(c,a,r))})})}function sc(e,t,n,r){return Rs(this,void 0,void 0,function*(){return xa(e,"GET",t,n,r)})}function vr(e,t,n,r,s){return Rs(this,void 0,void 0,function*(){return xa(e,"POST",t,r,s,n)})}function KO(e,t,n,r,s){return Rs(this,void 0,void 0,function*(){return xa(e,"PUT",t,r,s,n)})}function QO(e,t,n,r){return Rs(this,void 0,void 0,function*(){return xa(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Vb(e,t,n,r,s){return Rs(this,void 0,void 0,function*(){return xa(e,"DELETE",t,r,s,n)})}var _t=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const XO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JO{constructor(t,n={},r,s){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Hb(s)}uploadOrUpdate(t,n,r,s){return _t(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},lv),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Ze(o))return{data:null,error:o};throw o}})}upload(t,n,r){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return _t(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:lv.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(Ze(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return _t(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield vr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new Sp("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}update(t,n,r){return _t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return _t(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}copy(t,n,r){return _t(this,void 0,void 0,function*(){try{return{data:{path:(yield vr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return _t(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield vr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return _t(this,void 0,void 0,function*(){try{const s=yield vr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}download(t,n){return _t(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield sc(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ze(a))return{data:null,error:a};throw a}})}info(t){return _t(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield sc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Lf(r),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}exists(t){return _t(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield QO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ze(r)&&r instanceof Mf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return _t(this,void 0,void 0,function*(){try{return{data:yield Vb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}list(t,n,r){return _t(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},XO),n),{prefix:t||""});return{data:yield vr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Ze(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const ZO="2.7.1",eD={"X-Client-Info":`storage-js/${ZO}`};var $s=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class tD{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},eD),n),this.fetch=Hb(r)}listBuckets(){return $s(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ze(t))return{data:null,error:t};throw t}})}getBucket(t){return $s(this,void 0,void 0,function*(){try{return{data:yield sc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return $s(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return $s(this,void 0,void 0,function*(){try{return{data:yield KO(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ze(r))return{data:null,error:r};throw r}})}emptyBucket(t){return $s(this,void 0,void 0,function*(){try{return{data:yield vr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}deleteBucket(t){return $s(this,void 0,void 0,function*(){try{return{data:yield Vb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ze(n))return{data:null,error:n};throw n}})}}class nD extends tD{constructor(t,n={},r){super(t,n,r)}from(t){return new JO(this.url,this.headers,t,this.fetch)}}const rD="2.50.0";let vi="";typeof Deno<"u"?vi="deno":typeof document<"u"?vi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vi="react-native":vi="node";const sD={"X-Client-Info":`supabase-js-${vi}/${rD}`},oD={headers:sD},iD={schema:"public"},aD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lD={};var cD=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const uD=e=>{let t;return e?t=e:typeof fetch>"u"?t=Tb:t=fetch,(...n)=>t(...n)},dD=()=>typeof Headers>"u"?Pb:Headers,fD=(e,t,n)=>{const r=uD(n),s=dD();return(o,i)=>cD(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:u}))})};var hD=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function pD(e){return e.endsWith("/")?e:e+"/"}function mD(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>hD(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const qb="2.70.0",Ws=30*1e3,$f=3,ld=$f*Ws,gD="http://localhost:9999",vD="supabase.auth.token",yD={"X-Client-Info":`gotrue-js/${qb}`},Ff="X-Supabase-Api-Version",Yb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wD=6e5;class _p extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bD extends _p{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function SD(e){return oe(e)&&e.name==="AuthApiError"}class Gb extends _p{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Yr extends _p{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class pr extends Yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _D(e){return oe(e)&&e.name==="AuthSessionMissingError"}class tl extends Yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nl extends Yr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class rl extends Yr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ED(e){return oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class cv extends Yr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uf extends Yr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function cd(e){return oe(e)&&e.name==="AuthRetryableFetchError"}class uv extends Yr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Pi extends Yr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),dv=` 	
\r=`.split(""),CD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<dv.length;t+=1)e[dv[t].charCodeAt(0)]=-2;for(let t=0;t<oc.length;t+=1)e[oc[t].charCodeAt(0)]=t;return e})();function fv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(oc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(oc[r]),t.queuedBits-=6}}function Kb(e,t,n){const r=CD[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hv(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{kD(i,r,n)};for(let i=0;i<e.length;i+=1)Kb(e.charCodeAt(i),s,o);return t.join("")}function ND(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jD(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}ND(r,t)}}function kD(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function TD(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Kb(e.charCodeAt(s),n,r);return new Uint8Array(t)}function PD(e){const t=[];return jD(e,n=>t.push(n)),new Uint8Array(t)}function RD(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>fv(s,n,r)),fv(null,n,r),t.join("")}function OD(e){return Math.round(Date.now()/1e3)+e}function DD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const an=()=>typeof window<"u"&&typeof document<"u",Xr={tested:!1,writable:!1},Ri=()=>{if(!an())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xr.tested)return Xr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xr.tested=!0,Xr.writable=!0}catch{Xr.tested=!0,Xr.writable=!1}return Xr.writable};function AD(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Qb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>va(async()=>{const{default:r}=await Promise.resolve().then(()=>Xo);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ID=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xb=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},sl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ol=async(e,t)=>{await e.removeItem(t)};class au{constructor(){this.promise=new au.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}au.promiseConstructor=Promise;function ud(e){const t=e.split(".");if(t.length!==3)throw new Pi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!xD.test(t[r]))throw new Pi("JWT not in base64url format");return{header:JSON.parse(hv(t[0])),payload:JSON.parse(hv(t[1])),signature:TD(t[2]),raw:{header:t[0],payload:t[1]}}}async function MD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function LD(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function $D(e){return("0"+e.toString(16)).substr(-2)}function FD(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,$D).join("")}async function UD(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function BD(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await UD(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fs(e,t,n=!1){const r=FD();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Xb(e,`${t}-code-verifier`,s);const o=await BD(r);return[o,r===o?"plain":"s256"]}const zD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function WD(e){const t=e.headers.get(Ff);if(!t||!t.match(zD))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function HD(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function VD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Us(e){if(!qD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var YD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const es=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),GD=[502,503,504];async function pv(e){var t;if(!ID(e))throw new Uf(es(e),0);if(GD.includes(e.status))throw new Uf(es(e),e.status);let n;try{n=await e.json()}catch(o){throw new Gb(es(o),o)}let r;const s=WD(e);if(s&&s.getTime()>=Yb["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uv(es(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new pr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new uv(es(n),e.status,n.weak_password.reasons);throw new bD(es(n),e.status||500,r)}const KD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function he(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Ff]||(o[Ff]=Yb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await QD(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function QD(e,t,n,r,s,o){const i=KD(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Uf(es(c),0)}if(a.ok||await pv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await pv(c)}}function Vn(e){var t;let n=null;eA(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=OD(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function mv(e){const t=Vn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function wr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XD(e){return{data:e,error:null}}function JD(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=YD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function ZD(e){return e}function eA(e){return e.access_token&&e.refresh_token&&e.expires_in}const dd=["global","local","others"];var tA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class nA{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Qb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=dd[0]){if(dd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dd.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:wr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=tA(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:JD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wr})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:ZD});if(d.error)throw d.error;const h=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(w=>{const m=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(w.split(";")[1].split("=")[1]);u[`${x}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Us(t);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wr})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Us(t);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:wr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Us(t);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:wr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Us(t.userId);try{const{data:n,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Us(t.userId),Us(t.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}}const rA={getItem:e=>Ri()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ri()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ri()&&globalThis.localStorage.removeItem(e)}};function gv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function sA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bs={debug:!!(globalThis&&Ri()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Jb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oA extends Jb{}async function iA(e,t,n){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}sA();const aA={url:gD,storageKey:vD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vv(e,t,n){return await n()}class ra{constructor(t){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ra.nextInstanceID,ra.nextInstanceID+=1,this.instanceID>0&&an()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},aA),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new nA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Qb(s.fetch),this.lock=s.lock||vv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:an()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=iA:this.lock=vv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ri()?this.storage=rA:(this.memoryStorage={},this.storage=gv(this.memoryStorage)):(this.memoryStorage={},this.storage=gv(this.memoryStorage)),an()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qb}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=AD(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),an()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ED(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return oe(n)?{error:n}:{error:new Gb("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Vn}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:h,options:f}=t;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await Fs(this.storage,this.storageKey)),o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:w},xform:Vn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;o=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Vn})}else throw new nl("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mv})}else throw new nl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new tl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,i,a,c,u,d,h,f,g;let w,m;if("message"in t)w=t.message,m=t.signature;else{const{chain:x,wallet:v,statement:y,options:b}=t;let S;if(an())if(typeof v=="object")S=v;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))S=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const _=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const C=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let N;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")N=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)N=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)w=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),m=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=b==null?void 0:b.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=b==null?void 0:b.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((h=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...b.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const C=await S.signMessage(new TextEncoder().encode(w),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:x,error:v}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:RD(m)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Vn});if(v)throw v;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new tl}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:v})}catch(x){if(oe(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await sl(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:i}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Vn});if(await ol(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new tl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(oe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Vn}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new tl}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Fs(this.storage,this.storageKey));const{error:h}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new nl("You must provide either an email or phone number.")}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Vn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Fs(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:XD})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new pr;const{error:s}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(oe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await he(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await he(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new nl("You must provide either an email or phone number and a type")}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await sl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ld:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pr}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:wr})})}catch(n){if(oe(n))return _D(n)&&(await this._removeSession(),await ol(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new pr;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Fs(this.storage,this.storageKey));const{data:u,error:d}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:wr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pr;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=ud(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(oe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new pr;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!an())throw new rl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new rl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new cv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new cv("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new rl("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;c&&(f=parseInt(c));const g=f-d;g*1e3<=Ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:m,error:x}=await this._getUser(o);if(x)throw x;const v={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:f,refresh_token:i,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(oe(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await sl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(SD(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await ol(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=DD(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Fs(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,c,u,d;const{data:h,error:f}=o;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return an()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(oe(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await LD(async s=>(s>0&&await MD(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Vn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&cd(o)&&Date.now()+i-r<Ws})}catch(r){if(this._debug(n,"error",r),oe(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),an()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await sl(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ld;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ld}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),cd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new pr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new au;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new pr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),oe(o)){const i={session:null,error:o};return cd(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Xb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ol(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&an()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ws);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ws}ms, refresh threshold is ${$f} ticks`),s<=$f&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Jb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!an()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Fs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await he(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(oe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:i,error:a}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(n){if(oe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(oe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ud(s.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+wD>Date.now()))return r;const{data:s,error:o}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new Pi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(i=>i.kid===t),!r)throw new Pi("No matching signing key found in JWKS");return r}async getClaims(t,n={keys:[]}){try{let r=t;if(!r){const{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};r=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=ud(r);if(HD(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const u=VD(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,i,PD(`${a}.${c}`)))throw new Pi("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}}ra.nextInstanceID=0;const lA=ra;class cA extends lA{constructor(t){super(t)}}var uA=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(h){i(h)}}function c(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class dA{constructor(t,n,r){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=pD(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:iD,realtime:lD,auth:Object.assign(Object.assign({},aD),{storageKey:u}),global:oD},h=mD(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=h.auth)!==null&&i!==void 0?i:{},this.headers,h.global.fetch),this.fetch=fD(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new kO(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new sO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new nD(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return uA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:i,lock:a,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new cA({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,flowType:i,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new zO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fA=(e,t,n)=>new dA(e,t,n),hA="https://ttdbvnmuwwzayzzbosyi.supabase.co",pA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR0ZGJ2bm11d3d6YXl6emJvc3lpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5ODc2NTYsImV4cCI6MjA2NTU2MzY1Nn0.JGNJn1iu0wwhLiu34gTEjuK-aK5aAMzJWlbrkB5VQ2Y",G=fA(hA,pA,{realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"student-bidding-system"}}}),mA=async e=>{try{const{data:t,error:n}=await G.from("users").select("*").eq("email",e.email).maybeSingle();if(t&&!n){const{data:o,error:i}=await G.from("users").update({name:e.name,student_number:e.studentNumber}).eq("id",t.id).select().single();if(i)throw i;return{id:o.id,name:o.name,email:o.email,studentNumber:o.student_number,createdAt:o.created_at,updatedAt:o.updated_at}}const{data:r,error:s}=await G.from("users").insert({name:e.name,email:e.email,student_number:e.studentNumber}).select().single();if(s)throw s;return{id:r.id,name:r.name,email:r.email,studentNumber:r.student_number,createdAt:r.created_at,updatedAt:r.updated_at}}catch(t){throw console.error("Error creating/getting user:",t),t}},gA=async e=>{try{const{data:t,error:n}=await G.from("student_enrollments").upsert({user_id:e.userId,class_id:e.classId,tokens_remaining:e.tokensRemaining||1,token_status:e.tokenStatus||"unused",bidding_result:e.biddingResult||"pending"}).select().single();if(n)throw n;return{userId:t.user_id,classId:t.class_id,tokensRemaining:t.tokens_remaining,tokenStatus:t.token_status,biddingResult:t.bidding_result,createdAt:t.created_at,updatedAt:t.updated_at}}catch(t){throw console.error("Error enrolling user in class:",t),t}},vA=async(e,t)=>{try{const{data:n,error:r}=await G.from("users").select("*").eq("email",e.toLowerCase()).eq("student_number",t).maybeSingle();return r||!n?null:{id:n.id,name:n.name,email:n.email,studentNumber:n.student_number,createdAt:n.created_at,updatedAt:n.updated_at}}catch(n){return console.error("Error getting user by credentials:",n),null}},yA=async e=>{try{const{data:t,error:n}=await G.from("student_enrollments").select("*").eq("user_id",e);if(n)throw n;return(t||[]).map(r=>({userId:r.user_id,classId:r.class_id,tokensRemaining:r.tokens_remaining,tokenStatus:r.token_status,biddingResult:r.bidding_result,createdAt:r.created_at,updatedAt:r.updated_at}))}catch(t){return console.error("Error getting user enrollments:",t),[]}},Zb=async e=>{try{const{data:t,error:n}=await G.from("student_enrollments").select(`
        *,
        user:users(*)
      `).eq("class_id",e);if(n)throw n;return(t||[]).map(r=>({id:r.user.id,name:r.user.name,email:r.user.email,studentNumber:r.user.student_number,hasUsedToken:r.tokens_remaining<=0,hasBid:r.token_status==="used",tokensRemaining:r.tokens_remaining,tokenStatus:r.token_status,biddingResult:r.bidding_result}))}catch(t){return console.error("Error getting class students:",t),[]}},xA=async(e,t,n)=>{try{const r=await vA(e,t);if(!r)return{success:!1,enrolledClasses:[],errorMessage:"No student found with these credentials"};const s=await yA(r.id);if(s.length===0)return{success:!1,enrolledClasses:[],errorMessage:"Student is not enrolled in any classes"};const o=[];for(const a of s){const c=n.find(u=>u.id===a.classId);if(c){const u={id:r.id,name:r.name,email:r.email,studentNumber:r.studentNumber,hasUsedToken:a.tokensRemaining<=0,hasBid:a.tokenStatus==="used",tokensRemaining:a.tokensRemaining,tokenStatus:a.tokenStatus,biddingResult:a.biddingResult},d={...c,students:c.students.map(h=>h.id===r.id?u:h)};o.push(d)}}return o.length===0?{success:!1,enrolledClasses:[],errorMessage:"Student's enrolled classes are not available"}:{success:!0,student:{id:r.id,name:r.name,email:r.email,studentNumber:r.studentNumber,enrollments:s},enrolledClasses:o}}catch(r){return console.error("Error during student authentication:",r),{success:!1,enrolledClasses:[],errorMessage:"Authentication failed due to system error"}}},wA=({classes:e,onLogin:t})=>{const[n,r]=p.useState(""),[s,o]=p.useState(""),[i,a]=p.useState(!1),{toast:c}=Vt(),u=Pw(),d=async h=>{h.preventDefault(),a(!0);try{const f=await xA(n,s,e);f.success&&f.student&&f.enrolledClasses.length>0?(c({title:"Login successful",description:`Welcome, ${f.student.name}! Found ${f.enrolledClasses.length} class(es).`}),t(!0),u("/student",{state:{student:f.student,classes:f.enrolledClasses}})):c({title:"Login failed",description:f.errorMessage||"Invalid email or student number. Please check your credentials.",variant:"destructive"})}catch(f){console.error("Login error:",f),c({title:"Login failed",description:"An error occurred during login. Please try again.",variant:"destructive"})}finally{a(!1)}};return l.jsxs(we,{className:"w-full max-w-md",children:[l.jsxs($e,{children:[l.jsx(Fe,{className:"text-2xl font-heading",children:"Student Login"}),l.jsx(Qo,{children:"Enter your email address and student number to access your classes"})]}),l.jsxs("form",{onSubmit:d,children:[l.jsxs(Se,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"email",children:"Email Address"}),l.jsx(rn,{id:"email",type:"email",value:n,onChange:h=>r(h.target.value),placeholder:"your.email@example.com",required:!0,disabled:i})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"studentNumber",children:"Student Number"}),l.jsx(rn,{id:"studentNumber",type:"text",value:s,onChange:h=>o(h.target.value),placeholder:"Enter your student number",required:!0,disabled:i})]}),l.jsx("div",{className:"text-sm text-muted-foreground",children:l.jsx("p",{children:"You will see all classes you're enrolled in after logging in."})})]}),l.jsx(yp,{children:l.jsx(ue,{type:"submit",className:"w-full",disabled:i,children:i?"Logging in...":"Login"})})]})]})};function Bf(e,[t,n]){return Math.min(n,Math.max(t,e))}function bA(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var Ep="ScrollArea",[eS,b4]=Ps(Ep),[SA,sn]=eS(Ep),tS=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[g,w]=p.useState(null),[m,x]=p.useState(null),[v,y]=p.useState(0),[b,S]=p.useState(0),[_,C]=p.useState(!1),[N,j]=p.useState(!1),$=me(t,L=>c(L)),B=Vc(s);return l.jsx(SA,{scope:n,type:r,dir:B,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:x,scrollbarYEnabled:N,onScrollbarYEnabledChange:j,onCornerWidthChange:y,onCornerHeightChange:S,children:l.jsx(te.div,{dir:B,...i,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});tS.displayName=Ep;var nS="ScrollAreaViewport",rS=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:o,...i}=e,a=sn(nS,n),c=p.useRef(null),u=me(t,c,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:o}),l.jsx(te.div,{"data-radix-scroll-area-viewport":"",...i,asChild:s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:OA({asChild:s,children:r},d=>l.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});rS.displayName=nS;var Un="ScrollAreaScrollbar",Cp=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=sn(Un,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return p.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?l.jsx(_A,{...r,ref:t,forceMount:n}):s.type==="scroll"?l.jsx(EA,{...r,ref:t,forceMount:n}):s.type==="auto"?l.jsx(sS,{...r,ref:t,forceMount:n}):s.type==="always"?l.jsx(Np,{...r,ref:t}):null});Cp.displayName=Un;var _A=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=sn(Un,e.__scopeScrollArea),[o,i]=p.useState(!1);return p.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(qt,{present:n||o,children:l.jsx(sS,{"data-state":o?"visible":"hidden",...r,ref:t})})}),EA=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=sn(Un,e.__scopeScrollArea),o=e.orientation==="horizontal",i=cu(()=>c("SCROLL_END"),100),[a,c]=bA("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const g=u[d];h!==g&&(c("SCROLL"),i()),h=g};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,o,c,i]),l.jsx(qt,{present:n||a!=="hidden",children:l.jsx(Np,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:K(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:K(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),sS=p.forwardRef((e,t)=>{const n=sn(Un,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=p.useState(!1),a=e.orientation==="horizontal",c=cu(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?u:d)}},10);return Lo(n.viewport,c),Lo(n.content,c),l.jsx(qt,{present:r||o,children:l.jsx(Np,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Np=p.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=sn(Un,e.__scopeScrollArea),o=p.useRef(null),i=p.useRef(0),[a,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=cS(a.viewport,a.content),d={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function h(f,g){return PA(f,i.current,a,g)}return n==="horizontal"?l.jsx(CA,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollLeft,g=yv(f,a,s.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?l.jsx(NA,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const f=s.viewport.scrollTop,g=yv(f,a);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),CA=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=sn(Un,e.__scopeScrollArea),[i,a]=p.useState(),c=p.useRef(null),u=me(t,c,o.onScrollbarXChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(iS,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const f=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),dS(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ac(i.paddingLeft),paddingEnd:ac(i.paddingRight)}})}})}),NA=p.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=sn(Un,e.__scopeScrollArea),[i,a]=p.useState(),c=p.useRef(null),u=me(t,c,o.onScrollbarYChange);return p.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(iS,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lu(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const f=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),dS(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ac(i.paddingTop),paddingEnd:ac(i.paddingBottom)}})}})}),[jA,oS]=eS(Un),iS=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=e,g=sn(Un,n),[w,m]=p.useState(null),x=me(t,$=>m($)),v=p.useRef(null),y=p.useRef(""),b=g.viewport,S=r.content-r.viewport,_=Ye(d),C=Ye(c),N=cu(h,10);function j($){if(v.current){const B=$.clientX-v.current.left,L=$.clientY-v.current.top;u({x:B,y:L})}}return p.useEffect(()=>{const $=B=>{const L=B.target;(w==null?void 0:w.contains(L))&&_(B,S)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[b,w,S,_]),p.useEffect(C,[r,C]),Lo(w,N),Lo(g.content,N),l.jsx(jA,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:Ye(o),onThumbPointerUp:Ye(i),onThumbPositionChange:C,onThumbPointerDown:Ye(a),children:l.jsx(te.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:K(e.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),v.current=w.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),j($))}),onPointerMove:K(e.onPointerMove,j),onPointerUp:K(e.onPointerUp,$=>{const B=$.target;B.hasPointerCapture($.pointerId)&&B.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),v.current=null})})})}),ic="ScrollAreaThumb",aS=p.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=oS(ic,e.__scopeScrollArea);return l.jsx(qt,{present:n||s.hasThumb,children:l.jsx(kA,{ref:t,...r})})}),kA=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=sn(ic,n),i=oS(ic,n),{onThumbPositionChange:a}=i,c=me(t,h=>i.onThumbChange(h)),u=p.useRef(),d=cu(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=o.viewport;if(h){const f=()=>{if(d(),!u.current){const g=RA(h,a);u.current=g,a()}};return a(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[o.viewport,d,a]),l.jsx(te.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:K(e.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),w=h.clientX-g.left,m=h.clientY-g.top;i.onThumbPointerDown({x:w,y:m})}),onPointerUp:K(e.onPointerUp,i.onThumbPointerUp)})});aS.displayName=ic;var jp="ScrollAreaCorner",lS=p.forwardRef((e,t)=>{const n=sn(jp,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(TA,{...e,ref:t}):null});lS.displayName=jp;var TA=p.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=sn(jp,n),[o,i]=p.useState(0),[a,c]=p.useState(0),u=!!(o&&a);return Lo(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Lo(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?l.jsx(te.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ac(e){return e?parseInt(e,10):0}function cS(e,t){const n=e/t;return isNaN(n)?0:n}function lu(e){const t=cS(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function PA(e,t,n,r="ltr"){const s=lu(n),o=s/2,i=t||o,a=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return uS([c,u],h)(e)}function yv(e,t,n="ltr"){const r=lu(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Bf(e,c);return uS([0,i],[0,a])(u)}function uS(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function dS(e,t){return e>0&&e<t}var RA=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function cu(e,t){const n=Ye(e),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Lo(e,t){const n=Ye(t);it(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}function OA(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=p.Children.only(r);return p.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}var fS=tS,DA=rS,AA=lS;const kp=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(fS,{ref:r,className:Q("relative overflow-hidden",e),...n,children:[l.jsx(DA,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(hS,{}),l.jsx(AA,{})]}));kp.displayName=fS.displayName;const hS=p.forwardRef(({className:e,orientation:t="vertical",...n},r)=>l.jsx(Cp,{ref:r,orientation:t,className:Q("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:l.jsx(aS,{className:"relative flex-1 rounded-full bg-border"})}));hS.displayName=Cp.displayName;const IA=({classes:e,currentClass:t,onSelectClass:n,onCreateClass:r,isCollapsed:s=!1})=>{const[o,i]=p.useState(null);return l.jsx("div",{className:Q("fixed left-0 top-16 h-[calc(100vh-64px)] bg-white border-r border-gray-200 shadow-sm transition-all duration-300 z-40",s?"w-16":"w-80"),children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[!s&&l.jsx("h2",{className:"text-lg font-heading font-semibold text-gray-900",children:"Classes"}),l.jsxs(ue,{onClick:r,size:s?"icon":"sm",className:"bg-academy-blue hover:bg-academy-blue/90",children:[l.jsx(yf,{className:"w-4 h-4"}),!s&&l.jsx("span",{className:"ml-2",children:"New Class"})]})]})}),l.jsx(kp,{className:"flex-1 p-2",children:l.jsx("div",{className:"space-y-2",children:e.length===0?l.jsx("div",{className:Q("text-center py-8",s&&"px-2"),children:s?l.jsx(Kl,{className:"w-6 h-6 mx-auto text-gray-400"}):l.jsxs(l.Fragment,{children:[l.jsx(Kl,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No classes yet"}),l.jsx(ue,{onClick:r,size:"sm",variant:"outline",children:"Create First Class"})]})}):e.map(a=>l.jsx(we,{className:Q("cursor-pointer transition-all duration-200 hover:shadow-md",(t==null?void 0:t.id)===a.id?"border-academy-blue bg-academy-blue/5 shadow-sm":"border-gray-200 hover:border-gray-300",s&&"p-2"),onClick:()=>n(a.id),onMouseEnter:()=>i(a.id),onMouseLeave:()=>i(null),children:s?l.jsx("div",{className:"flex items-center justify-center p-2",children:l.jsx("div",{className:"w-8 h-8 rounded-full bg-academy-blue/10 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-semibold text-academy-blue",children:a.className.charAt(0).toUpperCase()})})}):l.jsx(l.Fragment,{children:l.jsx($e,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Fe,{className:"text-base font-semibold text-gray-900 truncate",children:a.className}),(t==null?void 0:t.id)===a.id&&l.jsx(Yh,{className:"w-4 h-4 text-academy-blue"})]})})})},a.id))})}),!s&&l.jsx("div",{className:"p-4 border-t border-gray-100",children:l.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[e.length," ",e.length===1?"class":"classes"," total"]})})]})})},MA=pa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function se({className:e,variant:t,...n}){return l.jsx("div",{className:Q(MA({variant:t}),e),...n})}const Tp=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:Q("w-full caption-bottom text-sm",e),...t})}));Tp.displayName="Table";const Pp=p.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:Q("[&_tr]:border-b",e),...t}));Pp.displayName="TableHeader";const Rp=p.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:Q("[&_tr:last-child]:border-0",e),...t}));Rp.displayName="TableBody";const LA=p.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:Q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));LA.displayName="TableFooter";const ho=p.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:Q("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ho.displayName="TableRow";const Et=p.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:Q("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Et.displayName="TableHead";const gt=p.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:Q("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));gt.displayName="TableCell";const $A=p.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:Q("mt-4 text-sm text-muted-foreground",e),...t}));$A.displayName="TableCaption";const FA=e=>{const t=new Date;if(!e.bidOpenDate||!e.bidCloseDate)return!1;const n=new Date(e.bidOpenDate),r=new Date(e.bidCloseDate);return isNaN(n.getTime())||isNaN(r.getTime())?!1:t>=n&&t<r},Xn=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",weekday:"short"}),Dn=e=>{const t=new Date,n=new Date(e.date);if(!e.bidOpenDate||!e.bidCloseDate)return"Invalid Date Configuration";const r=new Date(e.bidOpenDate),s=new Date(e.bidCloseDate);return isNaN(r.getTime())||isNaN(s.getTime())||isNaN(n.getTime())?"Invalid Date Configuration":t>n?"Completed":t>=r&&t<s?"Open for Bidding":t>=s&&t<n?"Bidding Closed":"Coming Soon"},Op=p.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Op.displayName="Textarea";function ve(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function zt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function vt(e,t){const n=ve(e);return isNaN(t)?zt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function wn(e,t){const n=ve(e);if(isNaN(t))return zt(e,NaN);if(!t)return n;const r=n.getDate(),s=zt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const Dp=6048e5,UA=864e5;let BA={};function wa(){return BA}function $n(e,t){var a,c,u,d;const n=wa(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ve(e),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function _s(e){return $n(e,{weekStartsOn:1})}function pS(e){const t=ve(e),n=t.getFullYear(),r=zt(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=_s(r),o=zt(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=_s(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function $o(e){const t=ve(e);return t.setHours(0,0,0,0),t}function lc(e){const t=ve(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function An(e,t){const n=$o(e),r=$o(t),s=+n-lc(n),o=+r-lc(r);return Math.round((s-o)/UA)}function zA(e){const t=pS(e),n=zt(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),_s(n)}function zf(e,t){const n=t*7;return vt(e,n)}function WA(e,t){return wn(e,t*12)}function HA(e){let t;return e.forEach(function(n){const r=ve(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function VA(e){let t;return e.forEach(n=>{const r=ve(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function kt(e,t){const n=$o(e),r=$o(t);return+n==+r}function Ap(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function qA(e){if(!Ap(e)&&typeof e!="number")return!1;const t=ve(e);return!isNaN(Number(t))}function sa(e,t){const n=ve(e),r=ve(t),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function YA(e,t,n){const r=$n(e,n),s=$n(t,n),o=+r-lc(r),i=+s-lc(s);return Math.round((o-i)/Dp)}function Ip(e){const t=ve(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ot(e){const t=ve(e);return t.setDate(1),t.setHours(0,0,0,0),t}function mS(e){const t=ve(e),n=zt(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Mp(e,t){var a,c,u,d;const n=wa(),r=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ve(e),o=s.getDay(),i=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function gS(e){return Mp(e,{weekStartsOn:1})}const GA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KA=(e,t,n)=>{let r;const s=GA[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fd(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const QA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ZA={date:fd({formats:QA,defaultWidth:"full"}),time:fd({formats:XA,defaultWidth:"full"}),dateTime:fd({formats:JA,defaultWidth:"full"})},e2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},t2=(e,t,n,r)=>e2[e];function di(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const n2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},r2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},s2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},o2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},i2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},a2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},l2=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},c2={ordinalNumber:l2,era:di({values:n2,defaultWidth:"wide"}),quarter:di({values:r2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:di({values:s2,defaultWidth:"wide"}),day:di({values:o2,defaultWidth:"wide"}),dayPeriod:di({values:i2,defaultWidth:"wide",formattingValues:a2,defaultFormattingWidth:"wide"})};function fi(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?d2(a,h=>h.test(i)):u2(a,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function u2(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function d2(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function f2(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const h2=/^(\d+)(th|st|nd|rd)?/i,p2=/\d+/i,m2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},g2={any:[/^b/i,/^(a|c)/i]},v2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},y2={any:[/1/i,/2/i,/3/i,/4/i]},x2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},w2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},b2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},S2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},E2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},C2={ordinalNumber:f2({matchPattern:h2,parsePattern:p2,valueCallback:e=>parseInt(e,10)}),era:fi({matchPatterns:m2,defaultMatchWidth:"wide",parsePatterns:g2,defaultParseWidth:"any"}),quarter:fi({matchPatterns:v2,defaultMatchWidth:"wide",parsePatterns:y2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fi({matchPatterns:x2,defaultMatchWidth:"wide",parsePatterns:w2,defaultParseWidth:"any"}),day:fi({matchPatterns:b2,defaultMatchWidth:"wide",parsePatterns:S2,defaultParseWidth:"any"}),dayPeriod:fi({matchPatterns:_2,defaultMatchWidth:"any",parsePatterns:E2,defaultParseWidth:"any"})},vS={code:"en-US",formatDistance:KA,formatLong:ZA,formatRelative:t2,localize:c2,match:C2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function N2(e){const t=ve(e);return An(t,mS(t))+1}function yS(e){const t=ve(e),n=+_s(t)-+zA(t);return Math.round(n/Dp)+1}function xS(e,t){var d,h,f,g;const n=ve(e),r=n.getFullYear(),s=wa(),o=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,i=zt(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const a=$n(i,t),c=zt(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=$n(c,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function j2(e,t){var a,c,u,d;const n=wa(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=xS(e,t),o=zt(e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),$n(o,t)}function wS(e,t){const n=ve(e),r=+$n(n,t)-+j2(n,t);return Math.round(r/Dp)+1}function be(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const dr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return be(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):be(n+1,2)},d(e,t){return be(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return be(e.getHours()%12||12,t.length)},H(e,t){return be(e.getHours(),t.length)},m(e,t){return be(e.getMinutes(),t.length)},s(e,t){return be(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return be(s,t.length)}},zs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},xv={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return dr.y(e,t)},Y:function(e,t,n,r){const s=xS(e,r),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return be(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):be(o,t.length)},R:function(e,t){const n=pS(e);return be(n,t.length)},u:function(e,t){const n=e.getFullYear();return be(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return be(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return be(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return dr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return be(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=wS(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):be(s,t.length)},I:function(e,t,n){const r=yS(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):be(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):dr.d(e,t)},D:function(e,t,n){const r=N2(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):be(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return be(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return be(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return be(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=zs.noon:r===0?s=zs.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=zs.evening:r>=12?s=zs.afternoon:r>=4?s=zs.morning:s=zs.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return dr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):dr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):be(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):be(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):dr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):dr.s(e,t)},S:function(e,t){return dr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return bv(r);case"XXXX":case"XX":return ts(r);case"XXXXX":case"XXX":default:return ts(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return bv(r);case"xxxx":case"xx":return ts(r);case"xxxxx":case"xxx":default:return ts(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+wv(r,":");case"OOOO":default:return"GMT"+ts(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+wv(r,":");case"zzzz":default:return"GMT"+ts(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return be(r,t.length)},T:function(e,t,n){const r=e.getTime();return be(r,t.length)}};function wv(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+be(o,2)}function bv(e,t){return e%60===0?(e>0?"-":"+")+be(Math.abs(e)/60,2):ts(e,t)}function ts(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=be(Math.trunc(r/60),2),o=be(r%60,2);return n+s+t+o}const Sv=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},bS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},k2=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Sv(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Sv(r,t)).replace("{{time}}",bS(s,t))},T2={p:bS,P:k2},P2=/^D+$/,R2=/^Y+$/,O2=["D","DD","YY","YYYY"];function D2(e){return P2.test(e)}function A2(e){return R2.test(e)}function I2(e,t,n){const r=M2(e,t,n);if(console.warn(r),O2.includes(e))throw new RangeError(r)}function M2(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const L2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,F2=/^'([^]*?)'?$/,U2=/''/g,B2=/[a-zA-Z]/;function Ut(e,t,n){var d,h,f,g,w,m,x,v;const r=wa(),s=(n==null?void 0:n.locale)??r.locale??vS,o=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((m=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((v=(x=r.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,a=ve(e);if(!qA(a))throw new RangeError("Invalid time value");let c=t.match($2).map(y=>{const b=y[0];if(b==="p"||b==="P"){const S=T2[b];return S(y,s.formatLong)}return y}).join("").match(L2).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:z2(y)};if(xv[b])return{isToken:!0,value:y};if(b.match(B2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&A2(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&D2(b))&&I2(b,t,String(e));const S=xv[b[0]];return S(a,b,s.localize,u)}).join("")}function z2(e){const t=e.match(F2);return t?t[1].replace(U2,"'"):e}function W2(e){const t=ve(e),n=t.getFullYear(),r=t.getMonth(),s=zt(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function H2(e){return Math.trunc(+ve(e)/1e3)}function V2(e){const t=ve(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function q2(e,t){return YA(V2(e),Ot(e),t)+1}function Wf(e,t){const n=ve(e),r=ve(t);return n.getTime()>r.getTime()}function SS(e,t){const n=ve(e),r=ve(t);return+n<+r}function Lp(e,t){const n=ve(e),r=ve(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Y2(e,t){const n=ve(e),r=ve(t);return n.getFullYear()===r.getFullYear()}function hd(e,t){return vt(e,-t)}function pd(e,t){const n=ve(e),r=n.getFullYear(),s=n.getDate(),o=zt(e,0);o.setFullYear(r,t,15),o.setHours(0,0,0,0);const i=W2(o);return n.setMonth(t,Math.min(s,i)),n}function _v(e,t){const n=ve(e);return isNaN(+n)?zt(e,NaN):(n.setFullYear(t),n)}var ee=function(){return ee=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ee.apply(this,arguments)};function G2(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function _S(e,t,n){for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function ba(e){return e.mode==="multiple"}function Sa(e){return e.mode==="range"}function uu(e){return e.mode==="single"}var K2={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Q2(e,t){return Ut(e,"LLLL y",t)}function X2(e,t){return Ut(e,"d",t)}function J2(e,t){return Ut(e,"LLLL",t)}function Z2(e){return"".concat(e)}function eI(e,t){return Ut(e,"cccccc",t)}function tI(e,t){return Ut(e,"yyyy",t)}var nI=Object.freeze({__proto__:null,formatCaption:Q2,formatDay:X2,formatMonthCaption:J2,formatWeekNumber:Z2,formatWeekdayName:eI,formatYearCaption:tI}),rI=function(e,t,n){return Ut(e,"do MMMM (EEEE)",n)},sI=function(){return"Month: "},oI=function(){return"Go to next month"},iI=function(){return"Go to previous month"},aI=function(e,t){return Ut(e,"cccc",t)},lI=function(e){return"Week n. ".concat(e)},cI=function(){return"Year: "},uI=Object.freeze({__proto__:null,labelDay:rI,labelMonthDropdown:sI,labelNext:oI,labelPrevious:iI,labelWeekNumber:lI,labelWeekday:aI,labelYearDropdown:cI});function dI(){var e="buttons",t=K2,n=vS,r={},s={},o=1,i={},a=new Date;return{captionLayout:e,classNames:t,formatters:nI,labels:uI,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:o,styles:i,today:a,mode:"default"}}function fI(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,o=e.fromDate,i=e.toDate;return r?o=Ot(r):t&&(o=new Date(t,0,1)),s?i=Ip(s):n&&(i=new Date(n,11,31)),{fromDate:o?$o(o):void 0,toDate:i?$o(i):void 0}}var ES=p.createContext(void 0);function hI(e){var t,n=e.initialProps,r=dI(),s=fI(n),o=s.fromDate,i=s.toDate,a=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;a!=="buttons"&&(!o||!i)&&(a="buttons");var c;(uu(n)||ba(n)||Sa(n))&&(c=n.onSelect);var u=ee(ee(ee({},r),n),{captionLayout:a,classNames:ee(ee({},r.classNames),n.classNames),components:ee({},n.components),formatters:ee(ee({},r.formatters),n.formatters),fromDate:o,labels:ee(ee({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ee(ee({},r.modifiers),n.modifiers),modifiersClassNames:ee(ee({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:ee(ee({},r.styles),n.styles),toDate:i});return l.jsx(ES.Provider,{value:u,children:e.children})}function Re(){var e=p.useContext(ES);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function CS(e){var t=Re(),n=t.locale,r=t.classNames,s=t.styles,o=t.formatters.formatCaption;return l.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function pI(e){return l.jsx("svg",ee({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function NS(e){var t,n,r=e.onChange,s=e.value,o=e.children,i=e.caption,a=e.className,c=e.style,u=Re(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:pI;return l.jsxs("div",{className:a,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:o}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function mI(e){var t,n=Re(),r=n.fromDate,s=n.toDate,o=n.styles,i=n.locale,a=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return l.jsx(l.Fragment,{});if(!s)return l.jsx(l.Fragment,{});var h=[];if(Y2(r,s))for(var f=Ot(r),g=r.getMonth();g<=s.getMonth();g++)h.push(pd(f,g));else for(var f=Ot(new Date),g=0;g<=11;g++)h.push(pd(f,g));var w=function(x){var v=Number(x.target.value),y=pd(Ot(e.displayMonth),v);e.onChange(y)},m=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:NS;return l.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:a(e.displayMonth,{locale:i}),children:h.map(function(x){return l.jsx("option",{value:x.getMonth(),children:a(x,{locale:i})},x.getMonth())})})}function gI(e){var t,n=e.displayMonth,r=Re(),s=r.fromDate,o=r.toDate,i=r.locale,a=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!s)return l.jsx(l.Fragment,{});if(!o)return l.jsx(l.Fragment,{});for(var g=s.getFullYear(),w=o.getFullYear(),m=g;m<=w;m++)f.push(_v(mS(new Date),m));var x=function(y){var b=_v(Ot(n),Number(y.target.value));e.onChange(b)},v=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:NS;return l.jsx(v,{name:"years","aria-label":h(),className:c.dropdown_year,style:a.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:i}),children:f.map(function(y){return l.jsx("option",{value:y.getFullYear(),children:d(y,{locale:i})},y.getFullYear())})})}function vI(e,t){var n=p.useState(e),r=n[0],s=n[1],o=t===void 0?r:t;return[o,s]}function yI(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,o=e.toDate,i=e.fromDate,a=e.numberOfMonths,c=a===void 0?1:a;if(o&&sa(o,s)<0){var u=-1*(c-1);s=wn(o,u)}return i&&sa(s,i)<0&&(s=i),Ot(s)}function xI(){var e=Re(),t=yI(e),n=vI(t,e.month),r=n[0],s=n[1],o=function(i){var a;if(!e.disableNavigation){var c=Ot(i);s(c),(a=e.onMonthChange)===null||a===void 0||a.call(e,c)}};return[r,o]}function wI(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=Ot(e),o=Ot(wn(s,r)),i=sa(o,s),a=[],c=0;c<i;c++){var u=wn(s,c);a.push(u)}return n&&(a=a.reverse()),a}function bI(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,a=Ot(e);if(!n)return wn(a,i);var c=sa(n,e);if(!(c<o))return wn(a,i)}}function SI(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,o=s===void 0?1:s,i=r?o:1,a=Ot(e);if(!n)return wn(a,-i);var c=sa(a,n);if(!(c<=0))return wn(a,-i)}}var jS=p.createContext(void 0);function _I(e){var t=Re(),n=xI(),r=n[0],s=n[1],o=wI(r,t),i=bI(r,t),a=SI(r,t),c=function(h){return o.some(function(f){return Lp(h,f)})},u=function(h,f){c(h)||(f&&SS(h,f)?s(wn(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:o,goToMonth:s,goToDate:u,previousMonth:a,nextMonth:i,isDateDisplayed:c};return l.jsx(jS.Provider,{value:d,children:e.children})}function _a(){var e=p.useContext(jS);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Ev(e){var t,n=Re(),r=n.classNames,s=n.styles,o=n.components,i=_a().goToMonth,a=function(d){i(wn(d,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:CS,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[l.jsx("div",{className:r.vhidden,children:u}),l.jsx(mI,{onChange:a,displayMonth:e.displayMonth}),l.jsx(gI,{onChange:a,displayMonth:e.displayMonth})]})}function EI(e){return l.jsx("svg",ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function CI(e){return l.jsx("svg",ee({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var cc=p.forwardRef(function(e,t){var n=Re(),r=n.classNames,s=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var i=o.join(" "),a=ee(ee({},s.button_reset),s.button);return e.style&&Object.assign(a,e.style),l.jsx("button",ee({},e,{ref:t,type:"button",className:i,style:a}))});function NI(e){var t,n,r=Re(),s=r.dir,o=r.locale,i=r.classNames,a=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var f=u(e.previousMonth,{locale:o}),g=[i.nav_button,i.nav_button_previous].join(" "),w=d(e.nextMonth,{locale:o}),m=[i.nav_button,i.nav_button_next].join(" "),x=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:CI,v=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:EI;return l.jsxs("div",{className:i.nav,style:a.nav,children:[!e.hidePrevious&&l.jsx(cc,{name:"previous-month","aria-label":f,className:g,style:a.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?l.jsx(x,{className:i.nav_icon,style:a.nav_icon}):l.jsx(v,{className:i.nav_icon,style:a.nav_icon})}),!e.hideNext&&l.jsx(cc,{name:"next-month","aria-label":w,className:m,style:a.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?l.jsx(v,{className:i.nav_icon,style:a.nav_icon}):l.jsx(x,{className:i.nav_icon,style:a.nav_icon})})]})}function Cv(e){var t=Re().numberOfMonths,n=_a(),r=n.previousMonth,s=n.nextMonth,o=n.goToMonth,i=n.displayMonths,a=i.findIndex(function(w){return Lp(e.displayMonth,w)}),c=a===0,u=a===i.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),f=function(){r&&o(r)},g=function(){s&&o(s)};return l.jsx(NI,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:f,onNextClick:g})}function jI(e){var t,n=Re(),r=n.classNames,s=n.disableNavigation,o=n.styles,i=n.captionLayout,a=n.components,c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:CS,u;return s?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=l.jsx(Ev,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(Ev,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(Cv,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Cv,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:r.caption,style:o.caption,children:u})}function kI(e){var t=Re(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?l.jsx("tfoot",{className:s,style:r.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:n})})}):l.jsx(l.Fragment,{})}function TI(e,t,n){for(var r=n?_s(new Date):$n(new Date,{locale:e,weekStartsOn:t}),s=[],o=0;o<7;o++){var i=vt(r,o);s.push(i)}return s}function PI(){var e=Re(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,o=e.weekStartsOn,i=e.ISOWeek,a=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=TI(s,o,i);return l.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&l.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return l.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:a(d,{locale:s})},h)})]})}function RI(){var e,t=Re(),n=t.classNames,r=t.styles,s=t.components,o=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:PI;return l.jsx("thead",{style:r.head,className:n.head,children:l.jsx(o,{})})}function OI(e){var t=Re(),n=t.locale,r=t.formatters.formatDay;return l.jsx(l.Fragment,{children:r(e.date,{locale:n})})}var $p=p.createContext(void 0);function DI(e){if(!ba(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx($p.Provider,{value:t,children:e.children})}return l.jsx(AI,{initialProps:e.initialProps,children:e.children})}function AI(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,o=t.max,i=function(u,d,h){var f,g;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,h);var w=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!w){var m=!!(!d.selected&&o&&(r==null?void 0:r.length)===o);if(!m){var x=r?_S([],r):[];if(d.selected){var v=x.findIndex(function(y){return kt(u,y)});x.splice(v,1)}else x.push(u);(g=t.onSelect)===null||g===void 0||g.call(t,x,u,d,h)}}},a={disabled:[]};r&&a.disabled.push(function(u){var d=o&&r.length>o-1,h=r.some(function(f){return kt(f,u)});return!!(d&&!h)});var c={selected:r,onDayClick:i,modifiers:a};return l.jsx($p.Provider,{value:c,children:n})}function Fp(){var e=p.useContext($p);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function II(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?kt(s,e)&&kt(r,e)?void 0:kt(s,e)?{from:s,to:void 0}:kt(r,e)?void 0:Wf(r,e)?{from:e,to:s}:{from:r,to:e}:s?Wf(e,s)?{from:s,to:e}:{from:e,to:s}:r?SS(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var Up=p.createContext(void 0);function MI(e){if(!Sa(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(Up.Provider,{value:t,children:e.children})}return l.jsx(LI,{initialProps:e.initialProps,children:e.children})}function LI(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},o=s.from,i=s.to,a=t.min,c=t.max,u=function(g,w,m){var x,v;(x=t.onDayClick)===null||x===void 0||x.call(t,g,w,m);var y=II(g,r);(v=t.onSelect)===null||v===void 0||v.call(t,y,g,w,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],kt(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),a&&(o&&!i&&d.disabled.push({after:hd(o,a-1),before:vt(o,a-1)}),o&&i&&d.disabled.push({after:o,before:vt(o,a-1)}),!o&&i&&d.disabled.push({after:hd(i,a-1),before:vt(i,a-1)})),c){if(o&&!i&&(d.disabled.push({before:vt(o,-c+1)}),d.disabled.push({after:vt(o,c-1)})),o&&i){var h=An(i,o)+1,f=c-h;d.disabled.push({before:hd(o,f)}),d.disabled.push({after:vt(i,f)})}!o&&i&&(d.disabled.push({before:vt(i,-c+1)}),d.disabled.push({after:vt(i,c-1)}))}return l.jsx(Up.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function Bp(){var e=p.useContext(Up);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function El(e){return Array.isArray(e)?_S([],e):e!==void 0?[e]:[]}function $I(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=El(s)}),t}var bn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(bn||(bn={}));var FI=bn.Selected,Wn=bn.Disabled,UI=bn.Hidden,BI=bn.Today,md=bn.RangeEnd,gd=bn.RangeMiddle,vd=bn.RangeStart,zI=bn.Outside;function WI(e,t,n){var r,s=(r={},r[FI]=El(e.selected),r[Wn]=El(e.disabled),r[UI]=El(e.hidden),r[BI]=[e.today],r[md]=[],r[gd]=[],r[vd]=[],r[zI]=[],r);return e.fromDate&&s[Wn].push({before:e.fromDate}),e.toDate&&s[Wn].push({after:e.toDate}),ba(e)?s[Wn]=s[Wn].concat(t.modifiers[Wn]):Sa(e)&&(s[Wn]=s[Wn].concat(n.modifiers[Wn]),s[vd]=n.modifiers[vd],s[gd]=n.modifiers[gd],s[md]=n.modifiers[md]),s}var kS=p.createContext(void 0);function HI(e){var t=Re(),n=Fp(),r=Bp(),s=WI(t,n,r),o=$I(t.modifiers),i=ee(ee({},s),o);return l.jsx(kS.Provider,{value:i,children:e.children})}function TS(){var e=p.useContext(kS);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function VI(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function qI(e){return!!(e&&typeof e=="object"&&"from"in e)}function YI(e){return!!(e&&typeof e=="object"&&"after"in e)}function GI(e){return!!(e&&typeof e=="object"&&"before"in e)}function KI(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function QI(e,t){var n,r=t.from,s=t.to;if(r&&s){var o=An(s,r)<0;o&&(n=[s,r],r=n[0],s=n[1]);var i=An(e,r)>=0&&An(s,e)>=0;return i}return s?kt(s,e):r?kt(r,e):!1}function XI(e){return Ap(e)}function JI(e){return Array.isArray(e)&&e.every(Ap)}function ZI(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(XI(n))return kt(e,n);if(JI(n))return n.includes(e);if(qI(n))return QI(e,n);if(KI(n))return n.dayOfWeek.includes(e.getDay());if(VI(n)){var r=An(n.before,e),s=An(n.after,e),o=r>0,i=s<0,a=Wf(n.before,n.after);return a?i&&o:o||i}return YI(n)?An(e,n.after)>0:GI(n)?An(n.before,e)>0:typeof n=="function"?n(e):!1})}function zp(e,t,n){var r=Object.keys(t).reduce(function(o,i){var a=t[i];return ZI(e,a)&&o.push(i),o},[]),s={};return r.forEach(function(o){return s[o]=!0}),n&&!Lp(e,n)&&(s.outside=!0),s}function eM(e,t){for(var n=Ot(e[0]),r=Ip(e[e.length-1]),s,o,i=n;i<=r;){var a=zp(i,t),c=!a.disabled&&!a.hidden;if(!c){i=vt(i,1);continue}if(a.selected)return i;a.today&&!o&&(o=i),s||(s=i),i=vt(i,1)}return o||s}var tM=365;function PS(e,t){var n=t.moveBy,r=t.direction,s=t.context,o=t.modifiers,i=t.retry,a=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,f={day:vt,week:zf,month:wn,year:WA,startOfWeek:function(x){return s.ISOWeek?_s(x):$n(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?gS(x):Mp(x,{locale:h,weekStartsOn:c})}},g=f[n](e,r==="after"?1:-1);r==="before"&&u?g=HA([u,g]):r==="after"&&d&&(g=VA([d,g]));var w=!0;if(o){var m=zp(g,o);w=!m.disabled&&!m.hidden}return w?g:a.count>tM?a.lastFocused:PS(g,{moveBy:n,direction:r,context:s,modifiers:o,retry:ee(ee({},a),{count:a.count+1})})}var RS=p.createContext(void 0);function nM(e){var t=_a(),n=TS(),r=p.useState(),s=r[0],o=r[1],i=p.useState(),a=i[0],c=i[1],u=eM(t.displayMonths,n),d=s??(a&&t.isDateDisplayed(a))?a:u,h=function(){c(s),o(void 0)},f=function(x){o(x)},g=Re(),w=function(x,v){if(s){var y=PS(s,{moveBy:x,direction:v,context:g,modifiers:n});kt(s,y)||(t.goToDate(y,s),f(y))}},m={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return l.jsx(RS.Provider,{value:m,children:e.children})}function Wp(){var e=p.useContext(RS);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function rM(e,t){var n=TS(),r=zp(e,n,t);return r}var Hp=p.createContext(void 0);function sM(e){if(!uu(e.initialProps)){var t={selected:void 0};return l.jsx(Hp.Provider,{value:t,children:e.children})}return l.jsx(oM,{initialProps:e.initialProps,children:e.children})}function oM(e){var t=e.initialProps,n=e.children,r=function(o,i,a){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,a),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,a);return}(d=t.onSelect)===null||d===void 0||d.call(t,o,o,i,a)},s={selected:t.selected,onDayClick:r};return l.jsx(Hp.Provider,{value:s,children:n})}function OS(){var e=p.useContext(Hp);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function iM(e,t){var n=Re(),r=OS(),s=Fp(),o=Bp(),i=Wp(),a=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,h=i.blur,f=i.focus,g=i.focusMonthBefore,w=i.focusMonthAfter,m=i.focusYearBefore,x=i.focusYearAfter,v=i.focusStartOfWeek,y=i.focusEndOfWeek,b=function(M){var E,O,T,R;uu(n)?(E=r.onDayClick)===null||E===void 0||E.call(r,e,t,M):ba(n)?(O=s.onDayClick)===null||O===void 0||O.call(s,e,t,M):Sa(n)?(T=o.onDayClick)===null||T===void 0||T.call(o,e,t,M):(R=n.onDayClick)===null||R===void 0||R.call(n,e,t,M)},S=function(M){var E;f(e),(E=n.onDayFocus)===null||E===void 0||E.call(n,e,t,M)},_=function(M){var E;h(),(E=n.onDayBlur)===null||E===void 0||E.call(n,e,t,M)},C=function(M){var E;(E=n.onDayMouseEnter)===null||E===void 0||E.call(n,e,t,M)},N=function(M){var E;(E=n.onDayMouseLeave)===null||E===void 0||E.call(n,e,t,M)},j=function(M){var E;(E=n.onDayPointerEnter)===null||E===void 0||E.call(n,e,t,M)},$=function(M){var E;(E=n.onDayPointerLeave)===null||E===void 0||E.call(n,e,t,M)},B=function(M){var E;(E=n.onDayTouchCancel)===null||E===void 0||E.call(n,e,t,M)},L=function(M){var E;(E=n.onDayTouchEnd)===null||E===void 0||E.call(n,e,t,M)},k=function(M){var E;(E=n.onDayTouchMove)===null||E===void 0||E.call(n,e,t,M)},P=function(M){var E;(E=n.onDayTouchStart)===null||E===void 0||E.call(n,e,t,M)},D=function(M){var E;(E=n.onDayKeyUp)===null||E===void 0||E.call(n,e,t,M)},W=function(M){var E;switch(M.key){case"ArrowLeft":M.preventDefault(),M.stopPropagation(),n.dir==="rtl"?a():c();break;case"ArrowRight":M.preventDefault(),M.stopPropagation(),n.dir==="rtl"?c():a();break;case"ArrowDown":M.preventDefault(),M.stopPropagation(),u();break;case"ArrowUp":M.preventDefault(),M.stopPropagation(),d();break;case"PageUp":M.preventDefault(),M.stopPropagation(),M.shiftKey?m():g();break;case"PageDown":M.preventDefault(),M.stopPropagation(),M.shiftKey?x():w();break;case"Home":M.preventDefault(),M.stopPropagation(),v();break;case"End":M.preventDefault(),M.stopPropagation(),y();break}(E=n.onDayKeyDown)===null||E===void 0||E.call(n,e,t,M)},U={onClick:b,onFocus:S,onBlur:_,onKeyDown:W,onKeyUp:D,onMouseEnter:C,onMouseLeave:N,onPointerEnter:j,onPointerLeave:$,onTouchCancel:B,onTouchEnd:L,onTouchMove:k,onTouchStart:P};return U}function aM(){var e=Re(),t=OS(),n=Fp(),r=Bp(),s=uu(e)?t.selected:ba(e)?n.selected:Sa(e)?r.selected:void 0;return s}function lM(e){return Object.values(bn).includes(e)}function cM(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(lM(r)){var o=e.classNames["day_".concat(r)];o&&n.push(o)}}),n}function uM(e,t){var n=ee({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=ee(ee({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function dM(e,t,n){var r,s,o,i=Re(),a=Wp(),c=rM(e,t),u=iM(e,c),d=aM(),h=!!(i.onDayClick||i.mode!=="default");p.useEffect(function(){var C;c.outside||a.focusedDay&&h&&kt(a.focusedDay,e)&&((C=n.current)===null||C===void 0||C.focus())},[a.focusedDay,e,n,h,c.outside]);var f=cM(i,c).join(" "),g=uM(i,c),w=!!(c.outside&&!i.showOutsideDays||c.hidden),m=(o=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&o!==void 0?o:OI,x=l.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),v={style:g,className:f,children:x,role:"gridcell"},y=a.focusTarget&&kt(a.focusTarget,e)&&!c.outside,b=a.focusedDay&&kt(a.focusedDay,e),S=ee(ee(ee({},v),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||y?0:-1,r)),u),_={isButton:h,isHidden:w,activeModifiers:c,selectedDays:d,buttonProps:S,divProps:v};return _}function fM(e){var t=p.useRef(null),n=dM(e.date,e.displayMonth,t);return n.isHidden?l.jsx("div",{role:"gridcell"}):n.isButton?l.jsx(cc,ee({name:"day",ref:t},n.buttonProps)):l.jsx("div",ee({},n.divProps))}function hM(e){var t=e.number,n=e.dates,r=Re(),s=r.onWeekNumberClick,o=r.styles,i=r.classNames,a=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:a});if(!s)return l.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var h=c(Number(t),{locale:a}),f=function(g){s(t,n,g)};return l.jsx(cc,{name:"week-number","aria-label":h,className:i.weeknumber,style:o.weeknumber,onClick:f,children:d})}function pM(e){var t,n,r=Re(),s=r.styles,o=r.classNames,i=r.showWeekNumber,a=r.components,c=(t=a==null?void 0:a.Day)!==null&&t!==void 0?t:fM,u=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:hM,d;return i&&(d=l.jsx("td",{className:o.cell,style:s.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:o.row,style:s.row,children:[d,e.dates.map(function(h){return l.jsx("td",{className:o.cell,style:s.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:h})},H2(h))})]})}function Nv(e,t,n){for(var r=n!=null&&n.ISOWeek?gS(t):Mp(t,n),s=n!=null&&n.ISOWeek?_s(e):$n(e,n),o=An(r,s),i=[],a=0;a<=o;a++)i.push(vt(s,a));var c=i.reduce(function(u,d){var h=n!=null&&n.ISOWeek?yS(d):wS(d,n),f=u.find(function(g){return g.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function mM(e,t){var n=Nv(Ot(e),Ip(e),t);if(t!=null&&t.useFixedWeeks){var r=q2(e,t);if(r<6){var s=n[n.length-1],o=s.dates[s.dates.length-1],i=zf(o,6-r),a=Nv(zf(o,1),i,t);n.push.apply(n,a)}}return n}function gM(e){var t,n,r,s=Re(),o=s.locale,i=s.classNames,a=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,g=s.ISOWeek,w=mM(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:o,weekStartsOn:h,firstWeekContainsDate:f}),m=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:RI,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:pM,v=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:kI;return l.jsxs("table",{id:e.id,className:i.table,style:a.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(m,{}),l.jsx("tbody",{className:i.tbody,style:a.tbody,children:w.map(function(y){return l.jsx(x,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),l.jsx(v,{displayMonth:e.displayMonth})]})}function vM(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var yM=vM()?p.useLayoutEffect:p.useEffect,yd=!1,xM=0;function jv(){return"react-day-picker-".concat(++xM)}function wM(e){var t,n=e??(yd?jv():null),r=p.useState(n),s=r[0],o=r[1];return yM(function(){s===null&&o(jv())},[]),p.useEffect(function(){yd===!1&&(yd=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function bM(e){var t,n,r=Re(),s=r.dir,o=r.classNames,i=r.styles,a=r.components,c=_a().displayMonths,u=wM(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[o.month],f=i.month,g=e.displayIndex===0,w=e.displayIndex===c.length-1,m=!g&&!w;s==="rtl"&&(t=[g,w],w=t[0],g=t[1]),g&&(h.push(o.caption_start),f=ee(ee({},f),i.caption_start)),w&&(h.push(o.caption_end),f=ee(ee({},f),i.caption_end)),m&&(h.push(o.caption_between),f=ee(ee({},f),i.caption_between));var x=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:jI;return l.jsxs("div",{className:h.join(" "),style:f,children:[l.jsx(x,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(gM,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function SM(e){var t=Re(),n=t.classNames,r=t.styles;return l.jsx("div",{className:n.months,style:r.months,children:e.children})}function _M(e){var t,n,r=e.initialProps,s=Re(),o=Wp(),i=_a(),a=p.useState(!1),c=a[0],u=a[1];p.useEffect(function(){s.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[s.initialFocus,c,o.focus,o.focusTarget,o]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=ee(ee({},s.styles.root),s.style),f=Object.keys(r).filter(function(w){return w.startsWith("data-")}).reduce(function(w,m){var x;return ee(ee({},w),(x={},x[m]=r[m],x))},{}),g=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:SM;return l.jsx("div",ee({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:l.jsx(g,{children:i.displayMonths.map(function(w,m){return l.jsx(bM,{displayIndex:m,displayMonth:w},m)})})}))}function EM(e){var t=e.children,n=G2(e,["children"]);return l.jsx(hI,{initialProps:n,children:l.jsx(_I,{children:l.jsx(sM,{initialProps:n,children:l.jsx(DI,{initialProps:n,children:l.jsx(MI,{initialProps:n,children:l.jsx(HI,{children:l.jsx(nM,{children:t})})})})})})})}function CM(e){return l.jsx(EM,ee({},e,{children:l.jsx(_M,{initialProps:e})}))}function hs({className:e,classNames:t,showOutsideDays:n=!0,...r}){return l.jsx(CM,{showOutsideDays:n,className:Q("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Q(Tf({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Q(Tf({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>l.jsx(pN,{className:"h-4 w-4"}),IconRight:({...s})=>l.jsx(Yh,{className:"h-4 w-4"})},...r})}hs.displayName="Calendar";var Vp="Popover",[DS,S4]=Ps(Vp,[Yo]),Ea=Yo(),[NM,Gr]=DS(Vp),AS=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!1}=e,a=Ea(t),c=p.useRef(null),[u,d]=p.useState(!1),[h=!1,f]=ws({prop:r,defaultProp:s,onChange:o});return l.jsx(iw,{...a,children:l.jsx(NM,{scope:t,contentId:Zn(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(g=>!g),[f]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:i,children:n})})};AS.displayName=Vp;var IS="PopoverAnchor",jM=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Gr(IS,n),o=Ea(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:a}=s;return p.useEffect(()=>(i(),()=>a()),[i,a]),l.jsx(Mc,{...o,...r,ref:t})});jM.displayName=IS;var MS="PopoverTrigger",LS=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Gr(MS,n),o=Ea(n),i=me(t,s.triggerRef),a=l.jsx(te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":zS(s.open),...r,ref:i,onClick:K(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:l.jsx(Mc,{asChild:!0,...o,children:a})});LS.displayName=MS;var qp="PopoverPortal",[kM,TM]=DS(qp,{forceMount:void 0}),$S=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,o=Gr(qp,t);return l.jsx(kM,{scope:t,forceMount:n,children:l.jsx(qt,{present:n||o.open,children:l.jsx(fa,{asChild:!0,container:s,children:r})})})};$S.displayName=qp;var Fo="PopoverContent",FS=p.forwardRef((e,t)=>{const n=TM(Fo,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,o=Gr(Fo,e.__scopePopover);return l.jsx(qt,{present:r||o.open,children:o.modal?l.jsx(PM,{...s,ref:t}):l.jsx(RM,{...s,ref:t})})});FS.displayName=Fo;var PM=p.forwardRef((e,t)=>{const n=Gr(Fo,e.__scopePopover),r=p.useRef(null),s=me(t,r),o=p.useRef(!1);return p.useEffect(()=>{const i=r.current;if(i)return fp(i)},[]),l.jsx(Kc,{as:Fr,allowPinchZoom:!0,children:l.jsx(US,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(e.onCloseAutoFocus,i=>{var a;i.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:K(e.onPointerDownOutside,i=>{const a=i.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0,u=a.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:K(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),RM=p.forwardRef((e,t)=>{const n=Gr(Fo,e.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return l.jsx(US,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),US=p.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,f=Gr(Fo,n),g=Ea(n);return dp(),l.jsx(Yc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Wo,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:l.jsx(rp,{"data-state":zS(f.open),role:"dialog",id:f.contentId,...g,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),BS="PopoverClose",OM=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Gr(BS,n);return l.jsx(te.button,{type:"button",...r,ref:t,onClick:K(e.onClick,()=>s.onOpenChange(!1))})});OM.displayName=BS;var DM="PopoverArrow",AM=p.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Ea(n);return l.jsx(sp,{...s,...r,ref:t})});AM.displayName=DM;function zS(e){return e?"open":"closed"}var IM=AS,MM=LS,LM=$S,WS=FS;const po=IM,mo=MM,ps=p.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>l.jsx(LM,{children:l.jsx(WS,{ref:s,align:t,sideOffset:n,className:Q("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ps.displayName=WS.displayName;const $M=async e=>{try{const{data:t,error:n}=await G.from("classes").insert({name:e.name}).select().single();if(n)throw new Error(`Failed to create class: ${n.message}`);return{id:t.id,className:t.name,rewardTitle:"Bidding Opportunities",capacity:e.capacity||7,students:[],bidders:[],selectedStudents:[],bidOpportunities:[]}}catch(t){throw console.error("Error creating class:",t),t}},FM=async e=>{var n,r,s,o,i;const t=new Date().toISOString();console.log("=== STARTING CLASS DELETION DEBUG ==="),console.log("Class ID to delete:",e),console.log("Supabase client status:",!!G);try{console.log("=== CALLING DATABASE RPC FUNCTION ===");const{data:a,error:c}=await G.rpc("delete_class_atomic",{p_class_id:e});if(console.log("RPC function result:",a),c)throw console.error("RPC error during class deletion:",c),new Error(`Failed to delete class: ${c.message}`);if(!a||!a.success)throw console.error("RPC function returned failure:",a),new Error((a==null?void 0:a.error)||"Class deletion failed");console.log("=== DELETION COMPLETED SUCCESSFULLY ===");const u={students:((n=a.deleted_counts)==null?void 0:n.students)||0,enrollments:((r=a.deleted_counts)==null?void 0:r.students)||0,opportunities:((s=a.deleted_counts)==null?void 0:s.opportunities)||0,bids:((o=a.deleted_counts)==null?void 0:o.bids)||0,tokenHistory:((i=a.deleted_counts)==null?void 0:i.token_history)||0};return{success:!0,classId:a.class_id,className:a.class_name,deletedRecords:u,timestamp:t}}catch(a){return console.error("=== CLASS DELETION FAILED ==="),console.error("Error type:",typeof a),console.error("Error message:",a instanceof Error?a.message:a),console.error("Full error object:",a),{success:!1,classId:e,className:"Unknown",deletedRecords:{students:0,enrollments:0,opportunities:0,bids:0,tokenHistory:0},error:a instanceof Error?a.message:"Unexpected error during deletion",timestamp:t}}},UM=async(e,t,n,r)=>{try{console.log("=== UPDATING SELECTION RESULTS ==="),console.log("Opportunity ID:",e),console.log("Class ID:",t),console.log("Selected students:",n),console.log("All bidders:",r),console.log("=== STEP 0: VERIFY BIDS EXIST ===");const{data:s,error:o}=await G.from("bids").select("id, user_id, is_winner").eq("opportunity_id",e);if(o)throw console.error("Error verifying existing bids:",o),new Error(`Failed to verify existing bids: ${o.message}`);console.log("Existing bids found:",(s==null?void 0:s.length)||0),console.log("Existing bids details:",s),console.log("=== STEP 1: CALLING RPC FUNCTION TO UPDATE SELECTION RESULTS ===");const{data:i,error:a}=await G.rpc("update_selection_results_atomic",{p_opportunity_id:e,p_selected_user_ids:n,p_all_bidder_ids:r});if(a)throw console.error("RPC error updating selection results:",a),new Error(`Failed to update selection results: ${a.message}`);console.log("RPC function result:",i),console.log("=== SELECTION RESULTS UPDATE COMPLETED ===")}catch(s){throw console.error("Error updating selection results:",s),s}},BM=async(e,t)=>{try{const{data:n,error:r}=await G.from("opportunities").insert({class_id:e,title:t.title,description:t.description,opens_at:t.opens_at,closes_at:t.bidding_closes_at||t.closes_at,event_date:new Date(t.event_date).toISOString().split("T")[0],capacity:t.capacity,status:"open"}).select().single();if(r)throw new Error(`Failed to create opportunity: ${r.message}`);return{id:n.id,date:n.event_date,bidOpenDate:n.opens_at,bidCloseDate:n.closes_at,title:n.title||t.title,description:n.description,bidders:[],selectedStudents:[],isOpen:!1,capacity:n.capacity}}catch(n){throw console.error("Error creating opportunity:",n),n}},Oi=async()=>{try{const{data:e,error:t}=await G.from("classes").select("id, name, created_at").order("created_at",{ascending:!1});if(t)throw new Error(`Failed to fetch classes: ${t.message}`);if(!e||e.length===0)return[];const n=[];for(const r of e){const s=await Zb(r.id),{data:o,error:i}=await G.from("opportunities").select("*").eq("class_id",r.id).order("event_date",{ascending:!0});i&&console.error(`Failed to fetch opportunities for class ${r.id}:`,i.message);let a=[];for(const f of o||[]){const{data:g,error:w}=await G.from("bids").select(`
            id,
            user_id,
            is_winner,
            bid_status,
            submission_timestamp,
            users!inner(id, name, email, student_number)
          `).eq("opportunity_id",f.id).order("submission_timestamp",{ascending:!0});w&&console.error(`Failed to fetch bids for opportunity ${f.id}:`,w.message);const m=(g||[]).map(v=>({id:v.users.id,name:v.users.name,email:v.users.email,studentNumber:v.users.student_number,hasUsedToken:!0,hasBid:!0})),x=(g||[]).filter(v=>v.is_winner===!0).map(v=>({id:v.users.id,name:v.users.name,email:v.users.email,studentNumber:v.users.student_number,hasUsedToken:!0,hasBid:!0,isSelected:!0}));a.push({id:f.id,date:f.event_date,bidOpenDate:f.opens_at,title:f.title||`Bidding Opportunity - ${new Date(f.event_date).toLocaleDateString()}`,description:f.description,bidders:m,bidCloseDate:f.closes_at,selectedStudents:x,isOpen:f.status==="open",capacity:f.capacity})}const c=s.filter(f=>f.hasBid),u=[],d=new Set;a.forEach(f=>{f.selectedStudents.forEach(g=>{d.has(g.id)||(d.add(g.id),u.push(g))})});const h={id:r.id,className:r.name,rewardTitle:"Bidding Opportunities",capacity:7,students:s,bidders:c,selectedStudents:u,bidOpportunities:a};n.push(h)}return n}catch(e){throw console.error("Error fetching classes:",e),e}},zM=async(e,t)=>{try{const n={};t.name&&(n.name=t.name);const{error:r}=await G.from("classes").update(n).eq("id",e);if(r)throw new Error(`Failed to update class: ${r.message}`)}catch(n){throw console.error("Error updating class:",n),n}},HS=async(e,t)=>{try{console.log("Starting opportunity update for ID:",e),console.log("Update data:",t);const n={};if(t.title!==void 0&&(n.title=t.title),t.description!==void 0&&(n.description=t.description),t.event_date){const o=new Date(t.event_date);if(isNaN(o.getTime()))throw new Error("Invalid event date provided");n.event_date=o.toISOString().split("T")[0]}t.opens_at&&(n.opens_at=t.opens_at),t.closes_at&&(n.closes_at=t.closes_at),t.capacity!==void 0&&(n.capacity=t.capacity),console.log("Final update data for Supabase:",n);const{data:r,error:s}=await G.from("opportunities").update(n).eq("id",e).select();if(s)throw console.error("Supabase update error:",s),new Error(`Failed to update opportunity: ${s.message}`);return!r||r.length===0?(console.log(`No opportunity found with ID: ${e}`),!1):(console.log("Successfully updated opportunity in Supabase:",r[0]),!0)}catch(n){throw console.error("Error updating opportunity:",n),n}},WM=async e=>{try{if(console.log("=== RESETTING OPPORTUNITY SELECTION ==="),console.log("Opportunity ID:",e),!e)throw new Error("Opportunity ID is required");const{data:t,error:n}=await G.rpc("reset_opportunity_selection",{p_opportunity_id:e});if(n)throw console.error("RPC error resetting selection:",n),new Error(`Failed to reset selection: ${n.message}`);if(console.log("RPC function result:",t),!t||!t.success)throw new Error((t==null?void 0:t.error)||"Selection reset failed");console.log("=== SELECTION RESET COMPLETED ==="),console.log(`Successfully reset ${t.reset_count} student enrollments`)}catch(t){throw console.error("Error resetting opportunity selection:",t),t}},HM=async e=>{try{console.log("=== STARTING OPPORTUNITY DELETION DEBUG ==="),console.log("Opportunity ID to delete:",e),console.log("Supabase client status:",!!G),console.log("Environment variables check:",{url:!0,key:!0}),console.log("Step 1: Checking if opportunity exists...");const{data:t,error:n}=await G.from("opportunities").select("id, title, description").eq("id",e).single();if(console.log("Existence check result:",{data:t,error:n}),n){if(n.code==="PGRST116"){console.log("PGRST116: Record not found - opportunity may already be deleted");return}throw console.error("Error during existence check:",n),new Error(`Failed to check opportunity existence: ${n.message}`)}if(!t){console.log("No opportunity data returned - treating as already deleted");return}console.log("Step 2: Opportunity found, proceeding with deletion:",t),console.log("Step 3: Executing DELETE operation...");const{error:r,count:s}=await G.from("opportunities").delete({count:"exact"}).eq("id",e);if(console.log("Delete operation result:",{error:r,count:s,errorCode:r==null?void 0:r.code,errorMessage:r==null?void 0:r.message,errorDetails:r==null?void 0:r.details}),r)throw console.error("=== DELETE OPERATION FAILED ==="),console.error("Error object:",r),console.error("Error code:",r.code),console.error("Error message:",r.message),console.error("Error details:",r.details),new Error(`Failed to delete opportunity: ${r.message}`);console.log("=== DELETE OPERATION COMPLETED ==="),console.log(`Records deleted: ${s}`),s===0&&(console.warn("WARNING: Delete operation returned 0 affected rows - opportunity may not exist"),console.warn("This could indicate:"),console.warn("1. Opportunity ID does not exist in database"),console.warn("2. RLS policies are blocking the delete"),console.warn("3. User does not have delete permissions")),console.log("=== DELETION PROCESS COMPLETED SUCCESSFULLY ===")}catch(t){throw console.error("=== DELETION PROCESS FAILED ==="),console.error("Error type:",typeof t),console.error("Error message:",t instanceof Error?t.message:t),console.error("Full error object:",t),t}},VM=({isOpen:e,onClose:t,opportunity:n,currentClass:r,onSave:s})=>{const[o,i]=p.useState((n==null?void 0:n.title)||""),[a,c]=p.useState((n==null?void 0:n.description)||""),[u,d]=p.useState(n?new Date(n.date):void 0),[h,f]=p.useState(n&&n.bidOpenDate?new Date(n.bidOpenDate):void 0),[g,w]=p.useState(n&&n.bidCloseDate?new Date(n.bidCloseDate):n?new Date(n.date):void 0),[m,x]=p.useState((n==null?void 0:n.capacity)||(r==null?void 0:r.capacity)),[v,y]=p.useState(!1),{toast:b}=Vt(),S=N=>{const j=parseInt(N.target.value,10);!isNaN(j)&&j>=0?x(j):N.target.value===""&&x(0)},_=N=>{[8,9,27,13,35,36,37,38,39,40,46].indexOf(N.keyCode)!==-1||N.keyCode===65&&N.ctrlKey===!0||N.keyCode===67&&N.ctrlKey===!0||N.keyCode===86&&N.ctrlKey===!0||N.keyCode===88&&N.ctrlKey===!0||(N.shiftKey||N.keyCode<48||N.keyCode>57)&&(N.keyCode<96||N.keyCode>105)&&N.preventDefault()},C=async()=>{if(console.log("=== SAVE BUTTON CLICKED ==="),console.log("Current form state:",{title:o,description:a,date:u==null?void 0:u.toISOString(),biddingOpenDate:h==null?void 0:h.toISOString(),biddingCloseDate:g==null?void 0:g.toISOString(),capacity:m}),!n||!u||!h||!g||!r||m===void 0){console.log("=== VALIDATION FAILED ==="),console.log("Missing fields:",{opportunity:!!n,date:!!u,biddingOpenDate:!!h,biddingCloseDate:!!g,currentClass:!!r,capacity:m!==void 0}),b({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}console.log("=== VALIDATION PASSED ==="),y(!0);try{if(console.log("=== PREPARING DATA FOR SUPABASE ==="),console.log("Opportunity ID:",n.id),console.log("Data being prepared:",{opportunityId:n.id,title:o,description:a,event_date:u.toISOString(),opens_at:h.toISOString(),closes_at:g.toISOString(),capacity:m}),console.log("=== CALLING updateBidOpportunity FUNCTION ==="),!await HS(n.id,{title:o,description:a,event_date:u.toISOString(),opens_at:h.toISOString(),closes_at:g.toISOString(),capacity:m})){b({title:"Opportunity not found",description:"This opportunity may have been deleted. Please refresh the page.",variant:"destructive"}),t();return}console.log("=== DATABASE UPDATE COMPLETED ===");const j={...n,title:o,description:a,date:u.toISOString(),bidOpenDate:h.toISOString(),bidCloseDate:g.toISOString(),capacity:m};console.log("=== CALLING onSave CALLBACK ==="),b({title:"Changes saved successfully",description:"The bidding opportunity has been updated."}),console.log("=== CLOSING DIALOG ==="),t()}catch(N){console.error("Error saving changes:",N),b({title:"Failed to save changes",description:N instanceof Error?N.message:"An unexpected error occurred",variant:"destructive"})}finally{y(!1)}};return l.jsx(vp,{open:e,onOpenChange:t,children:l.jsxs(Qc,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(Xc,{children:[l.jsx(Zc,{children:"Edit Bidding Opportunity"}),l.jsx(eu,{children:"Modify the details for this bidding opportunity"})]}),l.jsx("div",{className:"space-y-6 py-4",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-medium",children:"Opportunity Details"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"title",children:"Title"}),l.jsx(rn,{id:"title",value:o,onChange:N=>i(N.target.value),disabled:v})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"description",children:"Description"}),l.jsx(Op,{id:"description",value:a,onChange:N=>c(N.target.value),rows:3,disabled:v})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{children:"Event Date"}),l.jsxs(po,{children:[l.jsx(mo,{asChild:!0,children:l.jsx(ue,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:v,children:u?Ut(u,"PPP"):l.jsx("span",{children:"Pick a date"})})}),l.jsx(ps,{className:"w-auto p-0",children:l.jsx(hs,{mode:"single",selected:u,onSelect:d,initialFocus:!0})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{children:"Bidding Opens Date"}),l.jsxs(po,{children:[l.jsx(mo,{asChild:!0,children:l.jsx(ue,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:v,children:h?Ut(h,"PPP"):l.jsx("span",{children:"Pick a date"})})}),l.jsx(ps,{className:"w-auto p-0",children:l.jsx(hs,{mode:"single",selected:h,onSelect:f,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This is the date when students can start bidding for this opportunity"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{children:"Bidding Closes Date"}),l.jsxs(po,{children:[l.jsx(mo,{asChild:!0,children:l.jsx(ue,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:v,children:g?Ut(g,"PPP"):l.jsx("span",{children:"Pick a date"})})}),l.jsx(ps,{className:"w-auto p-0",children:l.jsx(hs,{mode:"single",selected:g,onSelect:w,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Students cannot bid after this date and time"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"capacity",children:"Capacity for this Opportunity"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rn,{id:"capacity",type:"number",value:m,onChange:S,onKeyDown:_,disabled:v,required:!0}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"students"})]})]})]})}),l.jsxs(Jc,{children:[l.jsx(ue,{variant:"outline",onClick:t,disabled:v,children:"Cancel"}),l.jsx(ue,{onClick:C,disabled:v,children:v?l.jsxs(l.Fragment,{children:[l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})};async function uc(e){try{console.log("=== GETTING CLASS BID STATISTICS ==="),console.log("Class ID:",e),console.log("=== CHECKING ALL BIDS IN DATABASE ===");const{data:t,error:n}=await G.from("bids").select("id, user_id, opportunity_id, bid_status, created_at").limit(20);n?console.error("Error fetching all bids:",n):(console.log("Sample of all bids in database:",t),console.log("Total bids found in sample:",(t==null?void 0:t.length)||0));const{data:r,error:s}=await G.from("student_enrollments").select("user_id, tokens_remaining").eq("class_id",e);if(s)throw s;const o=(r==null?void 0:r.length)||0,i=(r==null?void 0:r.filter(x=>x.tokens_remaining>0).length)||0;console.log("Enrollment stats:",{totalStudents:o,studentsWithTokens:i});const{data:a,error:c}=await G.from("opportunities").select("id, description, event_date, capacity").eq("class_id",e);if(c)throw c;console.log("Opportunities found:",(a==null?void 0:a.length)||0),console.log("Opportunity IDs:",(a==null?void 0:a.map(x=>x.id))||[]);const u=(a==null?void 0:a.map(x=>x.id))||[];let d=0,h=0;const f=[];if(u.length>0){console.log("Fetching bids for opportunities:",u);const{data:x,error:v}=await G.from("bids").select("id, opportunity_id, user_id, bid_status").in("opportunity_id",u);if(v)throw v;console.log("Raw bids data from database:",x),d=(x==null?void 0:x.length)||0,console.log("Total bids found:",d);const y=new Set((x==null?void 0:x.map(S=>S.user_id))||[]);h=y.size,console.log("Unique students who bid:",h),x&&x.length>0&&(console.log("=== INDIVIDUAL BID DETAILS ==="),x.forEach((S,_)=>{console.log(`Bid ${_+1}:`,{id:S.id,user_id:S.user_id,opportunity_id:S.opportunity_id,bid_status:S.bid_status,created_at:S.created_at})})),console.log("Unique student IDs who bid:",Array.from(y));const b={};x==null||x.forEach(S=>{b[S.opportunity_id]=(b[S.opportunity_id]||0)+1}),console.log("Bid counts by opportunity:",b),a==null||a.forEach(S=>{const _=b[S.id]||0;console.log(`Opportunity ${S.id}: ${_} bids`),f.push({opportunityId:S.id,description:S.description,eventDate:S.event_date,capacity:S.capacity||7,bidCount:_})})}else a==null||a.forEach(x=>{f.push({opportunityId:x.id,description:x.description,eventDate:x.event_date,capacity:x.capacity||7,bidCount:0})});console.log("=== CHECKING BIDS FOR THIS CLASS SPECIFICALLY ===");const{data:g,error:w}=await G.from("bids").select(`
        id, 
        user_id, 
        opportunity_id, 
        bid_status,
        opportunities!inner(class_id)
      `).eq("opportunities.class_id",e);w?console.error("Error fetching class bids:",w):(console.log("Bids found for this class via join:",g),console.log("Number of class bids via join:",(g==null?void 0:g.length)||0));const m={totalStudents:o,studentsWithTokens:i,studentsWhoBid:h,totalBids:d,opportunities:f};return console.log("=== FINAL STATISTICS ==="),console.log("Final stats:",m),m}catch(t){return console.error("Error getting class bid statistics:",t),{totalStudents:0,studentsWithTokens:0,studentsWhoBid:0,totalBids:0,opportunities:[]}}}function qM(e,t){console.log("=== CREATING REAL-TIME SUBSCRIPTION ==="),console.log("Class ID:",e);const n=G.channel(`class-bids-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"bids"},async()=>{console.log("=== BID TABLE CHANGE DETECTED ==="),console.log("Refreshing statistics for class:",e);const r=await uc(e);console.log("Updated stats after bid change:",r),t(r)}).on("postgres_changes",{event:"*",schema:"public",table:"student_enrollments",filter:`class_id=eq.${e}`},async()=>{console.log("=== STUDENT ENROLLMENT CHANGE DETECTED ==="),console.log("Refreshing statistics for class:",e);const r=await uc(e);console.log("Updated stats after enrollment change:",r),t(r)}).subscribe();return console.log("Real-time channel subscribed:",`class-bids-${e}`),()=>{console.log("=== UNSUBSCRIBING FROM REAL-TIME UPDATES ==="),console.log("Class ID:",e),G.removeChannel(n)}}const YM=e=>{const[t,n]=p.useState({totalStudents:0,studentsWithTokens:0,studentsWhoBid:0,totalBids:0,opportunities:[]}),[r,s]=p.useState(!0),[o,i]=p.useState(null),a=p.useCallback(async()=>{if(e)try{s(!0),i(null),console.log("=== FETCHING BID STATISTICS ==="),console.log("Class ID:",e);const u=await uc(e);console.log("Fetched statistics:",u),n(u)}catch(u){console.error("Error fetching bid statistics:",u),i(u instanceof Error?u.message:"Failed to fetch statistics")}finally{s(!1)}},[e]);p.useEffect(()=>{if(!e)return;console.log("=== SETTING UP REAL-TIME SUBSCRIPTION ==="),console.log("Class ID:",e),a();const u=qM(e,h=>{console.log("=== REAL-TIME STATISTICS UPDATE RECEIVED ==="),console.log("Updated statistics:",h),console.log("Previous statistics:",t),n(h)}),d=G.channel(`class-enrollments-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"student_enrollments",filter:`class_id=eq.${e}`},async h=>{if(console.log("=== STUDENT ENROLLMENT UPDATE RECEIVED ==="),console.log("Payload:",h),h.new&&h.old&&h.new.bidding_result!==h.old.bidding_result){console.log("Bidding result changed, refreshing statistics");const f=await uc(e);n(f)}}).subscribe();return console.log("Real-time subscription established for class:",e),()=>{u(),G.removeChannel(d)}},[e,a]);const c=p.useCallback(()=>{console.log("=== MANUAL REFRESH TRIGGERED ==="),a()},[a]);return{statistics:t,isLoading:r,error:o,refresh:c}},GM=({classes:e,currentClass:t,onSelectClass:n,onCreateClass:r,onUpdateOpportunity:s,onRemoveClass:o,onChangePassword:i,onOpportunityCreated:a,onOpportunityDeleted:c})=>{var ze;const{toast:u}=Vt(),[d,h]=p.useState(null),[f,g]=p.useState(null),[w,m]=p.useState(!1),[x,v]=p.useState(null),[y,b]=p.useState(Date.now()),[S,_]=p.useState({}),[C,N]=p.useState(!1),[j,$]=p.useState(""),[B,L]=p.useState(""),[k,P]=p.useState(void 0),[D,W]=p.useState(void 0),[U,M]=p.useState(void 0),[E,O]=p.useState(""),{statistics:T,isLoading:R,refresh:A}=YM((t==null?void 0:t.id)||null),I=async z=>{try{const{data:ne,error:Ee}=await G.from("bids").select("id, user_id, submission_timestamp").eq("opportunity_id",z).order("submission_timestamp",{ascending:!0});if(Ee)return console.error(`Error fetching bidders for opportunity ${z}:`,Ee),[];if(!ne||ne.length===0)return[];const Ce=[...new Set(ne.map(_n=>_n.user_id))],{data:Ve,error:Ge}=await G.from("users").select("id, name, email, student_number").in("id",Ce);if(Ge)return console.error(`Error fetching user details for opportunity ${z}:`,Ge),[];const Bn=new Map;return(Ve||[]).forEach(_n=>{Bn.set(_n.id,_n)}),ne.map(_n=>{const St=Bn.get(_n.user_id);return{id:(St==null?void 0:St.id)||_n.user_id,name:(St==null?void 0:St.name)||"Unknown User",email:(St==null?void 0:St.email)||"",studentNumber:(St==null?void 0:St.student_number)||"",bidTimestamp:_n.submission_timestamp}})}catch(ne){return console.error("Error fetching opportunity bidders:",ne),[]}};p.useEffect(()=>{(async()=>{if(d&&(t!=null&&t.bidOpportunities)){const ne=await I(d);_(Ee=>({...Ee,[d]:ne}))}})()},[d,t==null?void 0:t.bidOpportunities,y]),p.useEffect(()=>{t!=null&&t.id&&(console.log("=== DASHBOARD STATISTICS UPDATE ==="),console.log("Class ID:",t.id),console.log("Statistics:",T),console.log("Is Loading:",R),b(Date.now()))},[T,R,t==null?void 0:t.id]),p.useEffect(()=>{const z=()=>{console.log("=== BID SUBMITTED EVENT RECEIVED IN DASHBOARD ==="),A()};return window.addEventListener("bidSubmitted",z),()=>{window.removeEventListener("bidSubmitted",z)}},[A]),(ze=t==null?void 0:t.bidOpportunities)==null||ze.find(z=>z.id===d);const q=d?S[d]||[]:[],ce=()=>{$(""),L(""),P(void 0),W(void 0),M(void 0),O("")},re=z=>{const ne=z.target.value;if(ne===""){O("");return}const Ee=parseInt(ne,10);!isNaN(Ee)&&Ee>=0&&O(ne)},X=z=>{[8,9,27,13,37,38,39,40,46].indexOf(z.keyCode)!==-1||z.keyCode===65&&z.ctrlKey===!0||z.keyCode===67&&z.ctrlKey===!0||z.keyCode===86&&z.ctrlKey===!0||z.keyCode===88&&z.ctrlKey===!0||(z.shiftKey||z.keyCode<48||z.keyCode>57)&&(z.keyCode<96||z.keyCode>105)&&z.preventDefault()},de=async()=>{const z=parseInt(E,10);if(!t||!j||!B||!k||!D||!U||isNaN(z)||z<0){u({title:"Missing information",description:"Please fill in all required fields with valid values",variant:"destructive"});return}N(!0);try{const ne=await BM(t.id,{title:j,description:B,event_date:k.toISOString(),opens_at:D.toISOString(),closes_at:U.toISOString(),capacity:z});a==null||a(ne),u({title:"Opportunity created",description:"The bidding opportunity has been created successfully"}),ce(),m(!1),A()}catch(ne){console.error("Error creating opportunity:",ne),u({title:"Failed to create opportunity",description:ne instanceof Error?ne.message:"An unexpected error occurred",variant:"destructive"})}finally{N(!1)}},ye=async z=>{var Ce;const ne=(Ce=t==null?void 0:t.bidOpportunities)==null?void 0:Ce.find(Ve=>Ve.id===z),Ee=(ne==null?void 0:ne.title)||"this opportunity";console.log("=== DASHBOARD DELETE HANDLER STARTED ==="),console.log("Opportunity ID:",z),console.log("Opportunity title:",Ee),console.log("Current class ID:",t==null?void 0:t.id),v(z);try{console.log("=== CALLING deleteBidOpportunity FUNCTION ==="),await HM(z),console.log("=== deleteBidOpportunity COMPLETED SUCCESSFULLY ==="),c==null||c(z),console.log("=== LOCAL STATE UPDATED ==="),u({title:"Opportunity deleted",description:`"${Ee}" has been permanently deleted`}),A(),console.log("=== STATISTICS REFRESHED ===")}catch(Ve){console.error("=== DASHBOARD DELETE ERROR ==="),console.error("Error type:",typeof Ve),console.error("Error message:",Ve instanceof Error?Ve.message:Ve),console.error("Full error object:",Ve),console.error("Stack trace:",Ve instanceof Error?Ve.stack:"No stack trace"),u({title:"Failed to delete opportunity",description:Ve instanceof Error?Ve.message:"An unexpected error occurred",variant:"destructive"})}finally{v(null),console.log("=== DASHBOARD DELETE HANDLER COMPLETED ===")}},J=z=>{g(z)},Z=z=>{t&&(s(z.id,z),A(),u({title:"Changes saved",description:"The bidding opportunity has been updated"}))},fe=z=>{if(console.log("=== GETTING OPPORTUNITY BID COUNT ==="),console.log("Opportunity ID:",z),console.log("Current statistics:",T),!T||!T.opportunities)return console.log("No statistics or opportunities available"),0;const ne=T.opportunities.find(Ee=>Ee.opportunityId===z);return console.log("Found opportunity stats for",z,":",ne),console.log("Bid count:",(ne==null?void 0:ne.bidCount)||0),(ne==null?void 0:ne.bidCount)||0};return t?l.jsxs("div",{className:"container mx-auto p-4 md:p-6 space-y-8",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-heading font-bold",children:"Class Management"}),l.jsxs("p",{className:"text-muted-foreground text-lg",children:["Managing: ",t.className]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs(ue,{variant:"outline",onClick:A,disabled:R,className:"flex items-center gap-2",children:[l.jsx(Rc,{className:`w-4 h-4 ${R?"animate-spin":""}`}),"Refresh Data"]}),l.jsxs(ue,{variant:"destructive",onClick:()=>o==null?void 0:o(t.id),className:"flex items-center gap-2",children:[l.jsx(vg,{size:16})," Remove Class"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs(we,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Students"}),l.jsx(Oo,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold",children:R?l.jsx(rt,{className:"w-6 h-6 animate-spin"}):(T==null?void 0:T.totalStudents)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total enrolled"})]})]}),l.jsxs(we,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Available Tokens"}),l.jsx(ma,{className:"h-4 w-4 text-green-500"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:R?l.jsx(rt,{className:"w-6 h-6 animate-spin"}):(T==null?void 0:T.studentsWithTokens)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to bid"})]})]}),l.jsxs(we,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Active Bidders"}),l.jsx(Oo,{className:"h-4 w-4 text-blue-500"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:R?l.jsx(rt,{className:"w-6 h-6 animate-spin"}):(T==null?void 0:T.studentsWhoBid)||0}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Have placed bids"})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-heading font-bold",children:"Bidding Opportunities"}),l.jsxs("p",{className:"text-muted-foreground",children:["Manage bidding opportunities for Class: ",t.className]})]}),l.jsxs(ue,{onClick:()=>m(!0),className:"flex items-center gap-2",children:[l.jsx(yf,{className:"w-4 h-4"}),"Add Opportunity"]})]}),t.bidOpportunities&&t.bidOpportunities.length>0?l.jsx("div",{className:"space-y-4",children:l.jsx(we,{children:l.jsx(Se,{className:"p-0",children:l.jsxs(Tp,{children:[l.jsx(Pp,{children:l.jsxs(ho,{children:[l.jsx(Et,{children:"Title"}),l.jsx(Et,{children:"Capacity"}),l.jsx(Et,{children:"Event Date"}),l.jsx(Et,{children:"Status"}),l.jsx(Et,{children:"Current Bids"}),l.jsx(Et,{children:"Selected"}),l.jsx(Et,{children:"Actions"})]})}),l.jsx(Rp,{children:t.bidOpportunities.map(z=>{var Ee;const ne=fe(z.id);return l.jsxs(l.Fragment,{children:[l.jsxs(ho,{className:d===z.id?"bg-academy-lightBlue/10":"",children:[l.jsx(gt,{className:"font-medium",children:z.title}),l.jsx(gt,{children:l.jsxs(se,{variant:"outline",children:[z.capacity||t.capacity," students"]})}),l.jsx(gt,{children:Xn(z.date)}),l.jsx(gt,{children:l.jsx(se,{variant:Dn(z)==="Open for Bidding"?"default":"secondary",children:Dn(z)})}),l.jsx(gt,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(se,{variant:"default",className:"bg-blue-500",children:R?l.jsx(rt,{className:"w-3 h-3 animate-spin"}):l.jsx("span",{children:ne},`count-${z.id}-${ne}-${y}`)},`bid-count-${z.id}-${y}`),ne>(z.capacity||t.capacity)&&l.jsx(se,{variant:"destructive",className:"text-xs",children:"Over capacity"})]})}),l.jsx(gt,{children:((Ee=z.selectedStudents)==null?void 0:Ee.length)||0}),l.jsx(gt,{children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>h(d===z.id?null:z.id),className:"flex items-center gap-1",children:d===z.id?l.jsxs(l.Fragment,{children:[l.jsx(yN,{className:"w-4 h-4"}),"Hide Details"]}):l.jsxs(l.Fragment,{children:[l.jsx(xN,{className:"w-4 h-4"}),"View Details"]})}),l.jsx(ue,{variant:"outline",size:"sm",onClick:Ce=>{Ce.stopPropagation(),J(z)},children:l.jsx(bN,{className:"w-4 h-4"})}),l.jsx(ue,{variant:"destructive",size:"sm",onClick:()=>{window.confirm(`Are you sure you want to delete "${z.title}"? This action cannot be undone and will remove all associated bids.`)&&ye(z.id)},disabled:x===z.id,children:x===z.id?l.jsx(rt,{className:"w-4 h-4 animate-spin"}):l.jsx(vg,{className:"w-4 h-4"})})]})})]},z.id),d===z.id&&l.jsx(ho,{children:l.jsx(gt,{colSpan:8,className:"p-0",children:l.jsxs("div",{className:"bg-blue-50/50 border-l-4 border-l-academy-blue p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold mb-4 text-academy-blue",children:["Details of ",z.title]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx(ke,{className:"text-sm font-medium text-gray-600",children:"Description"}),l.jsx("div",{className:"mt-2 p-3 bg-white rounded-md border",children:l.jsx("p",{className:"text-gray-800",children:z.description})}),l.jsxs("div",{className:"mt-4",children:[l.jsx(ke,{className:"text-sm font-medium text-gray-600",children:"Bidding Opens"}),l.jsx("div",{className:"mt-2 p-3 bg-white rounded-md border",children:l.jsx("p",{className:"text-gray-800",children:z.bidOpenDate?Xn(z.bidOpenDate):"1 week before event"})})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx(ke,{className:"text-sm font-medium text-gray-600",children:"Bidding Closes"}),l.jsx("div",{className:"mt-2 p-3 bg-white rounded-md border",children:l.jsx("p",{className:"text-gray-800",children:z.bidCloseDate?Xn(z.bidCloseDate):Xn(z.date)})})]})]}),l.jsxs("div",{children:[l.jsx(ke,{className:"text-sm font-medium text-gray-600",children:"Live Statistics"}),l.jsxs("div",{className:"mt-2 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Current Bids:"}),l.jsx("span",{className:"font-medium text-blue-600",children:R?l.jsx(rt,{className:"w-4 h-4 animate-spin"}):ne},`detail-bid-count-${z.id}-${y}`)]}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Capacity:"}),l.jsxs("span",{className:"font-medium text-purple-600",children:[z.capacity||t.capacity," students"]})]})]})]})]}),l.jsxs("div",{className:"mt-4",children:[q.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsxs(ke,{className:"text-sm font-medium text-gray-600 mb-3 block",children:["Student Bidders (",q.length,")"]}),l.jsxs("div",{className:"p-4 bg-white rounded-md border",children:[l.jsx("div",{className:"space-y-3",children:q.map((Ce,Ve)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center text-sm font-medium text-blue-600",children:Ve+1}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:Ce.name}),l.jsx("div",{className:"text-sm text-gray-500",children:Ce.email}),Ce.studentNumber&&l.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",Ce.studentNumber]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-sm font-medium text-gray-700",children:["Submitted: ",new Date(Ce.bidTimestamp).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})]}),l.jsx("div",{className:"text-xs text-gray-500",children:new Date(Ce.bidTimestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})})]})]},Ce.id))}),l.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:"Bidding Summary:"}),l.jsx("div",{className:"mt-1 text-gray-700",children:q.map((Ce,Ve)=>l.jsxs("span",{children:[Ce.name," (submitted: ",new Date(Ce.bidTimestamp).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})," ",new Date(Ce.bidTimestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),")",Ve<q.length-1?", ":""]},Ce.id))})]})})]})]}),q.length===0&&ne===0&&l.jsxs("div",{className:"mt-6",children:[l.jsx(ke,{className:"text-sm font-medium text-gray-600 mb-3 block",children:"Student Bidders"}),l.jsx("div",{className:"p-4 bg-white rounded-md border text-center",children:l.jsx("div",{className:"text-gray-500 text-sm",children:"No students have placed bids for this opportunity yet."})})]})]})]})})})]})})})]})})})}):l.jsx(we,{children:l.jsxs(Se,{className:"p-8 text-center",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Bidding Opportunities"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Create your first bidding opportunity to get started."}),l.jsxs(ue,{onClick:()=>m(!0),children:[l.jsx(yf,{className:"w-4 h-4 mr-2"}),"Create First Opportunity"]})]})})]}),l.jsx(vp,{open:w,onOpenChange:m,children:l.jsxs(Qc,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsxs(Xc,{children:[l.jsx(Zc,{children:"Create New Bidding Opportunity"}),l.jsx(eu,{children:"Add a new bidding opportunity for students to participate in"})]}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"title",children:"Title"}),l.jsx(rn,{id:"title",value:j,onChange:z=>$(z.target.value),placeholder:"e.g., Dinner with Professor - Week 1",disabled:C})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"description",children:"Description"}),l.jsx(Op,{id:"description",value:B,onChange:z=>L(z.target.value),placeholder:"Describe the opportunity in detail",rows:3,disabled:C})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{children:"Event Date"}),l.jsxs(po,{children:[l.jsx(mo,{asChild:!0,children:l.jsx(ue,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:C,children:k?Ut(k,"PPP"):l.jsx("span",{children:"Pick the event date"})})}),l.jsx(ps,{className:"w-auto p-0",children:l.jsx(hs,{mode:"single",selected:k,onSelect:P,initialFocus:!0})})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{children:"Bidding Opens Date"}),l.jsxs(po,{children:[l.jsx(mo,{asChild:!0,children:l.jsx(ue,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:C,children:D?Ut(D,"PPP"):l.jsx("span",{children:"Pick when bidding opens"})})}),l.jsx(ps,{className:"w-auto p-0",children:l.jsx(hs,{mode:"single",selected:D,onSelect:W,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This is when students can start bidding for this opportunity"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{children:"Bidding Closes Date"}),l.jsxs(po,{children:[l.jsx(mo,{asChild:!0,children:l.jsx(ue,{variant:"outline",className:"w-full justify-start text-left font-normal",disabled:C,children:U?Ut(U,"PPP"):l.jsx("span",{children:"Pick when bidding closes"})})}),l.jsx(ps,{className:"w-auto p-0",children:l.jsx(hs,{mode:"single",selected:U,onSelect:M,initialFocus:!0})})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"This is when bidding closes for this opportunity"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"capacity",children:"Capacity"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rn,{id:"capacity",type:"text",value:E,onChange:re,onKeyDown:X,placeholder:"0",disabled:C,required:!0}),l.jsx("span",{className:"text-sm text-muted-foreground",children:"students"})]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Any positive number of students for this opportunity"})]})]}),l.jsxs(Jc,{children:[l.jsx(ue,{variant:"outline",onClick:()=>m(!1),disabled:C,children:"Cancel"}),l.jsx(ue,{onClick:de,disabled:C,children:C?l.jsxs(l.Fragment,{children:[l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Opportunity"})]})]})}),f&&l.jsx(VM,{isOpen:!!f,onClose:()=>g(null),opportunity:f,currentClass:t,onSave:Z})]}):l.jsxs("div",{className:"container mx-auto p-4 md:p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold",children:"Admin Dashboard"}),l.jsx(ue,{onClick:r,children:"Create New Class"})]}),l.jsx(we,{className:"mb-6",children:l.jsxs(Se,{className:"p-6 flex flex-col items-center justify-center",children:[l.jsx("p",{className:"text-lg mb-4",children:"No class selected."}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Select a class from the sidebar to view its details and manage it."}),e.length===0&&l.jsx(ue,{onClick:r,children:"Create Your First Class"})]})})]})},KM=pa("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Es=p.forwardRef(({className:e,variant:t,...n},r)=>l.jsx("div",{ref:r,role:"alert",className:Q(KM({variant:t}),e),...n}));Es.displayName="Alert";const QM=p.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:Q("mb-1 font-medium leading-none tracking-tight",e),...t}));QM.displayName="AlertTitle";const Cs=p.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:Q("text-sm [&_p]:leading-relaxed",e),...t}));Cs.displayName="AlertDescription";function XM(e,t=[]){let n=[];function r(o,i){const a=p.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:f,children:g,...w}=h,m=(f==null?void 0:f[e][c])||a,x=p.useMemo(()=>w,Object.values(w));return l.jsx(m.Provider,{value:x,children:g})}function d(h,f){const g=(f==null?void 0:f[e][c])||a,w=p.useContext(g);if(w)return w;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=n.map(i=>p.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[r,JM(s,...t)]}function JM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Yp="Progress",Gp=100,[ZM,_4]=XM(Yp),[eL,tL]=ZM(Yp),VS=p.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=nL,...i}=e;(s||s===0)&&!kv(s)&&console.error(rL(`${s}`,"Progress"));const a=kv(s)?s:Gp;r!==null&&!Tv(r,a)&&console.error(sL(`${r}`,"Progress"));const c=Tv(r,a)?r:null,u=dc(c)?o(c,a):void 0;return l.jsx(eL,{scope:n,value:c,max:a,children:l.jsx(te.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":dc(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":GS(c,a),"data-value":c??void 0,"data-max":a,...i,ref:t})})});VS.displayName=Yp;var qS="ProgressIndicator",YS=p.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=tL(qS,n);return l.jsx(te.div,{"data-state":GS(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});YS.displayName=qS;function nL(e,t){return`${Math.round(e/t*100)}%`}function GS(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function dc(e){return typeof e=="number"}function kv(e){return dc(e)&&!isNaN(e)&&e>0}function Tv(e,t){return dc(e)&&!isNaN(e)&&e<=t&&e>=0}function rL(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Gp}\`.`}function sL(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Gp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var KS=VS,oL=YS;const QS=p.forwardRef(({className:e,value:t,...n},r)=>l.jsx(KS,{ref:r,className:Q("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:l.jsx(oL,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));QS.displayName=KS.displayName;const iL=e=>e.name.toLowerCase().endsWith(".csv")?e.size>5*1024*1024?"File size must be less than 5MB":null:"File must be a CSV file (.csv extension)",aL=e=>{var u,d,h;const t=[],n=e.trim().split(`
`);if(n.length<2)return t.push("CSV file must contain at least a header row and one data row"),{data:[],errors:t};const r=n[0].split(",").map(f=>f.trim().toLowerCase()),s=r.findIndex(f=>f==="name"||f==="student name"),o=r.findIndex(f=>f==="email"||f==="email address"),i=r.findIndex(f=>f==="student number"||f==="student_number"||f==="id"||f==="student id"),a=[];if(s===-1&&a.push("Name"),o===-1&&a.push("Email"),i===-1&&a.push("Student Number"),a.length>0)return t.push(`Missing required columns: ${a.join(", ")}. All three fields (Name, Email, Student Number) are required for login.`),{data:[],errors:t};const c=[];for(let f=1;f<n.length;f++){const g=n[f].trim();if(!g)continue;const w=g.split(",").map(b=>b.trim());if(w.length<=Math.max(s,o,i)){t.push(`Row ${f+1}: Insufficient columns`);continue}const m=(u=w[s])==null?void 0:u.trim(),x=(d=w[o])==null?void 0:d.trim(),v=(h=w[i])==null?void 0:h.trim();if(!m){t.push(`Row ${f+1}: Name is required`);continue}if(!x){t.push(`Row ${f+1}: Email is required`);continue}if(!v){t.push(`Row ${f+1}: Student Number is required for login`);continue}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)){t.push(`Row ${f+1}: Invalid email format: ${x}`);continue}c.push({name:m,email:x.toLowerCase(),student_number:v,row:f+1})}return{data:c,errors:t}},lL=async e=>{try{console.log(`Removing existing enrollments for class ID: ${e}`);const{data:t,error:n}=await G.from("student_enrollments").select("user_id").eq("class_id",e);if(n)throw new Error(`Failed to count existing enrollments: ${n.message}`);const r=(t==null?void 0:t.length)||0;console.log(`Found ${r} existing enrollments in class ${e}`);const{error:s}=await G.from("student_enrollments").delete().eq("class_id",e);if(s)throw new Error(`Failed to remove existing enrollments: ${s.message}`);return console.log(`Successfully removed ${r} enrollments from class ${e}`),{removedCount:r,errors:[]}}catch(t){return console.error("Error removing existing enrollments:",t),{removedCount:0,errors:[t instanceof Error?t.message:"Unknown error removing existing enrollments"]}}},cL=e=>{const t=new Set,n=new Set,r=[],s=[];return e.forEach(o=>{const i=o.email.toLowerCase(),a=o.student_number.toLowerCase(),c=t.has(i),u=n.has(a);c||u?s.push(`Row ${o.row}: ${o.name} (Email: ${o.email}, Student #: ${o.student_number})`):(t.add(i),n.add(a),r.push(o))}),{cleanStudents:r,duplicates:s}},uL=async(e,t)=>{const n=[];let r=0;console.log(`Uploading ${e.length} students to class ${t}`);try{for(const s of e)try{const o=await mA({name:s.name,email:s.email,studentNumber:s.student_number});await gA({userId:o.id,classId:t,tokensRemaining:1,tokenStatus:"unused",biddingResult:"pending"}),r++}catch(o){console.error(`Error processing student ${s.name}:`,o),n.push(`Failed to process ${s.name}: ${o instanceof Error?o.message:"Unknown error"}`)}console.log(`Successfully processed ${r} students`)}catch(s){console.error("Unexpected error during upload:",s),n.push(`Unexpected error during upload: ${s instanceof Error?s.message:"Unknown error"}`)}return{success:r,errors:n}},dL=async(e,t)=>{const n={success:!1,recordsProcessed:0,errors:[],duplicatesSkipped:0,message:"",replacedCount:0};try{console.log(`Starting CSV upload for class: ${t}`);const r=iL(e);if(r)return n.errors.push(r),n.message="File validation failed",n;const s=await e.text(),{data:o,errors:i}=aL(s);if(i.length>0&&n.errors.push(...i),o.length===0)return n.message="No valid student data found in CSV file. Remember: Name, Email, and Student Number are all required.",n;console.log(`Parsed ${o.length} students from CSV`);const{cleanStudents:a,duplicates:c}=cL(o);if(n.duplicatesSkipped=c.length,c.length>0&&(n.errors.push(`Found ${c.length} duplicate entries within the CSV file:`),n.errors.push(...c)),a.length===0)return n.message="No valid unique students found in the CSV file after removing duplicates",n;console.log(`${a.length} unique students after duplicate removal`),console.log(`Removing existing enrollments from class: ${t}`);const{removedCount:u,errors:d}=await lL(t);if(n.replacedCount=u,d.length>0)return n.errors.push(...d),n.message="Failed to remove existing enrollments",n;console.log(`Removed ${u} existing enrollments from class ${t}`),console.log(`Uploading ${a.length} new students to class ${t}`);const{success:h,errors:f}=await uL(a,t);f.length>0&&n.errors.push(...f),n.recordsProcessed=h,n.success=h>0,n.success?(n.replacedCount>0?n.message=`Successfully uploaded ${h} students for this class`:n.message=`Successfully uploaded ${h} students to this class`,n.duplicatesSkipped>0&&(n.message+=` (${n.duplicatesSkipped} duplicates within CSV were skipped)`)):n.message="Failed to upload any students",console.log(`Upload completed for class ${t}. Success: ${n.success}, Records: ${n.recordsProcessed}`)}catch(r){console.error("CSV upload error:",r),n.errors.push(`Unexpected error: ${r instanceof Error?r.message:"Unknown error"}`),n.message="CSV upload failed due to unexpected error"}return n},fL=({classId:e,onUpload:t})=>{const[n,r]=p.useState(null),[s,o]=p.useState(!1),[i,a]=p.useState(null),[c,u]=p.useState(0),{toast:d}=Vt(),h=w=>{w.target.files&&w.target.files[0]&&(r(w.target.files[0]),a(null))},f=()=>{u(0);const w=setInterval(()=>{u(m=>m>=90?(clearInterval(w),90):m+10)},200);return w},g=async()=>{if(!n){d({title:"No file selected",description:"Please select a CSV file to upload",variant:"destructive"});return}o(!0);const w=f();try{const m=await dL(n,e);clearInterval(w),u(100),a(m),m.success?(d({title:"Upload successful",description:m.message}),t([])):d({title:"Upload failed",description:m.message,variant:"destructive"})}catch(m){clearInterval(w),u(0);const x=m instanceof Error?m.message:"An unexpected error occurred";a({success:!1,recordsProcessed:0,errors:[x],duplicatesSkipped:0,message:"Upload failed due to an error"}),d({title:"Upload failed",description:x,variant:"destructive"})}finally{o(!1),r(null);const m=document.getElementById("csvFile");m&&(m.value="")}};return l.jsx(we,{children:l.jsxs(Se,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"csvFile",children:"Upload CSV File"}),l.jsx(rn,{id:"csvFile",type:"file",accept:".csv",onChange:h,disabled:s}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("p",{children:l.jsx("strong",{children:"REQUIRED COLUMNS:"})}),l.jsxs("p",{children:["• ",l.jsx("strong",{children:"Name"})," - Student's full name"]}),l.jsxs("p",{children:["• ",l.jsx("strong",{children:"Email"})," - Student's email address"]}),l.jsxs("p",{children:["• ",l.jsx("strong",{children:"Student Number"})," - Student's ID number (required for login)"]}),l.jsx("p",{className:"text-amber-600 font-medium",children:"⚠️ All three fields are required for student login"}),l.jsx("p",{children:"• Supported format: CSV (.csv)"})]})]}),n&&!s&&l.jsxs(Es,{children:[l.jsx(wN,{className:"h-4 w-4"}),l.jsxs(Cs,{children:[l.jsx("strong",{children:"Selected file:"})," ",n.name," (",(n.size/1024).toFixed(1)," KB)"]})]}),s&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(rt,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{className:"text-sm",children:"Replacing students in database..."})]}),l.jsx(QS,{value:c,className:"w-full"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Removing existing students and uploading new data..."})]}),i&&l.jsx("div",{className:"space-y-3",children:l.jsxs(Es,{variant:i.success?"default":"destructive",children:[i.success?l.jsx(Px,{className:"h-4 w-4"}):l.jsx(gN,{className:"h-4 w-4"}),l.jsxs(Cs,{children:[l.jsx("strong",{children:i.success?"Success!":"Upload Failed"}),l.jsx("br",{}),i.message]})]})}),l.jsx(ue,{onClick:g,disabled:!n||s,className:"w-full bg-red-600 hover:bg-red-700",children:s?l.jsxs(l.Fragment,{children:[l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Replacing Students..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Rc,{className:"w-4 h-4 mr-2"}),"Upload or Replace Students CSV Data"]})}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"font-medium text-sm mb-2",children:"Template:"}),l.jsx(ue,{variant:"outline",size:"sm",onClick:()=>{const w=`Name,Email,Student Number
John Doe,john.doe@example.com,ST2024001
Jane Smith,jane.smith@example.com,A123456
Bob Wilson,bob.wilson@example.com,B789012`,m=new Blob([w],{type:"text/csv"}),x=window.URL.createObjectURL(m),v=document.createElement("a");v.href=x,v.download="student_template.csv",v.click(),window.URL.revokeObjectURL(x)},children:"Download CSV Template"})]})]})})},hL=({currentClass:e,onStudentUpdate:t})=>{const[n,r]=p.useState(e.students),[s,o]=p.useState(""),[i,a]=p.useState(!1),[c,u]=p.useState({total:0,available:0,used:0}),{toast:d}=Vt();p.useEffect(()=>{const m=G.channel(`class-students-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"student_enrollments",filter:`class_id=eq.${e.id}`},x=>{console.log("Student enrollment update received:",x),h(x)}).on("postgres_changes",{event:"*",schema:"public",table:"users"},x=>{console.log("User update received:",x),f()}).subscribe();return()=>{G.removeChannel(m)}},[e.id]);const h=async m=>{const{eventType:x,new:v,old:y}=m;if(await g(),x==="UPDATE"&&v){const{data:b}=await G.from("users").select("name").eq("id",v.user_id).single(),S=(y==null?void 0:y.tokens_remaining)>0,_=v.tokens_remaining<=0;S&&_&&b&&d({title:"Token Status Updated",description:`${b.name} has used their token`})}},f=async m=>{await g()};p.useEffect(()=>{const m=n.length,x=n.filter(y=>y.hasUsedToken===!0).length,v=m-x;u({total:m,available:v,used:x})},[n]);const g=async()=>{a(!0);try{const m=await Zb(e.id);r(m),t(m),d({title:"Data Refreshed",description:"Student data has been updated from the database"})}catch(m){console.error("Error refreshing student data:",m),d({title:"Refresh Failed",description:"Failed to refresh student data",variant:"destructive"})}finally{a(!1)}},w=n.filter(m=>m.name.toLowerCase().includes(s.toLowerCase())||m.email.toLowerCase().includes(s.toLowerCase()));return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(we,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Total Students"}),l.jsx(Oo,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold",children:c.total}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Enrolled in class"})]})]}),l.jsxs(we,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Tokens Available"}),l.jsx(ma,{className:"h-4 w-4 text-green-500"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.available}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to bid"})]})]}),l.jsxs(we,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(Fe,{className:"text-sm font-medium",children:"Tokens Used"}),l.jsx(vf,{className:"h-4 w-4 text-red-500"})]}),l.jsxs(Se,{children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.used}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Bids submitted"})]})]})]}),c.used>0&&l.jsxs(Es,{children:[l.jsx(vf,{className:"h-4 w-4"}),l.jsxs(Cs,{children:[l.jsxs("strong",{children:[c.used," student",c.used>1?"s have":" has"]})," used their token for bidding"]})]}),l.jsxs(we,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(Fe,{className:"text-lg font-heading flex items-center gap-2",children:[l.jsx(Oo,{className:"w-5 h-5"}),"Student List - Real-time Updates"]}),l.jsx(Qo,{children:"Live view of student token status and bidding activity"})]}),l.jsx(ue,{onClick:g,disabled:i,variant:"outline",size:"sm",children:i?l.jsx(rt,{className:"w-4 h-4 animate-spin"}):l.jsx(Rc,{className:"w-4 h-4"})})]}),l.jsxs(Se,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx(ke,{htmlFor:"search",className:"sr-only",children:"Search"}),l.jsx(rn,{id:"search",placeholder:"Search by name or email...",value:s,onChange:m=>o(m.target.value)})]}),w.length===0?l.jsx("p",{className:"text-center text-muted-foreground py-4",children:n.length===0?"No students in this class yet.":"No students match your search"}):l.jsxs(Tp,{children:[l.jsx(Pp,{children:l.jsxs(ho,{children:[l.jsx(Et,{children:"Name"}),l.jsx(Et,{children:"Email"}),l.jsx(Et,{children:"Student Number"}),l.jsx(Et,{children:"Token Status"}),l.jsx(Et,{children:"Bid Status"}),l.jsx(Et,{children:"Tokens Remaining"})]})}),l.jsx(Rp,{children:w.map(m=>l.jsxs(ho,{className:m.hasUsedToken===!0?"bg-red-50":"bg-green-50",children:[l.jsx(gt,{className:"font-medium",children:m.name}),l.jsx(gt,{children:m.email}),l.jsx(gt,{children:m.studentNumber||"N/A"}),l.jsx(gt,{children:m.hasUsedToken===!0?l.jsx(se,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Token Unavailable"}):l.jsx(se,{className:"bg-green-100 text-green-800",children:"Token Available"})}),l.jsx(gt,{children:m.hasBid===!0?l.jsx(se,{variant:"default",children:"Bid Submitted"}):l.jsx(se,{variant:"outline",children:"No Bid"})}),l.jsx(gt,{children:l.jsx(se,{variant:"outline",children:m.tokensRemaining??(m.hasUsedToken===!0?0:1)})})]},m.id))})]})]})]})]})},pL=({currentClass:e,onUpdateStudents:t})=>{const[n,r]=p.useState(!1),{toast:s}=Vt();if(!e)return l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold mb-6",children:"Manage Students"}),l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Please select a class to manage students"})]});const o=async()=>{r(!0);try{const c=(await Oi()).find(u=>u.id===e.id);c&&t(c.students)}catch(a){console.error("Error refreshing students:",a),s({title:"Error refreshing data",description:"Failed to refresh student list from database",variant:"destructive"})}finally{r(!1)}},i=async()=>{r(!0);try{const c=(await Oi()).find(u=>u.id===e.id);c&&(t(c.students),s({title:"Students refreshed",description:"Student list has been updated from the database"}))}catch(a){console.error("Error refreshing students:",a),s({title:"Error refreshing data",description:"Failed to refresh student list from database",variant:"destructive"})}finally{r(!1)}};return l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h1",{className:"text-2xl font-heading font-bold",children:["Manage Students - ",e.className]}),l.jsx(ue,{onClick:i,disabled:n,variant:"outline",children:n?"Refreshing...":"Refresh from Database"})]}),l.jsxs(na,{defaultValue:"manage",className:"space-y-6",children:[l.jsxs(Io,{children:[l.jsx(Qt,{value:"manage",children:"Manage Students"}),l.jsx(Qt,{value:"upload",children:"Upload Students"})]}),l.jsx(Xt,{value:"manage",children:l.jsx(hL,{currentClass:e,onStudentUpdate:t})}),l.jsx(Xt,{value:"upload",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(fL,{classId:e.id,onUpload:o}),l.jsxs(we,{children:[l.jsx($e,{children:l.jsx(Fe,{className:"text-lg font-heading",children:"Upload Instructions"})}),l.jsx(Se,{children:l.jsxs("div",{className:"space-y-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Required CSV Format:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Name"})," - Student's full name"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Email"})," - Student's email address"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Student Number"})," - Required for login"]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Token Management:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[l.jsx("li",{children:"Each student starts with 1 available token"}),l.jsx("li",{children:"Tokens are used when students submit bids"}),l.jsx("li",{children:"Token status updates in real-time"}),l.jsx("li",{children:"Admin can monitor token usage live"})]})]})]})})]})]})})]})]})};function mL(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var gL=[" ","Enter","ArrowUp","ArrowDown"],vL=[" ","Enter"],Ca="Select",[du,fu,yL]=Wh(Ca),[Zo,E4]=Ps(Ca,[yL,Yo]),hu=Yo(),[xL,Kr]=Zo(Ca),[wL,bL]=Zo(Ca),XS=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:g,form:w}=e,m=hu(t),[x,v]=p.useState(null),[y,b]=p.useState(null),[S,_]=p.useState(!1),C=Vc(u),[N=!1,j]=ws({prop:r,defaultProp:s,onChange:o}),[$,B]=ws({prop:i,defaultProp:a,onChange:c}),L=p.useRef(null),k=x?w||!!x.closest("form"):!0,[P,D]=p.useState(new Set),W=Array.from(P).map(U=>U.props.value).join(";");return l.jsx(iw,{...m,children:l.jsxs(xL,{required:g,scope:t,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:Zn(),value:$,onValueChange:B,open:N,onOpenChange:j,dir:C,triggerPointerDownPosRef:L,disabled:f,children:[l.jsx(du.Provider,{scope:t,children:l.jsx(wL,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(U=>{D(M=>new Set(M).add(U))},[]),onNativeOptionRemove:p.useCallback(U=>{D(M=>{const E=new Set(M);return E.delete(U),E})},[]),children:n})}),k?l.jsxs(S1,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:$,onChange:U=>B(U.target.value),disabled:f,form:w,children:[$===void 0?l.jsx("option",{value:""}):null,Array.from(P)]},W):null]})})};XS.displayName=Ca;var JS="SelectTrigger",ZS=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=hu(n),i=Kr(JS,n),a=i.disabled||r,c=me(t,i.onTriggerChange),u=fu(n),d=p.useRef("touch"),[h,f,g]=_1(m=>{const x=u().filter(b=>!b.disabled),v=x.find(b=>b.value===i.value),y=E1(x,m,v);y!==void 0&&i.onValueChange(y.value)}),w=m=>{a||(i.onOpenChange(!0),g()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return l.jsx(Mc,{asChild:!0,...o,children:l.jsx(te.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":b1(i.value)?"":void 0,...s,ref:c,onClick:K(s.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&w(m)}),onPointerDown:K(s.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(w(m),m.preventDefault())}),onKeyDown:K(s.onKeyDown,m=>{const x=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(x&&m.key===" ")&&gL.includes(m.key)&&(w(),m.preventDefault())})})})});ZS.displayName=JS;var e1="SelectValue",t1=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,c=Kr(e1,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,h=me(t,c.onValueNodeChange);return it(()=>{u(d)},[u,d]),l.jsx(te.span,{...a,ref:h,style:{pointerEvents:"none"},children:b1(c.value)?l.jsx(l.Fragment,{children:i}):o})});t1.displayName=e1;var SL="SelectIcon",n1=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return l.jsx(te.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});n1.displayName=SL;var _L="SelectPortal",r1=e=>l.jsx(fa,{asChild:!0,...e});r1.displayName=_L;var Ns="SelectContent",s1=p.forwardRef((e,t)=>{const n=Kr(Ns,e.__scopeSelect),[r,s]=p.useState();if(it(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Ts.createPortal(l.jsx(o1,{scope:e.__scopeSelect,children:l.jsx(du.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(i1,{...e,ref:t})});s1.displayName=Ns;var ln=10,[o1,Qr]=Zo(Ns),EL="SelectContentImpl",i1=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:w,hideWhenDetached:m,avoidCollisions:x,...v}=e,y=Kr(Ns,n),[b,S]=p.useState(null),[_,C]=p.useState(null),N=me(t,X=>S(X)),[j,$]=p.useState(null),[B,L]=p.useState(null),k=fu(n),[P,D]=p.useState(!1),W=p.useRef(!1);p.useEffect(()=>{if(b)return fp(b)},[b]),dp();const U=p.useCallback(X=>{const[de,...ye]=k().map(fe=>fe.ref.current),[J]=ye.slice(-1),Z=document.activeElement;for(const fe of X)if(fe===Z||(fe==null||fe.scrollIntoView({block:"nearest"}),fe===de&&_&&(_.scrollTop=0),fe===J&&_&&(_.scrollTop=_.scrollHeight),fe==null||fe.focus(),document.activeElement!==Z))return},[k,_]),M=p.useCallback(()=>U([j,b]),[U,j,b]);p.useEffect(()=>{P&&M()},[P,M]);const{onOpenChange:E,triggerPointerDownPosRef:O}=y;p.useEffect(()=>{if(b){let X={x:0,y:0};const de=J=>{var Z,fe;X={x:Math.abs(Math.round(J.pageX)-(((Z=O.current)==null?void 0:Z.x)??0)),y:Math.abs(Math.round(J.pageY)-(((fe=O.current)==null?void 0:fe.y)??0))}},ye=J=>{X.x<=10&&X.y<=10?J.preventDefault():b.contains(J.target)||E(!1),document.removeEventListener("pointermove",de),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ye,{capture:!0})}}},[b,E,O]),p.useEffect(()=>{const X=()=>E(!1);return window.addEventListener("blur",X),window.addEventListener("resize",X),()=>{window.removeEventListener("blur",X),window.removeEventListener("resize",X)}},[E]);const[T,R]=_1(X=>{const de=k().filter(Z=>!Z.disabled),ye=de.find(Z=>Z.ref.current===document.activeElement),J=E1(de,X,ye);J&&setTimeout(()=>J.ref.current.focus())}),A=p.useCallback((X,de,ye)=>{const J=!W.current&&!ye;(y.value!==void 0&&y.value===de||J)&&($(X),J&&(W.current=!0))},[y.value]),I=p.useCallback(()=>b==null?void 0:b.focus(),[b]),q=p.useCallback((X,de,ye)=>{const J=!W.current&&!ye;(y.value!==void 0&&y.value===de||J)&&L(X)},[y.value]),ce=r==="popper"?Hf:a1,re=ce===Hf?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:w,hideWhenDetached:m,avoidCollisions:x}:{};return l.jsx(o1,{scope:n,content:b,viewport:_,onViewportChange:C,itemRefCallback:A,selectedItem:j,onItemLeave:I,itemTextRefCallback:q,focusSelectedItem:M,selectedItemText:B,position:r,isPositioned:P,searchRef:T,children:l.jsx(Kc,{as:Fr,allowPinchZoom:!0,children:l.jsx(Yc,{asChild:!0,trapped:y.open,onMountAutoFocus:X=>{X.preventDefault()},onUnmountAutoFocus:K(s,X=>{var de;(de=y.trigger)==null||de.focus({preventScroll:!0}),X.preventDefault()}),children:l.jsx(Wo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:X=>X.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(ce,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:X=>X.preventDefault(),...v,...re,onPlaced:()=>D(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:K(v.onKeyDown,X=>{const de=X.ctrlKey||X.altKey||X.metaKey;if(X.key==="Tab"&&X.preventDefault(),!de&&X.key.length===1&&R(X.key),["ArrowUp","ArrowDown","Home","End"].includes(X.key)){let J=k().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(X.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(X.key)){const Z=X.target,fe=J.indexOf(Z);J=J.slice(fe+1)}setTimeout(()=>U(J)),X.preventDefault()}})})})})})})});i1.displayName=EL;var CL="SelectItemAlignedPosition",a1=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Kr(Ns,n),i=Qr(Ns,n),[a,c]=p.useState(null),[u,d]=p.useState(null),h=me(t,N=>d(N)),f=fu(n),g=p.useRef(!1),w=p.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=i,b=p.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&m&&x&&v){const N=o.trigger.getBoundingClientRect(),j=u.getBoundingClientRect(),$=o.valueNode.getBoundingClientRect(),B=v.getBoundingClientRect();if(o.dir!=="rtl"){const Z=B.left-j.left,fe=$.left-Z,ze=N.left-fe,z=N.width+ze,ne=Math.max(z,j.width),Ee=window.innerWidth-ln,Ce=Bf(fe,[ln,Math.max(ln,Ee-ne)]);a.style.minWidth=z+"px",a.style.left=Ce+"px"}else{const Z=j.right-B.right,fe=window.innerWidth-$.right-Z,ze=window.innerWidth-N.right-fe,z=N.width+ze,ne=Math.max(z,j.width),Ee=window.innerWidth-ln,Ce=Bf(fe,[ln,Math.max(ln,Ee-ne)]);a.style.minWidth=z+"px",a.style.right=Ce+"px"}const L=f(),k=window.innerHeight-ln*2,P=m.scrollHeight,D=window.getComputedStyle(u),W=parseInt(D.borderTopWidth,10),U=parseInt(D.paddingTop,10),M=parseInt(D.borderBottomWidth,10),E=parseInt(D.paddingBottom,10),O=W+U+P+E+M,T=Math.min(x.offsetHeight*5,O),R=window.getComputedStyle(m),A=parseInt(R.paddingTop,10),I=parseInt(R.paddingBottom,10),q=N.top+N.height/2-ln,ce=k-q,re=x.offsetHeight/2,X=x.offsetTop+re,de=W+U+X,ye=O-de;if(de<=q){const Z=L.length>0&&x===L[L.length-1].ref.current;a.style.bottom="0px";const fe=u.clientHeight-m.offsetTop-m.offsetHeight,ze=Math.max(ce,re+(Z?I:0)+fe+M),z=de+ze;a.style.height=z+"px"}else{const Z=L.length>0&&x===L[0].ref.current;a.style.top="0px";const ze=Math.max(q,W+m.offsetTop+(Z?A:0)+re)+ye;a.style.height=ze+"px",m.scrollTop=de-q+m.offsetTop}a.style.margin=`${ln}px 0`,a.style.minHeight=T+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[f,o.trigger,o.valueNode,a,u,m,x,v,o.dir,r]);it(()=>b(),[b]);const[S,_]=p.useState();it(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const C=p.useCallback(N=>{N&&w.current===!0&&(b(),y==null||y(),w.current=!1)},[b,y]);return l.jsx(jL,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(te.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});a1.displayName=CL;var NL="SelectPopperPosition",Hf=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ln,...o}=e,i=hu(n);return l.jsx(rp,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hf.displayName=NL;var[jL,Kp]=Zo(Ns,{}),Vf="SelectViewport",l1=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Qr(Vf,n),i=Kp(Vf,n),a=me(t,o.onViewportChange),c=p.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(du.Slot,{scope:n,children:l.jsx(te.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:K(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&h){const g=Math.abs(c.current-d.scrollTop);if(g>0){const w=window.innerHeight-ln*2,m=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),v=Math.max(m,x);if(v<w){const y=v+g,b=Math.min(w,y),S=y-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});l1.displayName=Vf;var c1="SelectGroup",[kL,TL]=Zo(c1),PL=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Zn();return l.jsx(kL,{scope:n,id:s,children:l.jsx(te.div,{role:"group","aria-labelledby":s,...r,ref:t})})});PL.displayName=c1;var u1="SelectLabel",d1=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=TL(u1,n);return l.jsx(te.div,{id:s.id,...r,ref:t})});d1.displayName=u1;var fc="SelectItem",[RL,f1]=Zo(fc),h1=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=Kr(fc,n),c=Qr(fc,n),u=a.value===r,[d,h]=p.useState(o??""),[f,g]=p.useState(!1),w=me(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,r,s)}),m=Zn(),x=p.useRef("touch"),v=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(RL,{scope:n,value:r,disabled:s,textId:m,isSelected:u,onItemTextChange:p.useCallback(y=>{h(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(du.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:l.jsx(te.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:w,onFocus:K(i.onFocus,()=>g(!0)),onBlur:K(i.onBlur,()=>g(!1)),onClick:K(i.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:K(i.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:K(i.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:K(i.onPointerMove,y=>{var b;x.current=y.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:K(i.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:K(i.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(vL.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});h1.displayName=fc;var yi="SelectItemText",p1=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Kr(yi,n),a=Qr(yi,n),c=f1(yi,n),u=bL(yi,n),[d,h]=p.useState(null),f=me(t,v=>h(v),c.onItemTextChange,v=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,v,c.value,c.disabled)}),g=d==null?void 0:d.textContent,w=p.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return it(()=>(m(w),()=>x(w)),[m,x,w]),l.jsxs(l.Fragment,{children:[l.jsx(te.span,{id:c.textId,...o,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ts.createPortal(o.children,i.valueNode):null]})});p1.displayName=yi;var m1="SelectItemIndicator",g1=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return f1(m1,n).isSelected?l.jsx(te.span,{"aria-hidden":!0,...r,ref:t}):null});g1.displayName=m1;var qf="SelectScrollUpButton",v1=p.forwardRef((e,t)=>{const n=Qr(qf,e.__scopeSelect),r=Kp(qf,e.__scopeSelect),[s,o]=p.useState(!1),i=me(t,r.onScrollButtonChange);return it(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(x1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});v1.displayName=qf;var Yf="SelectScrollDownButton",y1=p.forwardRef((e,t)=>{const n=Qr(Yf,e.__scopeSelect),r=Kp(Yf,e.__scopeSelect),[s,o]=p.useState(!1),i=me(t,r.onScrollButtonChange);return it(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(x1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});y1.displayName=Yf;var x1=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Qr("SelectScrollButton",n),i=p.useRef(null),a=fu(n),c=p.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),it(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(te.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:K(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:K(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:K(s.onPointerLeave,()=>{c()})})}),OL="SelectSeparator",w1=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return l.jsx(te.div,{"aria-hidden":!0,...r,ref:t})});w1.displayName=OL;var Gf="SelectArrow",DL=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=hu(n),o=Kr(Gf,n),i=Qr(Gf,n);return o.open&&i.position==="popper"?l.jsx(sp,{...s,...r,ref:t}):null});DL.displayName=Gf;function b1(e){return e===""||e===void 0}var S1=p.forwardRef((e,t)=>{const{value:n,...r}=e,s=p.useRef(null),o=me(t,s),i=mL(n);return p.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&d){const h=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(h)}},[i,n]),l.jsx(ha,{asChild:!0,children:l.jsx("select",{...r,ref:o,defaultValue:n})})});S1.displayName="BubbleSelect";function _1(e){const t=Ye(e),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(i=>{const a=n.current+i;t(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function E1(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=AL(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function AL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var IL=XS,C1=ZS,ML=t1,LL=n1,$L=r1,N1=s1,FL=l1,j1=d1,k1=h1,UL=p1,BL=g1,T1=v1,P1=y1,R1=w1;const zL=IL,WL=ML,O1=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(C1,{ref:r,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(LL,{asChild:!0,children:l.jsx(Tx,{className:"h-4 w-4 opacity-50"})})]}));O1.displayName=C1.displayName;const D1=p.forwardRef(({className:e,...t},n)=>l.jsx(T1,{ref:n,className:Q("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(mN,{className:"h-4 w-4"})}));D1.displayName=T1.displayName;const A1=p.forwardRef(({className:e,...t},n)=>l.jsx(P1,{ref:n,className:Q("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Tx,{className:"h-4 w-4"})}));A1.displayName=P1.displayName;const I1=p.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx($L,{children:l.jsxs(N1,{ref:s,className:Q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(D1,{}),l.jsx(FL,{className:Q("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(A1,{})]})}));I1.displayName=N1.displayName;const HL=p.forwardRef(({className:e,...t},n)=>l.jsx(j1,{ref:n,className:Q("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));HL.displayName=j1.displayName;const M1=p.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(k1,{ref:r,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(BL,{children:l.jsx(hN,{className:"h-4 w-4"})})}),l.jsx(UL,{children:t})]}));M1.displayName=k1.displayName;const VL=p.forwardRef(({className:e,...t},n)=>l.jsx(R1,{ref:n,className:Q("-mx-1 my-1 h-px bg-muted",e),...t}));VL.displayName=R1.displayName;const qL=({currentClass:e,onSelectionComplete:t})=>{var B,L;const[n,r]=p.useState(null),[s,o]=p.useState({}),[i,a]=p.useState({}),[c,u]=p.useState(!0),[d,h]=p.useState(!1),[f,g]=p.useState([]),[w,m]=p.useState(!1),{toast:x}=Vt(),v=e.bidOpportunities||[];p.useEffect(()=>{v.length>0&&!n&&r(v[0].id)},[v,n]),p.useEffect(()=>{if(n&&e.bidOpportunities){const k=e.bidOpportunities.find(P=>P.id===n);k&&k.selectedStudents?(console.log("Loading selected students from database:",k.selectedStudents),g(k.selectedStudents)):g([])}},[n,e.bidOpportunities]);const y=async k=>{try{const{data:P,error:D}=await G.from("bids").select(`
          id,
          user_id,
          bid_status,
          submission_timestamp
        `).eq("opportunity_id",k).order("submission_timestamp",{ascending:!1});if(D)return console.error(`Error fetching bids for opportunity ${k}:`,D),[];if(!P||P.length===0)return[];const W=[...new Set(P.map(O=>O.user_id))],{data:U,error:M}=await G.from("users").select("id, name, email, student_number").in("id",W);if(M)return console.error(`Error fetching users for opportunity ${k}:`,M),[];const E=new Map((U==null?void 0:U.map(O=>[O.id,O]))||[]);return P.map(O=>{const T=E.get(O.user_id);return{id:(T==null?void 0:T.id)||O.user_id,name:(T==null?void 0:T.name)||"Unknown User",email:(T==null?void 0:T.email)||"",studentNumber:T==null?void 0:T.student_number,bidTimestamp:O.submission_timestamp,bidStatus:O.bid_status}}).filter(O=>O.name!=="Unknown User")}catch(P){return console.error("Error fetching bidders:",P),[]}},b=async()=>{if(v.length===0){u(!1);return}try{const k={},P={};for(const D of v){const{data:W,error:U}=await G.from("bids").select(`
            id, 
            submission_timestamp,
            bid_status,
            user_id
          `).eq("opportunity_id",D.id);if(U){console.error(`Error fetching bids for opportunity ${D.id}:`,U);continue}const M=(W==null?void 0:W.length)||0;if(k[D.id]={opportunityId:D.id,bidCount:M,lastUpdated:new Date().toISOString()},M>0){const E=[...new Set(W.map(A=>A.user_id))],{data:O,error:T}=await G.from("users").select("id, name, email, student_number").in("id",E);if(T){console.error(`Error fetching users for opportunity ${D.id}:`,T),P[D.id]=[];continue}const R=new Map((O==null?void 0:O.map(A=>[A.id,A]))||[]);P[D.id]=W.map(A=>{const I=R.get(A.user_id);return{id:(I==null?void 0:I.id)||A.user_id,name:(I==null?void 0:I.name)||"Unknown User",email:(I==null?void 0:I.email)||"",studentNumber:I==null?void 0:I.student_number,bidTimestamp:A.submission_timestamp,bidStatus:A.bid_status}}).filter(A=>A.name!=="Unknown User")}else P[D.id]=[]}o(k),a(P)}catch(k){console.error("Error fetching bid counts:",k),x({title:"Error Loading Data",description:"Failed to fetch bid counts from database",variant:"destructive"})}finally{u(!1)}};p.useEffect(()=>{if(v.length===0)return;const k=v.map(P=>G.channel(`bids-${P.id}`).on("postgres_changes",{event:"*",schema:"public",table:"bids",filter:`opportunity_id=eq.${P.id}`},async W=>{console.log("Real-time bid update:",W),o(U=>{let E=(U[P.id]||{opportunityId:P.id,bidCount:0,lastUpdated:""}).bidCount;return W.eventType==="INSERT"?(E+=1,x({title:"New Bid Placed",description:`A student has placed a bid for ${P.title}`})):W.eventType==="DELETE"&&(E=Math.max(0,E-1),x({title:"Bid Removed",description:`A bid was removed from ${P.title}`})),{...U,[P.id]:{opportunityId:P.id,bidCount:E,lastUpdated:new Date().toISOString()}}});try{const U=await y(P.id);a(M=>({...M,[P.id]:U}))}catch(U){console.error("Error refreshing bidders after real-time update:",U)}}).subscribe());return b(),()=>{k.forEach(P=>G.removeChannel(P))}},[v,x]);const S=async()=>{m(!0),await b(),m(!1),x({title:"Data Refreshed",description:"Bid counts have been updated from the database"})},_=async()=>{var P;if(!n){x({title:"No Opportunity Selected",description:"Please select a bidding opportunity first",variant:"destructive"});return}if((((P=s[n])==null?void 0:P.bidCount)||0)===0){x({title:"No Bids Available",description:"No students have placed bids for this opportunity yet",variant:"destructive"});return}h(!0);try{const W=(i[n]||[]).map(R=>({id:R.id,name:R.name,email:R.email,studentNumber:R.studentNumber,hasUsedToken:!0,hasBid:!0}));await new Promise(R=>setTimeout(R,1e3));const U=v.find(R=>R.id===n),M=(U==null?void 0:U.capacity)||e.capacity,E=Math.min(M,W.length),T=[...W].sort(()=>Math.random()-.5).slice(0,E);g(T),t(T,n);try{const R=T.map(I=>I.id),A=W.map(I=>I.id);await UM(n,e.id,R,A),console.log("Selection results successfully updated in database"),console.log("=== REFRESHING BIDDER DATA AFTER SELECTION ==="),await b(),console.log("Bidder data refreshed successfully")}catch(R){console.error("Error updating selection results in database:",R),x({title:"Database Update Warning",description:"Selection completed but failed to update database records. Please check the console for details.",variant:"destructive"})}x({title:"Selection Complete",description:`${T.length} student${T.length!==1?"s":""} selected successfully`})}catch(D){console.error("Selection error:",D),x({title:"Selection Failed",description:"An error occurred during the selection process",variant:"destructive"})}finally{h(!1)}},C=async()=>{if(n){h(!0);try{console.log("=== STARTING SELECTION RESET ==="),console.log("Opportunity ID:",n),await WM(n),console.log("=== DATABASE RESET COMPLETED ==="),g([]),await b(),t([],n),x({title:"Selection Reset",description:"Selection has been cleared and all student results reset to pending."})}catch(k){console.error("Error resetting selection:",k),x({title:"Reset Failed",description:k instanceof Error?k.message:"An unexpected error occurred during reset",variant:"destructive"})}finally{h(!1)}}},N=v.find(k=>k.id===n),j=n&&((B=s[n])==null?void 0:B.bidCount)||0,$=n?i[n]||[]:[];return v.length===0?l.jsx("div",{className:"container mx-auto p-4",children:l.jsx(we,{children:l.jsxs(Se,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-xl mb-4",children:"No Bidding Opportunities"}),l.jsx("p",{className:"text-muted-foreground",children:"Create some bidding opportunities first to run the selection process."})]})})}):l.jsxs("div",{className:"container mx-auto p-4 space-y-6",children:[l.jsxs(we,{children:[l.jsxs($e,{className:"flex flex-row items-center justify-between",children:[l.jsx("div",{children:l.jsxs(Fe,{className:"text-xl font-heading flex items-center gap-2",children:[l.jsx(Ql,{className:"w-5 h-5"}),"Selection Process - Real-time Monitoring"]})}),l.jsx(ue,{onClick:S,disabled:w||c,variant:"outline",size:"sm",children:w?l.jsx(rt,{className:"w-4 h-4 animate-spin"}):l.jsx(Rc,{className:"w-4 h-4"})})]}),l.jsxs(Se,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Bidding Opportunity:"}),l.jsxs(zL,{value:n||"",onValueChange:r,disabled:c,children:[l.jsx(O1,{className:"w-full",children:l.jsx(WL,{placeholder:"Choose a bidding opportunity"})}),l.jsx(I1,{children:v.map(k=>{var D;const P=((D=s[k.id])==null?void 0:D.bidCount)||0;return l.jsx(M1,{value:k.id,children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsxs("span",{children:[k.title," - ",Xn(k.date)]}),l.jsx(se,{variant:"outline",className:"ml-2",children:c?"...":`${P} bids`})]})},k.id)})})]})]}),N&&l.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"font-medium text-lg",children:N.title}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vf,{className:"w-4 h-4 text-blue-500"}),l.jsx(se,{variant:"default",className:"animate-pulse",children:c?l.jsx(rt,{className:"w-3 h-3 animate-spin"}):`${j} Live Bids`})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Event Date:"}),l.jsx("div",{className:"font-medium",children:Xn(N.date)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Capacity:"}),l.jsxs("div",{className:"font-medium",children:[N.capacity||e.capacity," students"]})]})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Description:"}),l.jsx("div",{className:"mt-1",children:N.description})]}),l.jsxs(Es,{children:[l.jsx(Oo,{className:"h-4 w-4"}),l.jsxs(Cs,{children:[l.jsxs("strong",{children:[j," student",j!==1?"s":""]})," ",j===1?"has":"have"," placed bids for this opportunity.",j>(N.capacity||e.capacity)?l.jsx("span",{className:"text-blue-600 font-medium",children:" Random selection will be required."}):j>0?l.jsx("span",{className:"text-green-600 font-medium",children:" All bidders can be selected."}):l.jsx("span",{className:"text-gray-600",children:" Waiting for bids..."})]})]}),$.length>0&&l.jsxs("div",{className:"mt-4 p-4 bg-white rounded-md border",children:[l.jsxs("h4",{className:"font-medium text-sm mb-3 flex items-center gap-2",children:[l.jsx(_N,{className:"w-4 h-4"}),"Students Who Have Placed Bids (",$.length,")"]}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:$.map((k,P)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded text-sm",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600",children:P+1}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:k.name}),l.jsx("div",{className:"text-xs text-gray-500",children:k.email}),k.studentNumber&&l.jsxs("div",{className:"text-xs text-gray-400",children:["ID: ",k.studentNumber]})]})]}),l.jsx("div",{className:"text-right",children:l.jsx(se,{variant:"outline",className:`text-xs mt-1 ${f.length===0||!f.some(D=>D.id===k.id)?f.length===0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:f.length===0||!f.some(D=>D.id===k.id)?f.length===0?"pending":"rejected":"selected"})})]},k.id))})]}),((L=s[N.id])==null?void 0:L.lastUpdated)&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date(s[N.id].lastUpdated).toLocaleTimeString()]})]})]})]}),l.jsx("div",{className:"text-center space-y-6",children:f.length===0?l.jsx(ue,{onClick:_,disabled:d||j===0||!n,size:"lg",className:"px-12 py-6 text-xl font-semibold bg-blue-600 hover:bg-blue-700 shadow-lg",children:d?l.jsxs(l.Fragment,{children:[l.jsx(rt,{className:"w-6 h-6 mr-3 animate-spin"}),"Selecting Students..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ql,{className:"w-6 h-6 mr-3"}),"Start Random Selection"]})}):l.jsx(ue,{onClick:C,variant:"outline",size:"lg",className:"px-12 py-6 text-xl font-semibold",children:"Reset Selection"})}),l.jsxs(we,{children:[l.jsx($e,{className:"text-center",children:l.jsxs(Fe,{className:"text-2xl font-bold flex items-center justify-center gap-2",children:[l.jsx(Oo,{className:"w-6 h-6"}),"Selected Students"]})}),l.jsx(Se,{children:f.length>0?l.jsxs("div",{className:"space-y-4",children:[f.map(k=>l.jsxs("div",{className:"p-6 bg-green-50 border-2 border-green-200 rounded-lg text-center",children:[l.jsxs("div",{className:"text-2xl font-bold text-green-800 mb-2",children:["🎉 ",k.name]}),l.jsx("div",{className:"text-lg text-green-600 mb-1",children:k.email}),k.studentNumber&&l.jsxs("div",{className:"text-sm text-green-500",children:["Student #: ",k.studentNumber]})]},k.id)),l.jsx("div",{className:"text-center pt-4",children:l.jsxs("p",{className:"text-lg font-medium text-gray-700",children:["🎊 Congratulations! ",f.length," student",f.length!==1?"s have":" has"," been selected!"]})})]}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🎯"}),l.jsx("p",{className:"text-xl text-gray-500 mb-2",children:"No students selected yet"}),l.jsx("p",{className:"text-gray-400",children:'Select an opportunity and click "Start Random Selection" to begin'})]})})]})]})},YL=({currentClass:e,onSelectionComplete:t})=>{const{toast:n}=Vt(),r=(s,o)=>{const i=localStorage.getItem("classData");if(i)try{const c=JSON.parse(i).map(u=>{if(u.id===(e==null?void 0:e.id)){const d={...u,selectedStudents:s};return o&&u.bidOpportunities&&(d.bidOpportunities=u.bidOpportunities.map(h=>h.id===o?{...h,selectedStudents:s}:h)),d}return u});localStorage.setItem("classData",JSON.stringify(c)),console.log("Selection results saved to localStorage:",{selectedStudents:s,opportunityId:o})}catch(a){console.error("Error updating class data:",a)}t(s,o),n({title:"Selection saved",description:"The selection results have been saved and are now visible to students."})};return e?(!e.bidOpportunities||e.bidOpportunities.length===0)&&e.bidders.length===0?l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsxs("h1",{className:"text-2xl font-heading font-bold mb-6",children:["Selection Process - ",e.className]}),l.jsx(we,{children:l.jsxs(Se,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-xl mb-4",children:"No bids available"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"No students have placed a bid for the current reward yet."})]})})]}):l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6 text-center",children:[l.jsxs("h1",{className:"text-2xl font-heading font-bold",children:["Selection Process - ",e.className]}),l.jsx("p",{className:"text-muted-foreground",children:"Monitor real-time bids and conduct random selection"})]}),l.jsx(qL,{currentClass:e,onSelectionComplete:r})]}):l.jsxs("div",{className:"container mx-auto p-4",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold mb-6",children:"Selection Process"}),l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Please select a class to run the selection process"})]})};async function GL(e){const{userId:t,opportunityId:n}=e;try{console.log("=== STARTING BID SUBMISSION DEBUG ==="),console.log("User ID:",t),console.log("Opportunity ID:",n),console.log("Supabase client status:",!!G),console.log("=== STEP 0: FETCH CURRENT STUDENT STATUS ===");const{data:r,error:s}=await G.from("student_enrollments").select("*").eq("user_id",t).single();s?console.error("Error fetching current enrollment:",s):console.log("Current enrollment before bid:",r),console.log("=== STEP 1: VERIFY OPPORTUNITY EXISTS ===");const{data:o,error:i}=await G.from("opportunities").select("id, class_id, title, description").eq("id",n).single();if(i)return console.error("Error fetching opportunity:",i),{success:!1,errorMessage:`Opportunity not found: ${i.message}`};console.log("Opportunity found:",o),console.log("=== STEP 2: VERIFY STUDENT ENROLLMENT ===");const{data:a,error:c}=await G.from("student_enrollments").select("*").eq("user_id",t).eq("class_id",o.class_id).single();if(c)return console.error("Error checking enrollment:",c),{success:!1,errorMessage:`Student not enrolled in this class: ${c.message}`};if(console.log("Student enrollment found:",a),a.tokens_remaining<=0)return console.log("No tokens remaining for student"),{success:!1,errorMessage:"No tokens remaining"};console.log("=== STEP 3: CHECK FOR EXISTING BID ===");const{data:u,error:d}=await G.from("bids").select("id").eq("user_id",t).eq("opportunity_id",n).maybeSingle();if(d)return console.error("Error checking existing bid:",d),{success:!1,errorMessage:`Error checking existing bid: ${d.message}`};if(u)return console.log("Student has already bid on this opportunity"),{success:!1,errorMessage:"You have already placed a bid for this opportunity"};console.log("=== STEP 4: CALLING RPC FUNCTION ===");const{data:h,error:f}=await G.rpc("submit_student_bid_secure",{p_bid_amount:1,p_user_id:t,p_opportunity_id:n});if(console.log("RPC function result:",h),console.log("RPC function error:",f),f)return console.error("RPC function failed:",f),{success:!1,errorMessage:`Bid submission failed: ${f.message}`};if(!h||!h.success)return console.error("RPC function returned failure:",h),{success:!1,errorMessage:(h==null?void 0:h.error_message)||"Bid submission failed"};console.log("=== STEP 5: FETCH UPDATED DATA ===");const{data:g,error:w}=await G.from("users").select("*").eq("id",t).single(),{data:m,error:x}=await G.from("student_enrollments").select("*").eq("user_id",t).eq("class_id",o.class_id).single();if(w||x||!g||!m)return console.error("Error fetching updated data:",w||x),{success:!0,bidId:h.bid_id,timestamp:new Date().toISOString()};console.log("Updated user data:",g),console.log("Updated enrollment data:",m);const v={id:g.id,name:g.name,email:g.email,studentNumber:g.student_number||"",hasUsedToken:m.tokens_remaining<=0,hasBid:m.token_status==="used",tokensRemaining:m.tokens_remaining,tokenStatus:m.token_status,biddingResult:m.bidding_result};return console.log("=== BID SUBMISSION SUCCESSFUL ==="),console.log("Updated student:",v),console.log("Token status changed from",r==null?void 0:r.token_status,"to",m.token_status),console.log("Tokens remaining changed from",r==null?void 0:r.tokens_remaining,"to",m.tokens_remaining),{success:!0,bidId:h.bid_id,updatedStudent:v,timestamp:new Date().toISOString()}}catch(r){return console.error("=== UNEXPECTED ERROR DURING BID SUBMISSION ==="),console.error("Error type:",typeof r),console.error("Error message:",r instanceof Error?r.message:r),console.error("Full error object:",r),{success:!1,errorMessage:r instanceof Error?r.message:"Unexpected error occurred"}}}function KL(e,t,n){console.log("=== SETTING UP REAL-TIME SUBSCRIPTION ==="),console.log("User ID:",e,"Class ID:",t);const r=G.channel(`user-enrollment-${e}-${t}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"student_enrollments",filter:`user_id=eq.${e}.and.class_id=eq.${t}`},async s=>{var c,u;console.log("=== REAL-TIME ENROLLMENT UPDATE ==="),console.log("Payload:",s),console.log("Previous data:",s.old),console.log("New data:",s.new);const o=s.new,{data:i}=await G.from("users").select("*").eq("id",e).single(),{data:a}=await G.from("bids").select(`
            id,
            opportunity_id,
            is_winner,
            bid_status,
            opportunities!inner(class_id)
          `).eq("user_id",e).eq("opportunities.class_id",t);if(i){const d=o.bidding_result,h={id:i.id,name:i.name,email:i.email,studentNumber:i.student_number||"",hasUsedToken:o.tokens_remaining<=0,hasBid:a&&a.length>0||o.token_status==="used",tokensRemaining:o.tokens_remaining,tokenStatus:o.token_status,biddingResult:d};console.log("=== CALLING onUpdate CALLBACK ==="),console.log("Updated student object:",h),console.log("Token status changed:",(c=s.old)==null?void 0:c.token_status,"->",o.token_status),console.log("Bidding result changed:",(u=s.old)==null?void 0:u.bidding_result,"->",overallBiddingResult),n(h)}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"users",filter:`id=eq.${e}`},async s=>{console.log("=== REAL-TIME USER UPDATE ==="),console.log("User payload:",s);const o=s.new,{data:i}=await G.from("student_enrollments").select("*").eq("user_id",e).eq("class_id",t).single();if(await G.from("bids").select(`
            id,
            opportunity_id,
            is_winner,
            bid_status,
            opportunities!inner(class_id)
          `).eq("user_id",e).eq("opportunities.class_id",t),i){const a=i.token_status==="used",c={id:o.id,name:o.name,email:o.email,studentNumber:o.student_number||"",hasUsedToken:i.tokens_remaining<=0,hasBid:a,tokensRemaining:i.tokens_remaining,tokenStatus:i.token_status,biddingResult:i.bidding_result};console.log("=== USER UPDATE - CALLING onUpdate ==="),console.log("Updated student from user change:",c),n(c)}}).subscribe();return console.log("=== REAL-TIME SUBSCRIPTION ESTABLISHED ==="),()=>{console.log("=== UNSUBSCRIBING FROM REAL-TIME UPDATES ==="),G.removeChannel(r)}}const QL=()=>{const[e,t]=p.useState({isSubmitting:!1,lastBidResponse:null,error:null}),{toast:n}=Vt(),r=p.useCallback(async s=>{t(o=>({...o,isSubmitting:!0,error:null}));try{const o=await GL(s);return t(i=>({...i,isSubmitting:!1,lastBidResponse:o,error:o.success?null:o.errorMessage||"Bid submission failed"})),o.success?n({title:"Bid Submitted Successfully",description:"Your token has been used and your bid is recorded"}):n({title:"Bid Submission Failed",description:o.errorMessage||"You may not have permission to bid on this opportunity",variant:"destructive"}),o}catch(o){const i=o instanceof Error?o.message:"Unexpected error";return t(a=>({...a,isSubmitting:!1,error:i})),n({title:"Bid Submission Error",description:i,variant:"destructive"}),{success:!1,errorMessage:i}}},[n]);return{...e,submitBid:r}},XL=({student:e,classConfig:t,onBidSubmitted:n})=>{const[r,s]=p.useState("opportunity-0"),[o,i]=p.useState(e),[a,c]=p.useState(!1),{isSubmitting:u,lastBidResponse:d,error:h,submitBid:f}=QL(),g=t.bidOpportunities||[];p.useEffect(()=>{(async()=>{if(!(!(e!=null&&e.id)||!(t!=null&&t.id))){c(!0);try{const{data:v,error:y}=await G.from("users").select("*").eq("id",e.id).single(),{data:b,error:S}=await G.from("student_enrollments").select("*").eq("user_id",e.id).eq("class_id",t.id).single();if(b&&v&&!S&&!y){const _=b.token_status==="used",C={id:v.id,name:v.name,email:v.email,studentNumber:v.student_number,hasUsedToken:b.tokens_remaining<=0,hasBid:_,tokensRemaining:b.tokens_remaining,tokenStatus:b.token_status,biddingResult:b.bidding_result};console.log("=== ENHANCED BID CARD STATUS UPDATE ==="),console.log("Database enrollment:",b),console.log("Bidding result from enrollment:",b.bidding_result),console.log("Updated student for bid card:",C),i(C)}}catch(v){console.error("Error fetching student status in bid card:",v)}finally{c(!1)}}})();const x=G.channel(`student-enrollment-${e.id}-${t.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"student_enrollments",filter:`user_id=eq.${e.id}.and.class_id=eq.${t.id}`},v=>{console.log("=== BID CARD REAL-TIME UPDATE ==="),console.log("Payload:",v);const y=v.new,b={...e,hasUsedToken:y.tokens_remaining<=0,hasBid:y.token_status==="used",tokensRemaining:y.tokens_remaining,tokenStatus:y.token_status,biddingResult:y.bidding_result};i(b)}).subscribe();return()=>{G.removeChannel(x)}},[e.id,t.id]),p.useEffect(()=>{i(e)},[e]);const w=async m=>{var b;if(console.log("=== FRONTEND BID SUBMISSION STARTED ==="),console.log("Current student:",o),console.log("Opportunity ID:",m),console.log("Student has used token:",(o==null?void 0:o.hasUsedToken)===!0),!o||o.hasUsedToken===!0)return;const x=g.find(S=>S.id===m);if(!x){Yu.error("Opportunity not found");return}if(!FA(x)){Yu.error("This opportunity is not currently open for bidding");return}if((b=x.bidders)==null?void 0:b.some(S=>S.id===o.id)){Yu.error("You have already placed a bid on this opportunity");return}const y=await f({userId:o.id,opportunityId:m});console.log("=== BID SUBMISSION RESPONSE ==="),console.log("Response:",y),y.success&&y.bidId&&y.updatedStudent?(console.log("=== BID SUBMISSION SUCCESSFUL ==="),console.log("Calling onBidSubmitted callback"),y.updatedStudent&&i(y.updatedStudent),setTimeout(()=>{console.log("=== TRIGGERING ADMIN DASHBOARD REFRESH ==="),window.dispatchEvent(new CustomEvent("bidSubmitted",{detail:{opportunityId:m,studentId:o.id}}))},500),n==null||n(y.bidId,y.updatedStudent||o,m)):(console.log("=== BID SUBMISSION FAILED ==="),console.log("Error:",y.errorMessage))};return g.length===0?l.jsxs(we,{className:"w-full max-w-md",children:[l.jsxs($e,{children:[l.jsx(Fe,{className:"text-xl font-heading",children:t.rewardTitle}),l.jsx(Qo,{children:t.rewardDescription})]}),l.jsx(Se,{children:l.jsx("p",{className:"text-center py-4",children:"No bid opportunities available at this time."})})]}):l.jsxs(we,{className:"w-full max-w-md",children:[l.jsx($e,{children:l.jsxs(Fe,{className:"text-xl font-heading flex items-center gap-2",children:[l.jsx(ma,{className:"w-5 h-5"}),t.rewardTitle]})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("span",{className:"text-sm font-medium",children:"Your Token Status:"}),a?l.jsx(se,{variant:"outline",className:"animate-pulse",children:"Loading..."}):(o==null?void 0:o.hasUsedToken)===!0||(o==null?void 0:o.tokenStatus)==="used"?l.jsx(se,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Token Unavailable"}):l.jsx(se,{className:"bg-green-100 text-green-800",children:"Token Available"})]}),l.jsxs("div",{className:"p-3 bg-gray-50 rounded-md",children:[l.jsx("div",{className:"flex items-center gap-2 mb-2",children:(o==null?void 0:o.tokenStatus)==="used"||(o==null?void 0:o.hasUsedToken)===!0?l.jsx(se,{variant:"secondary",className:"bg-red-100 text-red-800 animate-pulse",children:"Token Used"}):l.jsx(se,{className:"bg-green-100 text-green-800",children:"Token Available"})}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["User: ",o==null?void 0:o.name," | Status: ",(o==null?void 0:o.tokenStatus)==="used"||(o==null?void 0:o.hasUsedToken)===!0?"Token Used":"Ready to Bid",(o==null?void 0:o.tokensRemaining)!==void 0&&l.jsxs("span",{children:[" | Tokens: ",o.tokensRemaining]}),(o==null?void 0:o.biddingResult)&&o.biddingResult!=="pending"&&l.jsxs("span",{children:[" | Result: ",o.biddingResult==="won"?"Selected":"Not Selected"]})]})]})]}),l.jsxs(na,{value:r,onValueChange:s,className:"w-full",children:[l.jsx(Io,{className:"grid grid-cols-5 mb-4",children:g.map((m,x)=>l.jsxs(Qt,{value:`opportunity-${x}`,children:["#",x+1]},m.id))}),g.map((m,x)=>{var b,S,_;const v=(b=m.bidders)==null?void 0:b.some(C=>C.id===(o==null?void 0:o.id));(S=m.selectedStudents)==null||S.some(C=>C.id===(o==null?void 0:o.id));const y=(o==null?void 0:o.hasUsedToken)!==!0&&Dn(m)==="Open for Bidding"&&!v;return l.jsx(Xt,{value:`opportunity-${x}`,children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-lg",children:m.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:m.description})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Event Date:"}),l.jsx("span",{className:"font-medium",children:Xn(m.date)})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Status:"}),v?l.jsx("div",{className:"flex items-center gap-2",children:o.biddingResult==="won"?l.jsx(se,{className:"bg-green-500 text-white",children:"🎉 Selected"}):o.biddingResult==="lost"?l.jsx(se,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Not Selected"}):l.jsx(se,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"Pending Selection"})}):l.jsx(se,{variant:"outline",className:"text-gray-400",children:"No Bid"})]}),l.jsx("div",{children:l.jsx(se,{variant:Dn(m)==="Open for Bidding"?"default":"secondary",children:Dn(m)})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Capacity:"}),l.jsxs(se,{variant:"outline",children:[m.capacity||t.capacity," students"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Current Bids:"}),l.jsxs(se,{variant:"outline",children:[((_=m.bidders)==null?void 0:_.length)||0," students"]})]}),v&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm",children:"Your Result:"}),(o==null?void 0:o.biddingResult)==="won"?l.jsx(se,{className:"bg-green-500 text-white animate-bounce",children:"🎉 Selected"}):(o==null?void 0:o.biddingResult)==="lost"?l.jsx(se,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Not Selected"}):l.jsx(se,{variant:"outline",className:"bg-yellow-100 text-yellow-800 animate-pulse",children:"Pending Selection"})]}),(o==null?void 0:o.biddingResult)==="won"&&v&&l.jsxs(Es,{children:[l.jsx(Px,{className:"h-4 w-4"}),l.jsx(Cs,{children:"🎉 Congratulations! You have been selected for this opportunity!"})]}),h&&l.jsxs(Es,{variant:"destructive",children:[l.jsx(SN,{className:"h-4 w-4"}),l.jsx(Cs,{children:h})]}),m.bidders&&m.bidders.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[l.jsx(vN,{className:"w-4 h-4"}),"Recent Bidders"]}),l.jsx("div",{className:"bg-gray-50 rounded-md p-2 max-h-20 overflow-y-auto",children:m.bidders.slice(-3).map(C=>l.jsxs("div",{className:"text-xs flex justify-between",children:[l.jsx("span",{children:C.name}),l.jsx("span",{className:"text-muted-foreground",children:C.id===(o==null?void 0:o.id)?"You":"Recently"})]},C.id))})]}),l.jsx(ue,{className:"w-full mt-4",onClick:()=>w(m.id),disabled:!y||u||(e==null?void 0:e.tokenStatus)==="used",children:u?l.jsxs(l.Fragment,{children:[l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting Bid..."]}):v?"Bid Already Submitted":(o==null?void 0:o.tokenStatus)==="used"||(o==null?void 0:o.hasUsedToken)===!0?"Token Unavailable":Dn(m)!=="Open for Bidding"?"Bidding Not Open":"Use Token to Bid"})]})},m.id)})]})]})]})},JL=({classes:e,currentClass:t,onSelectClass:n,isCollapsed:r=!1,currentStudent:s})=>{const[o,i]=p.useState(null);return l.jsx("div",{className:Q("fixed left-0 top-16 h-[calc(100vh-64px)] bg-white border-r border-gray-200 shadow-sm transition-all duration-300 z-40",r?"w-16":"w-80"),children:l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b border-gray-100",children:l.jsx("div",{className:"flex items-center justify-between",children:!r&&l.jsx("h2",{className:"text-lg font-heading font-semibold text-gray-900",children:"My Classes"})})}),l.jsx(kp,{className:"flex-1 p-2",children:l.jsx("div",{className:"space-y-2",children:e.length===0?l.jsx("div",{className:Q("text-center py-8",r&&"px-2"),children:r?l.jsx(Kl,{className:"w-6 h-6 mx-auto text-gray-400"}):l.jsxs(l.Fragment,{children:[l.jsx(Kl,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),l.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"No classes enrolled"}),l.jsx("p",{className:"text-xs text-gray-400",children:"Contact your instructor to get enrolled"})]})}):e.map(a=>{var f,g,w;const c=((f=a.bidOpportunities)==null?void 0:f.length)||0,u=((g=a.bidOpportunities)==null?void 0:g.filter(m=>{const x=new Date,v=new Date(m.date),y=m.bidOpenDate?new Date(m.bidOpenDate):new Date(v.getTime()-7*24*60*60*1e3);return x>=y&&x<v}).length)||0,d=a.students.find(m=>m.id===(s==null?void 0:s.id)),h=(d==null?void 0:d.hasUsedToken)===!0||(d==null?void 0:d.tokenStatus)==="used";return l.jsx(we,{className:Q("cursor-pointer transition-all duration-200 hover:shadow-md",(t==null?void 0:t.id)===a.id?"border-academy-blue bg-academy-blue/5 shadow-sm":"border-gray-200 hover:border-gray-300",r&&"p-2"),onClick:()=>n(a.id),onMouseEnter:()=>i(a.id),onMouseLeave:()=>i(null),children:r?l.jsx("div",{className:"flex items-center justify-center p-2",children:l.jsx("div",{className:"w-8 h-8 rounded-full bg-academy-blue/10 flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-semibold text-academy-blue",children:a.className.charAt(0).toUpperCase()})})}):l.jsxs(l.Fragment,{children:[l.jsxs($e,{className:"pb-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Fe,{className:"text-base font-semibold text-gray-900 truncate",children:a.className}),(t==null?void 0:t.id)===a.id&&l.jsx(Yh,{className:"w-4 h-4 text-academy-blue"})]}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:a.rewardTitle})]}),l.jsx(Se,{className:"pt-0",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(kx,{className:"w-3 h-3 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Opportunities"})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(se,{variant:"outline",className:"text-xs px-1 py-0",children:c}),u>0&&l.jsxs(se,{className:"text-xs px-1 py-0 bg-green-500",children:[u," open"]})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ma,{className:"w-3 h-3 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Token"})]}),l.jsx(se,{variant:h?"secondary":"default",className:`text-xs px-1 py-0 ${h?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:h?"Used":"Available"})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Ql,{className:"w-3 h-3 text-gray-400"}),l.jsx("span",{className:"text-gray-600",children:"Bids"})]}),l.jsx(se,{variant:"outline",className:"text-xs px-1 py-0",children:((w=a.bidders)==null?void 0:w.length)||0})]})]})})]})},a.id)})})}),!r&&l.jsx("div",{className:"p-4 border-t border-gray-100",children:l.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[e.length," ",e.length===1?"class":"classes"," enrolled"]})})]})})},L1=()=>{var b,S,_,C,N,j,$,B;const{toast:e}=Vt(),t=Pw(),n=Hc(),r=((b=n.state)==null?void 0:b.student)||null,s=((S=n.state)==null?void 0:S.classes)||[],[o,i]=p.useState(r),[a,c]=p.useState(s),[u,d]=p.useState(s.length>0?s[0]:null),[h,f]=p.useState(!1),[g,w]=p.useState(!1);p.useEffect(()=>{if(!(o!=null&&o.id)||!(u!=null&&u.id)){console.log("Skipping real-time subscription setup: student or currentClass not ready.");return}return console.log("=== SETTING UP REAL-TIME SUBSCRIPTION ==="),console.log("Student ID:",o.id,"Class ID:",u.id),(async()=>{w(!0);try{const{data:P,error:D}=await G.from("users").select("*").eq("id",o.id).single(),{data:W,error:U}=await G.from("student_enrollments").select("*").eq("user_id",o.id).eq("class_id",u.id).single();if(W&&P&&!U&&!D){const M=W.token_status==="used",E={id:P.id,name:P.name,email:P.email,studentNumber:P.student_number,hasUsedToken:W.tokens_remaining<=0,hasBid:M,tokensRemaining:W.tokens_remaining,tokenStatus:W.token_status,biddingResult:W.bidding_result};console.log("=== INITIAL STATUS FETCH ==="),console.log("Database enrollment:",W),console.log("Bidding result from enrollment table:",W.bidding_result),console.log("Updated student:",E),i(E),d(O=>O&&{...O,students:O.students.map(T=>T.id===E.id?E:T)})}}catch(P){console.error("Error fetching initial status:",P)}finally{w(!1)}})(),KL(o.id,u.id,async P=>{console.log("=== REAL-TIME UPDATE RECEIVED ==="),console.log("Updated student data:",P),console.log("Bidding result from real-time update:",P.biddingResult),console.log("Token status:",P.tokenStatus),console.log("Tokens remaining:",P.tokensRemaining),P.hasBid=P.tokenStatus==="used";const D=o,W=(D==null?void 0:D.tokenStatus)!==P.tokenStatus,U=(D==null?void 0:D.biddingResult)!==P.biddingResult;if(console.log("=== BIDDING RESULT COMPARISON ==="),console.log("Previous bidding result:",D==null?void 0:D.biddingResult),console.log("New bidding result:",P.biddingResult),console.log("Bidding result changed:",U),console.log("=== UPDATING STUDENT STATE ==="),i(P),d(M=>{if(!M)return M;const E=M.bidOpportunities.map(O=>{let T=[...O.selectedStudents];O.bidders.some(I=>I.id===P.id)&&(P.biddingResult==="won"?T.some(I=>I.id===P.id)||T.push(P):(P.biddingResult==="lost"||P.biddingResult==="pending")&&(T=T.filter(I=>I.id!==P.id)));const A=O.bidders.map(I=>I.id===P.id?P:I);return{...O,selectedStudents:T,bidders:A}});return{...M,students:M.students.map(O=>O.id===P.id?P:O),bidders:M.bidders.map(O=>O.id===P.id?P:O),selectedStudents:M.selectedStudents.map(O=>O.id===P.id?P:O),bidOpportunities:E}}),c(M=>M.map(E=>E.id===u.id?{...E,students:E.students.map(O=>O.id===P.id?P:O),bidders:E.bidders.map(O=>O.id===P.id?P:O),selectedStudents:E.selectedStudents.map(O=>O.id===P.id?P:O),bidOpportunities:E.bidOpportunities.map(O=>{let T=[...O.selectedStudents];O.bidders.some(I=>I.id===P.id)&&(P.biddingResult==="won"?T.some(I=>I.id===P.id)||T.push(P):(P.biddingResult==="lost"||P.biddingResult==="pending")&&(T=T.filter(I=>I.id!==P.id)));const A=O.bidders.map(I=>I.id===P.id?P:I);return{...O,selectedStudents:T,bidders:A}})}:E)),W&&P.tokenStatus==="used"&&e({title:"Token Status Updated",description:"Your token has been used for bidding. You can now see your bid status."}),U&&P.biddingResult!=="pending"){console.log("=== BIDDING RESULT CHANGED ==="),console.log("Previous result:",D==null?void 0:D.biddingResult),console.log("New result:",P.biddingResult);const M=P.biddingResult==="won"?"🎉 Congratulations! You have been selected for the opportunity!":"Unfortunately, you were not selected this time. Better luck next time!";e({title:"Bidding Result Updated",description:M,duration:P.biddingResult==="won"?1e4:5e3})}})},[o==null?void 0:o.id,u==null?void 0:u.id,e]),p.useEffect(()=>{if(o&&a.length>0){const L=localStorage.getItem("classData");if(L)try{const k=JSON.parse(L),P=a.map(D=>k.find(U=>U.id===D.id)||D);if(c(P),u){const D=P.find(W=>W.id===u.id);D&&d(D)}}catch(k){console.error("Error parsing stored class data:",k)}}},[]);const m=L=>{const k=a.find(P=>P.id===L);k&&d(k)};if(!o||a.length===0)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-2xl font-heading font-bold mb-6",children:"Student Dashboard"}),l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Please log in to view your dashboard"}),l.jsx("div",{className:"flex justify-center",children:l.jsx(ue,{onClick:()=>t("/"),children:"Back to Login"})})]})});const x=(L,k,P)=>{const D=localStorage.getItem("classData");if(D)try{const U=JSON.parse(D).map(E=>{if(E.id===(u==null?void 0:u.id)){const O=E.students.map(A=>A.id===k.id?k:A),T=E.bidOpportunities.map(A=>A.id===P&&!A.bidders.some(I=>I.id===k.id)?{...A,bidders:[...A.bidders,k]}:A),R=E.bidders&&Array.isArray(E.bidders)?[...E.bidders]:[];return R.some(A=>A.id===k.id)||R.push(k),{...E,students:O,bidders:R,bidOpportunities:T}}return E});localStorage.setItem("classData",JSON.stringify(U));const M=U.find(E=>E.id===(u==null?void 0:u.id));d(M),c(U)}catch(W){console.error("Error updating class data:",W)}e({title:"Bid placed successfully",description:"You have placed a bid for the opportunity."})},v=()=>{t("/")},y=(_=u==null?void 0:u.bidOpportunities)==null?void 0:_.find(L=>L.bidders&&L.bidders.some(k=>k.id===o.id));return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white border-b relative z-50",children:l.jsxs("div",{className:"container mx-auto p-4 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>f(!h),className:"md:hidden",children:h?l.jsx(Rx,{className:"w-5 h-5"}):l.jsx(Oc,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-2xl font-heading font-bold text-academy-blue mb-4 md:mb-0",children:"Student Dashboard"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:["Welcome, ",o.name]}),l.jsx(ue,{variant:"outline",onClick:v,children:"Logout"})]})]})}),l.jsx(JL,{classes:a,currentClass:u,onSelectClass:m,isCollapsed:h,currentStudent:o}),l.jsx("main",{className:`min-h-[calc(100vh-64px)] transition-all duration-300 ${h?"ml-16":"ml-80"}`,children:l.jsx("div",{className:"container mx-auto p-4 max-w-6xl",children:u?l.jsxs(na,{defaultValue:"overview",className:"space-y-6",children:[l.jsxs(Io,{className:"grid grid-cols-3 mb-6",children:[l.jsx(Qt,{value:"overview",children:"Overview"}),l.jsx(Qt,{value:"opportunities",children:"Opportunities"}),l.jsx(Qt,{value:"profile",children:"Profile"})]}),l.jsx(Xt,{value:"overview",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs(we,{children:[l.jsx($e,{children:l.jsx(Fe,{className:"text-xl font-heading",children:u.className})}),l.jsx(Se,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-academy-blue",children:((C=u.bidOpportunities)==null?void 0:C.length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Opportunities"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:((N=u.bidOpportunities)==null?void 0:N.filter(L=>{const k=new Date,P=new Date(L.date),D=L.bidOpenDate?new Date(L.bidOpenDate):new Date(P.getTime()-7*24*60*60*1e3);return k>=D&&k<P}).length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Open for Bidding"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.tokenStatus)==="used"||(o==null?void 0:o.hasUsedToken)===!0?l.jsx("span",{className:"text-red-600",children:"0"}):l.jsx("span",{className:"text-green-600",children:"1"})}),l.jsx("div",{className:"text-sm text-gray-600",children:"Tokens Available"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((j=u.bidders)==null?void 0:j.filter(L=>L.id===o.id).length)||0}),l.jsx("div",{className:"text-sm text-gray-600",children:"Your Bids"})]})]})})]}),l.jsxs(we,{children:[l.jsx($e,{children:l.jsxs(Fe,{className:"text-lg font-heading flex items-center gap-2",children:[l.jsx(ma,{className:"w-5 h-5"}),"Token Status"]})}),l.jsxs(Se,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Your bidding token:"}),(o==null?void 0:o.tokenStatus)==="used"||(o==null?void 0:o.hasUsedToken)===!0?l.jsx(se,{variant:"secondary",className:"bg-red-100 text-red-800",children:"Token Used"}):l.jsx(se,{className:"bg-academy-blue animate-pulse",children:"Token Available"})]}),y&&(o==null?void 0:o.biddingResult)&&l.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-md",children:[l.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[l.jsx(Ql,{className:"w-4 h-4"}),"Your Bid Status"]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[l.jsx("div",{className:"font-medium",children:"Event"}),l.jsx("div",{className:"font-medium",children:"Status"}),l.jsx("div",{className:"font-medium",children:"Result"}),l.jsx("div",{children:y.title}),l.jsx("div",{children:l.jsx(se,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800",children:"Bid Submitted"})}),l.jsx("div",{children:o.biddingResult==="won"?l.jsx(se,{variant:"default",className:"bg-green-500 text-white text-xs animate-bounce",children:"🎉 Selected"}):o.biddingResult==="lost"?l.jsx(se,{variant:"secondary",className:"bg-red-100 text-red-800 text-xs",children:"Not Selected"}):l.jsx(se,{variant:"outline",className:"bg-yellow-100 text-yellow-800 text-xs animate-pulse",children:"Pending Selection"})})]}),l.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:l.jsxs("div",{className:"text-xs text-gray-600",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Token Status:"}),l.jsx("span",{className:o.tokenStatus==="used"?"text-red-600 font-medium":"text-green-600 font-medium",children:o.tokenStatus==="used"?"Used":"Available"})]}),o.tokensRemaining!==void 0&&l.jsxs("div",{className:"flex justify-between mt-1",children:[l.jsx("span",{children:"Tokens Remaining:"}),l.jsx("span",{className:"font-medium",children:o.tokensRemaining})]})]})})]})]})]}),l.jsxs(we,{children:[l.jsx($e,{children:l.jsxs(Fe,{className:"text-lg font-heading flex items-center gap-2",children:[l.jsx(kx,{className:"w-5 h-5"}),"Recent Opportunities"]})}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3 max-h-72 overflow-y-auto",children:(($=u.bidOpportunities)==null?void 0:$.slice(0,5).map(L=>l.jsxs("div",{className:"p-3 border rounded-md flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:L.title}),l.jsx("div",{className:"text-sm text-muted-foreground",children:Xn(L.date)})]}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx(se,{variant:Dn(L)==="Open for Bidding"?"default":"secondary",className:"mb-1",children:Dn(L)}),L.bidders&&L.bidders.some(k=>k.id===o.id)&&l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("span",{className:"text-xs text-academy-blue font-medium",children:"✓ Bid Submitted"}),o.biddingResult&&o.biddingResult!=="pending"&&l.jsx(se,{variant:o.biddingResult==="won"?"default":"secondary",className:`text-xs ${o.biddingResult==="won"?"bg-green-500 text-white":"bg-red-100 text-red-800"}`,children:o.biddingResult==="won"?"Selected":"Not Selected"})]})]})]},L.id)))||l.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No opportunities available yet"})})})]})]})}),l.jsx(Xt,{value:"opportunities",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsx(XL,{student:o,classConfig:u,onBidSubmitted:x}),l.jsxs(we,{children:[l.jsxs($e,{children:[l.jsx(Fe,{className:"text-lg font-heading",children:"All Opportunities"}),l.jsx(Qo,{children:"Complete list of bidding opportunities for this class"})]}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:((B=u.bidOpportunities)==null?void 0:B.map(L=>l.jsxs("div",{className:"p-4 border rounded-md",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"font-medium",children:L.title}),l.jsx(se,{variant:Dn(L)==="Open for Bidding"?"default":"secondary",children:Dn(L)})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:L.description}),l.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[l.jsxs("span",{children:["Event: ",Xn(L.date)]}),l.jsxs("span",{children:["Capacity: ",L.capacity||u.capacity," students"]})]}),L.bidders&&L.bidders.some(k=>k.id===o.id)&&l.jsx("div",{className:"mt-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(se,{variant:"outline",className:"text-xs bg-blue-100 text-blue-800",children:"Bid Submitted"}),o.biddingResult&&o.biddingResult!=="pending"&&l.jsx(se,{variant:o.biddingResult==="won"?"default":"secondary",className:`text-xs ${o.biddingResult==="won"?"bg-green-500 text-white":"bg-red-100 text-red-800"}`,children:o.biddingResult==="won"?"🎉 Selected":"Not Selected"})]})})]},L.id)))||l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No opportunities available yet"})})})]})]})}),l.jsx(Xt,{value:"profile",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(we,{children:[l.jsx($e,{children:l.jsx(Fe,{className:"text-lg font-heading",children:"Your Information"})}),l.jsx(Se,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Name:"}),l.jsx("div",{className:"col-span-2 font-medium",children:o.name})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Email:"}),l.jsx("div",{className:"col-span-2",children:o.email})]}),o.studentNumber&&l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Student Number:"}),l.jsx("div",{className:"col-span-2",children:o.studentNumber})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Classes Enrolled:"}),l.jsx("div",{className:"col-span-2",children:a.length})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[l.jsx("div",{className:"text-sm text-muted-foreground",children:"Token Status:"}),l.jsx("div",{className:"col-span-2",children:l.jsx(se,{variant:(o==null?void 0:o.tokenStatus)==="used"?"secondary":"default",className:`text-xs ${(o==null?void 0:o.tokenStatus)==="used"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:(o==null?void 0:o.tokenStatus)==="used"?"Token Used":"Token Available"})})]})]})})]}),l.jsxs(we,{children:[l.jsx($e,{children:l.jsx(Fe,{className:"text-lg font-heading",children:"Class Summary"})}),l.jsx(Se,{children:l.jsx("div",{className:"space-y-4",children:a.map(L=>{var P,D;const k=L.students.find(W=>W.id===o.id);return l.jsxs("div",{className:"p-3 border rounded-md",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("h4",{className:"font-medium",children:L.className}),l.jsx(se,{variant:(k==null?void 0:k.tokenStatus)==="used"||(k==null?void 0:k.hasUsedToken)===!0?"secondary":"default",children:(k==null?void 0:k.tokenStatus)==="used"||(k==null?void 0:k.hasUsedToken)===!0?"Token Used":"Token Available"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[((P=L.bidOpportunities)==null?void 0:P.length)||0," opportunities •",((D=L.bidders)==null?void 0:D.filter(W=>W.id===o.id).length)||0," bids placed",(k==null?void 0:k.biddingResult)&&k.biddingResult!=="pending"&&l.jsxs("span",{className:`ml-2 font-medium ${k.biddingResult==="won"?"text-green-600":"text-red-600"}`,children:["• ",k.biddingResult==="won"?"Selected":"Not Selected"]})]})]},L.id)})})})]})]})})]}):l.jsx(we,{children:l.jsxs(Se,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-xl mb-4",children:"No Class Selected"}),l.jsx("p",{className:"text-muted-foreground",children:"Select a class from the sidebar to view its details and opportunities."})]})})})})]})},ZL=()=>{const[e,t]=p.useState(!1),[n,r]=p.useState(!1),[s,o]=p.useState(null),[i,a]=p.useState(null),[c,u]=p.useState([]),[d,h]=p.useState("dashboard"),[f,g]=p.useState(!0),[w,m]=p.useState(!1),[x,v]=p.useState(!1),[y,b]=p.useState(""),[S,_]=p.useState(!1),{toast:C}=Vt();p.useEffect(()=>{(async()=>{try{g(!0);const R=await Oi();u(R);const A=localStorage.getItem("currentClassId");if(A){const I=R.find(q=>q.id===A);I?a(I):localStorage.removeItem("currentClassId")}else R.length>0&&a(R[0])}catch(R){console.error("Error loading classes:",R);try{console.log("Attempting to load from localStorage as fallback");const A=localStorage.getItem("classData");if(A){const I=JSON.parse(A);u(I);const q=localStorage.getItem("currentClassId");if(q){const ce=I.find(re=>re.id===q);ce&&a(ce)}else I.length>0&&a(I[0]);C({title:"Working offline",description:"Using locally stored data. Some features may be limited.",variant:"default"})}else C({title:"No data available",description:"Please ensure Supabase is configured or create a new class to get started.",variant:"destructive"})}catch(A){console.error("Error loading from localStorage:",A),C({title:"Error loading data",description:"Failed to load classes from database and local storage. Please check your connection.",variant:"destructive"})}}finally{g(!1)}})()},[C]),p.useEffect(()=>{i?localStorage.setItem("currentClassId",i.id):localStorage.removeItem("currentClassId")},[i]);const N=T=>{T&&t(!0)},j=()=>{t(!1),r(!1),o(null),a(null)},$=T=>{const R=c.find(A=>A.id===T);R&&a(R)},B=()=>{v(!0)},L=async()=>{if(!y){C({title:"Missing information",description:"Please provide a class name",variant:"destructive"});return}_(!0);try{const T=await $M({name:y,rewardTitle:"Bidding Opportunities",capacity:7}),R=[...c,T];u(R),a(T),v(!1),b(""),C({title:"Class created successfully",description:`Class "${y}" has been created and saved to the database`})}catch(T){console.error("Error creating class:",T),C({title:"Failed to create class",description:T instanceof Error?T.message:"An unexpected error occurred",variant:"destructive"})}finally{_(!1)}},k=T=>{if(!i)return;const R={...i,students:T},A=c.map(I=>I.id===i.id?R:I);u(A),a(R),localStorage.setItem("classData",JSON.stringify(A))},P=async(T,R)=>{if(i){console.log("=== HANDLING SELECTION COMPLETE ==="),console.log("Selected students:",T),console.log("Opportunity ID:",R);try{const A=await Oi();u(A);const I=A.find(q=>q.id===i.id);I&&a(I),localStorage.setItem("classData",JSON.stringify(A)),T.length>0?C({title:"Selection saved",description:`${T.length} student${T.length!==1?"s have":" has"} been selected and results are now visible to students.`}):C({title:"Selection reset",description:"All selections have been cleared and student results reset."})}catch(A){console.error("Error refreshing classes after selection:",A),C({title:"Error updating display",description:"Selection was processed but failed to refresh display. Please refresh the page.",variant:"destructive"})}}},D=async(T,R)=>{if(i)try{await HS(T,{title:R.title,description:R.description,event_date:R.date,opens_at:R.bidOpenDate,closes_at:R.date,capacity:R.capacity});const A=i.bidOpportunities.map(ce=>ce.id===T?R:ce),I={...i,bidOpportunities:A},q=c.map(ce=>ce.id===i.id?I:ce);u(q),a(I),localStorage.setItem("classData",JSON.stringify(q)),C({title:"Opportunity updated successfully",description:"The bidding opportunity has been saved to the database."})}catch(A){console.error("Error updating opportunity:",A),C({title:"Failed to update opportunity",description:A instanceof Error?A.message:"An unexpected error occurred",variant:"destructive"})}},W=T=>{if(!i)return;const R={...i,bidOpportunities:[...i.bidOpportunities,T]},A=c.map(I=>I.id===i.id?R:I);u(A),a(R),localStorage.setItem("classData",JSON.stringify(A))},U=T=>{if(!i)return;const R=i.bidOpportunities.filter(q=>q.id!==T),A={...i,bidOpportunities:R},I=c.map(q=>q.id===i.id?A:q);u(I),a(A),localStorage.setItem("classData",JSON.stringify(I))},M=async(T,R,A)=>{if(!(!i||!s))try{const I=await Oi(),q=I.find(ce=>ce.id===i.id);if(q){const ce=q.students.map(Z=>Z.id===R.id?R:Z),re=q.bidOpportunities.map(Z=>{if(Z.id===A){const ze=Z.bidders.some(z=>z.id===R.id)?Z.bidders:[...Z.bidders,R];return{...Z,bidders:ze}}return Z}),de=q.bidders.some(Z=>Z.id===R.id)?q.bidders:[...q.bidders,R],ye={...q,students:ce,bidders:de,bidOpportunities:re},J=I.map(Z=>Z.id===i.id?ye:Z);u(J),a(ye),o(R),localStorage.setItem("classData",JSON.stringify(J))}}catch(I){console.error("Error refreshing class data after bid:",I);const q=i.students.map(J=>J.id===R.id?R:J),ce=i.bidOpportunities.map(J=>{if(J.id===A){const fe=J.bidders.some(ze=>ze.id===R.id)?J.bidders:[...J.bidders,R];return{...J,bidders:fe}}return J}),X=i.bidders.some(J=>J.id===R.id)?i.bidders:[...i.bidders,R],de={...i,students:q,bidders:X,bidOpportunities:ce},ye=c.map(J=>J.id===i.id?de:J);u(ye),a(de),localStorage.setItem("classData",JSON.stringify(ye))}},E=async T=>{const R=c.find(I=>I.id===T);if(!R){console.log("=== CLASS NOT FOUND IN LOCAL STATE ==="),console.log("Class ID:",T),console.log("Available classes:",c.map(I=>({id:I.id,name:I.className}))),C({title:"Class not found",description:"The class to delete could not be found",variant:"destructive"});return}if(console.log("=== SHOWING CONFIRMATION DIALOG ==="),console.log("Class to delete:",{id:R.id,name:R.className}),!window.confirm(`Are you sure you want to delete "${R.className}"? This action cannot be undone and will remove all associated data including students, bids, and opportunities.`)){console.log("=== USER CANCELLED DELETION ===");return}console.log("=== USER CONFIRMED DELETION ==="),console.log("Starting deletion process for class:",T);try{console.log("=== CALLING deleteClassAtomic FUNCTION ===");const I=await FM(T);if(console.log("=== deleteClassAtomic RESULT ==="),console.log("Result:",I),I.success){console.log("=== DELETION SUCCESSFUL - UPDATING UI ===");const q=c.filter(ce=>ce.id!==T);console.log("Updated classes count:",q.length),u(q),i&&i.id===T&&(console.log("=== DELETED CURRENT CLASS - SELECTING NEW ONE ==="),a(q.length>0?q[0]:null)),localStorage.setItem("classData",JSON.stringify(q)),C({title:"Class deleted successfully",description:`${I.className} and ${Object.values(I.deletedRecords).reduce((ce,re)=>ce+re,0)} related records have been removed`})}else console.log("=== DELETION FAILED ==="),console.log("Error:",I.error),C({title:"Class deletion failed",description:I.error||"Failed to delete the class and its associated data.",variant:"destructive"})}catch(I){console.error("=== UNEXPECTED ERROR DURING CLASS DELETION ==="),console.error("Error type:",typeof I),console.error("Error message:",I instanceof Error?I.message:I),console.error("Full error object:",I),C({title:"Class deletion failed",description:I instanceof Error?I.message:"An unexpected error occurred",variant:"destructive"})}finally{console.log("=== CLASS DELETION PROCESS COMPLETED ===")}},O=async(T,R)=>{try{await zM(T,{password:R});const A=c.map(I=>I.id===T?{...I,password:R}:I);u(A),i&&i.id===T&&a({...i,password:R}),C({title:"Password updated successfully",description:"The class password has been updated in the database"})}catch(A){console.error("Error updating password:",A),C({title:"Failed to update password",description:A instanceof Error?A.message:"An unexpected error occurred",variant:"destructive"})}};return f?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(rt,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-heading font-semibold mb-2",children:"Loading..."}),l.jsx("p",{className:"text-muted-foreground",children:"Fetching data from database"})]})}):e?l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("header",{className:"bg-white border-b relative z-50",children:l.jsxs("div",{className:"container mx-auto p-4 flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>m(!w),className:"md:hidden",children:w?l.jsx(Rx,{className:"w-5 h-5"}):l.jsx(Oc,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-2xl font-heading font-bold text-academy-blue mb-4 md:mb-0",children:"Student Bidding System - Admin"})]}),l.jsx(ue,{variant:"outline",onClick:j,children:"Logout"})]})}),l.jsx(IA,{classes:c,currentClass:i,onSelectClass:$,onCreateClass:B,isCollapsed:w}),l.jsx("main",{className:`min-h-[calc(100vh-64px)] transition-all duration-300 ${w?"ml-16":"ml-80"}`,children:l.jsx("div",{className:"container mx-auto p-4",children:l.jsxs(na,{value:d,onValueChange:h,children:[l.jsxs(Io,{className:"grid grid-cols-3 mb-6",children:[l.jsx(Qt,{value:"dashboard",children:"Dashboard"}),l.jsx(Qt,{value:"students",children:"Students"}),l.jsx(Qt,{value:"selection",children:"Selection"})]}),l.jsx(Xt,{value:"dashboard",children:l.jsx(GM,{classes:c,currentClass:i,onSelectClass:$,onCreateClass:B,onUpdateOpportunity:D,onRemoveClass:E,onChangePassword:O,onOpportunityCreated:W,onOpportunityDeleted:U})}),l.jsx(Xt,{value:"students",children:l.jsx(pL,{currentClass:i,onUpdateStudents:k})}),l.jsx(Xt,{value:"selection",children:l.jsx(YL,{currentClass:i,onSelectionComplete:P})})]})})}),l.jsx(vp,{open:x,onOpenChange:v,children:l.jsxs(Qc,{children:[l.jsxs(Xc,{children:[l.jsx(Zc,{children:"Create New Class"}),l.jsx(eu,{children:"Enter the class name to create a new class."})]}),l.jsx("div",{className:"space-y-4 py-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx(ke,{htmlFor:"className",children:"Class Name"}),l.jsx(rn,{id:"className",value:y,onChange:T=>b(T.target.value),placeholder:"e.g., Economics 101",disabled:S})]})}),l.jsxs(Jc,{children:[l.jsx(ue,{variant:"outline",onClick:()=>v(!1),disabled:S,children:"Cancel"}),l.jsx(ue,{onClick:L,disabled:S,children:S?l.jsxs(l.Fragment,{children:[l.jsx(rt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Class"})]})]})})]}):n&&s&&i?l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsx(L1,{student:s,classConfig:i,onBidSubmitted:M,onLogout:j})}):l.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[l.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-4xl",children:[l.jsx("div",{className:"text-center mb-8",children:l.jsx("h1",{className:"text-3xl md:text-4xl font-heading font-bold text-academy-blue mb-3",children:"Student Bidding System"})}),l.jsxs(na,{defaultValue:"student",className:"w-full",children:[l.jsxs(Io,{className:"grid grid-cols-2 mb-8",children:[l.jsx(Qt,{value:"student",children:"Student Login"}),l.jsx(Qt,{value:"admin",children:"Admin Login"})]}),l.jsx(Xt,{value:"student",className:"flex justify-center",children:l.jsx(wA,{classes:c,onLogin:()=>{}})}),l.jsx(Xt,{value:"admin",className:"flex justify-center",children:l.jsx(QR,{onLogin:N})})]})]})}),l.jsx("footer",{className:"border-t bg-white py-4 text-center text-sm text-muted-foreground",children:l.jsx("div",{className:"container mx-auto",children:"Student Bidding System"})})]})},e4=()=>{const e=Hc();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},t4=new PT,n4=()=>l.jsx(OT,{client:t4,children:l.jsxs(aT,{children:[l.jsx(oj,{}),l.jsx(Aj,{}),l.jsx(EP,{children:l.jsxs(bP,{children:[l.jsx(bl,{path:"/",element:l.jsx(ZL,{})}),l.jsx(bl,{path:"/student",element:l.jsx(L1,{})}),l.jsx(bl,{path:"*",element:l.jsx(e4,{})})]})})]})});Z0(document.getElementById("root")).render(l.jsx(n4,{}));
